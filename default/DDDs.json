{
  "externalControllerServices" : { },
  "flow" : {
    "createdTimestamp" : 1733422941841,
    "description" : "",
    "identifier" : "DDDs",
    "lastModifiedTimestamp" : 1733422941841,
    "name" : "DDD's",
    "versionCount" : 0
  },
  "flowContents" : {
    "comments" : "",
    "componentType" : "PROCESS_GROUP",
    "connections" : [ {
      "backPressureDataSizeThreshold" : "1 GB",
      "backPressureObjectThreshold" : 10000,
      "bends" : [ ],
      "componentType" : "CONNECTION",
      "destination" : {
        "comments" : "",
        "groupId" : "flow-contents-group",
        "id" : "711f0acd-c9cd-323c-97db-7aa354619835",
        "name" : "Funnel",
        "type" : "FUNNEL"
      },
      "flowFileExpiration" : "0 sec",
      "groupIdentifier" : "flow-contents-group",
      "identifier" : "f75f70cc-d14e-37d8-a125-1ce4afcf9373",
      "labelIndex" : 0,
      "loadBalanceCompression" : "DO_NOT_COMPRESS",
      "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
      "name" : "",
      "partitioningAttribute" : "",
      "prioritizers" : [ ],
      "selectedRelationships" : [ "_IS_PRODUCT" ],
      "source" : {
        "comments" : "",
        "groupId" : "flow-contents-group",
        "id" : "345dbe7c-02d7-3ad0-b215-fb57807c88d7",
        "name" : "APENAS MEDICAMENTOS ?",
        "type" : "PROCESSOR"
      },
      "zIndex" : 0
    }, {
      "backPressureDataSizeThreshold" : "1 GB",
      "backPressureObjectThreshold" : 10000,
      "bends" : [ ],
      "componentType" : "CONNECTION",
      "destination" : {
        "comments" : "",
        "groupId" : "flow-contents-group",
        "id" : "cde04409-f32e-32f7-bf4e-6b0248e6603d",
        "name" : "Funnel",
        "type" : "FUNNEL"
      },
      "flowFileExpiration" : "0 sec",
      "groupIdentifier" : "flow-contents-group",
      "identifier" : "b8763c38-2d3a-3815-b348-67f7ef7cb047",
      "labelIndex" : 0,
      "loadBalanceCompression" : "DO_NOT_COMPRESS",
      "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
      "name" : "",
      "partitioningAttribute" : "",
      "prioritizers" : [ ],
      "selectedRelationships" : [ "matched" ],
      "source" : {
        "comments" : "",
        "groupId" : "flow-contents-group",
        "id" : "8586105a-b30c-3177-bdc2-bce3df1b6e3c",
        "name" : "num_subs > 1 (meds complexo ?)",
        "type" : "PROCESSOR"
      },
      "zIndex" : 0
    }, {
      "backPressureDataSizeThreshold" : "1 GB",
      "backPressureObjectThreshold" : 10000,
      "bends" : [ ],
      "componentType" : "CONNECTION",
      "destination" : {
        "comments" : "",
        "groupId" : "flow-contents-group",
        "id" : "8586105a-b30c-3177-bdc2-bce3df1b6e3c",
        "name" : "num_subs > 1 (meds complexo ?)",
        "type" : "PROCESSOR"
      },
      "flowFileExpiration" : "0 sec",
      "groupIdentifier" : "flow-contents-group",
      "identifier" : "ab8b401a-3c8b-337b-9f40-ab3c1a1469ef",
      "labelIndex" : 0,
      "loadBalanceCompression" : "DO_NOT_COMPRESS",
      "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
      "name" : "",
      "partitioningAttribute" : "",
      "prioritizers" : [ ],
      "selectedRelationships" : [ "success" ],
      "source" : {
        "comments" : "",
        "groupId" : "flow-contents-group",
        "id" : "e68047cf-e056-3ae3-bb40-3bacc82f4da2",
        "name" : "_IS_PRODUCT = true",
        "type" : "PROCESSOR"
      },
      "zIndex" : 0
    }, {
      "backPressureDataSizeThreshold" : "1 GB",
      "backPressureObjectThreshold" : 10000,
      "bends" : [ ],
      "componentType" : "CONNECTION",
      "destination" : {
        "comments" : "",
        "groupId" : "flow-contents-group",
        "id" : "7005e6e2-da81-333d-ab0e-73ebdc924ac8",
        "name" : "Agrupa por combinação",
        "type" : "PROCESSOR"
      },
      "flowFileExpiration" : "0 sec",
      "groupIdentifier" : "flow-contents-group",
      "identifier" : "06e5c3f3-5592-3cd8-a2a5-f1bdef519b41",
      "labelIndex" : 0,
      "loadBalanceCompression" : "DO_NOT_COMPRESS",
      "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
      "name" : "",
      "partitioningAttribute" : "",
      "prioritizers" : [ ],
      "selectedRelationships" : [ "success" ],
      "source" : {
        "comments" : "",
        "groupId" : "flow-contents-group",
        "id" : "2ea8702a-e278-3e88-98f5-fdd4e0c237d5",
        "name" : "subs_ddd_dcd",
        "type" : "PROCESSOR"
      },
      "zIndex" : 0
    }, {
      "backPressureDataSizeThreshold" : "1 GB",
      "backPressureObjectThreshold" : 10000,
      "bends" : [ ],
      "componentType" : "CONNECTION",
      "destination" : {
        "comments" : "",
        "groupId" : "flow-contents-group",
        "id" : "151181f0-f063-385d-80f4-64150b9332da",
        "name" : "Funnel",
        "type" : "FUNNEL"
      },
      "flowFileExpiration" : "0 sec",
      "groupIdentifier" : "flow-contents-group",
      "identifier" : "0b35a434-a29c-3ef8-84eb-965e5717e9be",
      "labelIndex" : 0,
      "loadBalanceCompression" : "DO_NOT_COMPRESS",
      "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
      "name" : "",
      "partitioningAttribute" : "",
      "prioritizers" : [ ],
      "selectedRelationships" : [ "original" ],
      "source" : {
        "comments" : "",
        "groupId" : "flow-contents-group",
        "id" : "3094cd53-f498-37e1-bdc3-fec343678e19",
        "name" : "SplitJson",
        "type" : "PROCESSOR"
      },
      "zIndex" : 0
    }, {
      "backPressureDataSizeThreshold" : "1 GB",
      "backPressureObjectThreshold" : 10000,
      "bends" : [ ],
      "componentType" : "CONNECTION",
      "destination" : {
        "comments" : "",
        "groupId" : "flow-contents-group",
        "id" : "d8a8901c-c83f-3192-b7cc-3bf231c47db8",
        "name" : "Funnel",
        "type" : "FUNNEL"
      },
      "flowFileExpiration" : "0 sec",
      "groupIdentifier" : "flow-contents-group",
      "identifier" : "36578dbc-1070-3388-a7a7-96865866c4a9",
      "labelIndex" : 0,
      "loadBalanceCompression" : "DO_NOT_COMPRESS",
      "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
      "name" : "",
      "partitioningAttribute" : "",
      "prioritizers" : [ ],
      "selectedRelationships" : [ "" ],
      "source" : {
        "comments" : "",
        "groupId" : "flow-contents-group",
        "id" : "9b3e6dbe-4155-355f-8e5f-2e1fbec82ba1",
        "name" : "Funnel",
        "type" : "FUNNEL"
      },
      "zIndex" : 0
    }, {
      "backPressureDataSizeThreshold" : "1 GB",
      "backPressureObjectThreshold" : 10000,
      "bends" : [ ],
      "componentType" : "CONNECTION",
      "destination" : {
        "comments" : "",
        "groupId" : "flow-contents-group",
        "id" : "2175886a-e1fa-3252-87f1-ea73e6c0f084",
        "name" : "Funnel",
        "type" : "FUNNEL"
      },
      "flowFileExpiration" : "0 sec",
      "groupIdentifier" : "flow-contents-group",
      "identifier" : "aff6272e-6971-3e40-b4db-192de9d6a498",
      "labelIndex" : 0,
      "loadBalanceCompression" : "DO_NOT_COMPRESS",
      "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
      "name" : "",
      "partitioningAttribute" : "",
      "prioritizers" : [ ],
      "selectedRelationships" : [ "original" ],
      "source" : {
        "comments" : "",
        "groupId" : "flow-contents-group",
        "id" : "34113e28-9bc4-39ff-9db6-fa42f2d16d9f",
        "name" : "SplitJson",
        "type" : "PROCESSOR"
      },
      "zIndex" : 0
    }, {
      "backPressureDataSizeThreshold" : "1 GB",
      "backPressureObjectThreshold" : 10000,
      "bends" : [ ],
      "componentType" : "CONNECTION",
      "destination" : {
        "comments" : "",
        "groupId" : "flow-contents-group",
        "id" : "34113e28-9bc4-39ff-9db6-fa42f2d16d9f",
        "name" : "SplitJson",
        "type" : "PROCESSOR"
      },
      "flowFileExpiration" : "0 sec",
      "groupIdentifier" : "flow-contents-group",
      "identifier" : "3a951552-5bb0-3787-b497-7889aa39ed51",
      "labelIndex" : 0,
      "loadBalanceCompression" : "DO_NOT_COMPRESS",
      "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
      "name" : "",
      "partitioningAttribute" : "",
      "prioritizers" : [ ],
      "selectedRelationships" : [ "success" ],
      "source" : {
        "comments" : "",
        "groupId" : "flow-contents-group",
        "id" : "7005e6e2-da81-333d-ab0e-73ebdc924ac8",
        "name" : "Agrupa por combinação",
        "type" : "PROCESSOR"
      },
      "zIndex" : 0
    }, {
      "backPressureDataSizeThreshold" : "1 GB",
      "backPressureObjectThreshold" : 10000,
      "bends" : [ ],
      "componentType" : "CONNECTION",
      "destination" : {
        "comments" : "",
        "groupId" : "flow-contents-group",
        "id" : "cda0c52a-cdbe-3dd7-968f-8d76ed49085b",
        "name" : "Funnel",
        "type" : "FUNNEL"
      },
      "flowFileExpiration" : "0 sec",
      "groupIdentifier" : "flow-contents-group",
      "identifier" : "fea3aee1-b29d-3eca-9a2f-df28c862e0ed",
      "labelIndex" : 0,
      "loadBalanceCompression" : "DO_NOT_COMPRESS",
      "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
      "name" : "",
      "partitioningAttribute" : "",
      "prioritizers" : [ ],
      "selectedRelationships" : [ "merged" ],
      "source" : {
        "comments" : "",
        "groupId" : "flow-contents-group",
        "id" : "68f303b9-7844-3934-9bb1-1dd9774e4f5b",
        "name" : "Merge_Medicamentos",
        "type" : "PROCESSOR"
      },
      "zIndex" : 0
    }, {
      "backPressureDataSizeThreshold" : "1 GB",
      "backPressureObjectThreshold" : 10000,
      "bends" : [ ],
      "componentType" : "CONNECTION",
      "destination" : {
        "comments" : "",
        "groupId" : "flow-contents-group",
        "id" : "cde04409-f32e-32f7-bf4e-6b0248e6603d",
        "name" : "Funnel",
        "type" : "FUNNEL"
      },
      "flowFileExpiration" : "0 sec",
      "groupIdentifier" : "flow-contents-group",
      "identifier" : "0e3b70a0-6ef5-3b54-833e-95047f133394",
      "labelIndex" : 0,
      "loadBalanceCompression" : "DO_NOT_COMPRESS",
      "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
      "name" : "",
      "partitioningAttribute" : "",
      "prioritizers" : [ ],
      "selectedRelationships" : [ "matched" ],
      "source" : {
        "comments" : "",
        "groupId" : "flow-contents-group",
        "id" : "762de0f6-72cf-3f2e-b71d-2344cb274b0e",
        "name" : "num_subs > 1 (comp complexo ?)",
        "type" : "PROCESSOR"
      },
      "zIndex" : 0
    }, {
      "backPressureDataSizeThreshold" : "1 GB",
      "backPressureObjectThreshold" : 10000,
      "bends" : [ ],
      "componentType" : "CONNECTION",
      "destination" : {
        "comments" : "",
        "groupId" : "flow-contents-group",
        "id" : "4d214c76-cadf-3fac-9b11-54a0b7749fd5",
        "name" : "ForkEnrichment",
        "type" : "PROCESSOR"
      },
      "flowFileExpiration" : "0 sec",
      "groupIdentifier" : "flow-contents-group",
      "identifier" : "0eaf5df0-6ee9-3969-9d0e-dbe3e14adbd2",
      "labelIndex" : 0,
      "loadBalanceCompression" : "DO_NOT_COMPRESS",
      "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
      "name" : "",
      "partitioningAttribute" : "",
      "prioritizers" : [ ],
      "selectedRelationships" : [ "matched" ],
      "source" : {
        "comments" : "",
        "groupId" : "flow-contents-group",
        "id" : "d78fdc5f-6902-34d4-80ea-449e902bbdea",
        "name" : "Extrair atributos",
        "type" : "PROCESSOR"
      },
      "zIndex" : 0
    }, {
      "backPressureDataSizeThreshold" : "1 GB",
      "backPressureObjectThreshold" : 10000,
      "bends" : [ ],
      "componentType" : "CONNECTION",
      "destination" : {
        "comments" : "",
        "groupId" : "flow-contents-group",
        "id" : "68f303b9-7844-3934-9bb1-1dd9774e4f5b",
        "name" : "Merge_Medicamentos",
        "type" : "PROCESSOR"
      },
      "flowFileExpiration" : "0 sec",
      "groupIdentifier" : "flow-contents-group",
      "identifier" : "fa23e84d-4252-3965-a7f6-59cd22bac655",
      "labelIndex" : 0,
      "loadBalanceCompression" : "DO_NOT_COMPRESS",
      "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
      "name" : "",
      "partitioningAttribute" : "",
      "prioritizers" : [ ],
      "selectedRelationships" : [ "" ],
      "source" : {
        "comments" : "",
        "groupId" : "flow-contents-group",
        "id" : "b6edf885-b0a1-3dbd-9bd5-05672232c96b",
        "name" : "Funnel",
        "type" : "FUNNEL"
      },
      "zIndex" : 0
    }, {
      "backPressureDataSizeThreshold" : "1 GB",
      "backPressureObjectThreshold" : 10000,
      "bends" : [ ],
      "componentType" : "CONNECTION",
      "destination" : {
        "comments" : "",
        "groupId" : "flow-contents-group",
        "id" : "3094cd53-f498-37e1-bdc3-fec343678e19",
        "name" : "SplitJson",
        "type" : "PROCESSOR"
      },
      "flowFileExpiration" : "0 sec",
      "groupIdentifier" : "flow-contents-group",
      "identifier" : "d41b2cde-c150-3db0-a8dd-fb01402ff347",
      "labelIndex" : 0,
      "loadBalanceCompression" : "DO_NOT_COMPRESS",
      "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
      "name" : "",
      "partitioningAttribute" : "",
      "prioritizers" : [ ],
      "selectedRelationships" : [ "success" ],
      "source" : {
        "comments" : "",
        "groupId" : "flow-contents-group",
        "id" : "a6841abb-af2a-3684-845c-a2bce6a26bd8",
        "name" : "Agrupa medicamentos",
        "type" : "PROCESSOR"
      },
      "zIndex" : 0
    }, {
      "backPressureDataSizeThreshold" : "1 GB",
      "backPressureObjectThreshold" : 10000,
      "bends" : [ ],
      "componentType" : "CONNECTION",
      "destination" : {
        "comments" : "",
        "groupId" : "flow-contents-group",
        "id" : "301a4565-f52e-31a6-95a5-4b77556e1305",
        "name" : "_IS_PRODUCT = false",
        "type" : "PROCESSOR"
      },
      "flowFileExpiration" : "0 sec",
      "groupIdentifier" : "flow-contents-group",
      "identifier" : "73ba75a4-6860-3251-8513-95b37266b9ea",
      "labelIndex" : 0,
      "loadBalanceCompression" : "DO_NOT_COMPRESS",
      "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
      "name" : "",
      "partitioningAttribute" : "",
      "prioritizers" : [ ],
      "selectedRelationships" : [ "enrichment" ],
      "source" : {
        "comments" : "",
        "groupId" : "flow-contents-group",
        "id" : "46280764-eba7-3f33-a15b-2b02c6edbe39",
        "name" : "ForkEnrichment",
        "type" : "PROCESSOR"
      },
      "zIndex" : 0
    }, {
      "backPressureDataSizeThreshold" : "1 GB",
      "backPressureObjectThreshold" : 10000,
      "bends" : [ ],
      "componentType" : "CONNECTION",
      "destination" : {
        "comments" : "",
        "groupId" : "flow-contents-group",
        "id" : "95f56f3b-f1e9-3f30-92d0-a3ccc86983e1",
        "name" : "Funnel",
        "type" : "FUNNEL"
      },
      "flowFileExpiration" : "0 sec",
      "groupIdentifier" : "flow-contents-group",
      "identifier" : "aac2f977-91b8-3821-99e1-b4c82d510c73",
      "labelIndex" : 0,
      "loadBalanceCompression" : "DO_NOT_COMPRESS",
      "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
      "name" : "",
      "partitioningAttribute" : "",
      "prioritizers" : [ ],
      "selectedRelationships" : [ "unmatched" ],
      "source" : {
        "comments" : "",
        "groupId" : "flow-contents-group",
        "id" : "762de0f6-72cf-3f2e-b71d-2344cb274b0e",
        "name" : "num_subs > 1 (comp complexo ?)",
        "type" : "PROCESSOR"
      },
      "zIndex" : 0
    }, {
      "backPressureDataSizeThreshold" : "1 GB",
      "backPressureObjectThreshold" : 10000,
      "bends" : [ ],
      "componentType" : "CONNECTION",
      "destination" : {
        "comments" : "",
        "groupId" : "flow-contents-group",
        "id" : "535f45e5-9119-344f-92e1-fb3dcf2c20c1",
        "name" : "SplitJson",
        "type" : "PROCESSOR"
      },
      "flowFileExpiration" : "0 sec",
      "groupIdentifier" : "flow-contents-group",
      "identifier" : "d159a255-1218-3afb-8e54-8e4614a541ce",
      "labelIndex" : 0,
      "loadBalanceCompression" : "DO_NOT_COMPRESS",
      "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
      "name" : "",
      "partitioningAttribute" : "",
      "prioritizers" : [ ],
      "selectedRelationships" : [ "" ],
      "source" : {
        "comments" : "",
        "groupId" : "flow-contents-group",
        "id" : "711f0acd-c9cd-323c-97db-7aa354619835",
        "name" : "Funnel",
        "type" : "FUNNEL"
      },
      "zIndex" : 0
    }, {
      "backPressureDataSizeThreshold" : "1 GB",
      "backPressureObjectThreshold" : 10000,
      "bends" : [ ],
      "componentType" : "CONNECTION",
      "destination" : {
        "comments" : "",
        "groupId" : "flow-contents-group",
        "id" : "d5ca1039-2ba4-3a0a-bc12-11d4f11719e0",
        "name" : "NÃO É UM MEDICAMENTO ? ",
        "type" : "PROCESSOR"
      },
      "flowFileExpiration" : "0 sec",
      "groupIdentifier" : "flow-contents-group",
      "identifier" : "40ba991e-055d-33c1-8e42-3fc02a26531b",
      "labelIndex" : 0,
      "loadBalanceCompression" : "DO_NOT_COMPRESS",
      "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
      "name" : "",
      "partitioningAttribute" : "",
      "prioritizers" : [ ],
      "selectedRelationships" : [ "" ],
      "source" : {
        "comments" : "",
        "groupId" : "flow-contents-group",
        "id" : "89358ece-737c-31f9-948d-34d5af91b153",
        "name" : "Funnel",
        "type" : "FUNNEL"
      },
      "zIndex" : 0
    }, {
      "backPressureDataSizeThreshold" : "1 GB",
      "backPressureObjectThreshold" : 10000,
      "bends" : [ ],
      "componentType" : "CONNECTION",
      "destination" : {
        "comments" : "",
        "groupId" : "flow-contents-group",
        "id" : "f279c430-e078-32f8-bf8c-7b996eab8da3",
        "name" : "Funnel",
        "type" : "FUNNEL"
      },
      "flowFileExpiration" : "0 sec",
      "groupIdentifier" : "flow-contents-group",
      "identifier" : "c5bad506-3511-3b44-ae00-7aa9dfdb913f",
      "labelIndex" : 0,
      "loadBalanceCompression" : "DO_NOT_COMPRESS",
      "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
      "name" : "",
      "partitioningAttribute" : "",
      "prioritizers" : [ ],
      "selectedRelationships" : [ "split" ],
      "source" : {
        "comments" : "",
        "groupId" : "flow-contents-group",
        "id" : "535f45e5-9119-344f-92e1-fb3dcf2c20c1",
        "name" : "SplitJson",
        "type" : "PROCESSOR"
      },
      "zIndex" : 0
    }, {
      "backPressureDataSizeThreshold" : "1 GB",
      "backPressureObjectThreshold" : 10000,
      "bends" : [ ],
      "componentType" : "CONNECTION",
      "destination" : {
        "comments" : "",
        "groupId" : "flow-contents-group",
        "id" : "e68047cf-e056-3ae3-bb40-3bacc82f4da2",
        "name" : "_IS_PRODUCT = true",
        "type" : "PROCESSOR"
      },
      "flowFileExpiration" : "0 sec",
      "groupIdentifier" : "flow-contents-group",
      "identifier" : "27e55b41-0af9-3cfc-b097-a409af1f9351",
      "labelIndex" : 0,
      "loadBalanceCompression" : "DO_NOT_COMPRESS",
      "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
      "name" : "",
      "partitioningAttribute" : "",
      "prioritizers" : [ ],
      "selectedRelationships" : [ "original" ],
      "source" : {
        "comments" : "",
        "groupId" : "flow-contents-group",
        "id" : "4d214c76-cadf-3fac-9b11-54a0b7749fd5",
        "name" : "ForkEnrichment",
        "type" : "PROCESSOR"
      },
      "zIndex" : 0
    }, {
      "backPressureDataSizeThreshold" : "1 GB",
      "backPressureObjectThreshold" : 10000,
      "bends" : [ ],
      "componentType" : "CONNECTION",
      "destination" : {
        "comments" : "",
        "groupId" : "flow-contents-group",
        "id" : "89358ece-737c-31f9-948d-34d5af91b153",
        "name" : "Funnel",
        "type" : "FUNNEL"
      },
      "flowFileExpiration" : "0 sec",
      "groupIdentifier" : "flow-contents-group",
      "identifier" : "6a022e43-22cd-370b-bfff-536026027b53",
      "labelIndex" : 0,
      "loadBalanceCompression" : "DO_NOT_COMPRESS",
      "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
      "name" : "",
      "partitioningAttribute" : "",
      "prioritizers" : [ ],
      "selectedRelationships" : [ "" ],
      "source" : {
        "groupId" : "592c6b23-e212-35de-b21e-e9bd75285c33",
        "id" : "3b31a627-7248-3e42-83f2-e6a58736f9be",
        "name" : "OUTPUT",
        "type" : "OUTPUT_PORT"
      },
      "zIndex" : 0
    }, {
      "backPressureDataSizeThreshold" : "1 GB",
      "backPressureObjectThreshold" : 10000,
      "bends" : [ ],
      "componentType" : "CONNECTION",
      "destination" : {
        "comments" : "",
        "groupId" : "flow-contents-group",
        "id" : "1396ddbf-2fb6-31e9-a940-04db8e827969",
        "name" : "Funnel",
        "type" : "FUNNEL"
      },
      "flowFileExpiration" : "0 sec",
      "groupIdentifier" : "flow-contents-group",
      "identifier" : "5edb5fa1-5ecf-331b-951d-d8272a549af3",
      "labelIndex" : 0,
      "loadBalanceCompression" : "DO_NOT_COMPRESS",
      "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
      "name" : "",
      "partitioningAttribute" : "",
      "prioritizers" : [ ],
      "selectedRelationships" : [ "unmatched" ],
      "source" : {
        "comments" : "",
        "groupId" : "flow-contents-group",
        "id" : "d5ca1039-2ba4-3a0a-bc12-11d4f11719e0",
        "name" : "NÃO É UM MEDICAMENTO ? ",
        "type" : "PROCESSOR"
      },
      "zIndex" : 0
    }, {
      "backPressureDataSizeThreshold" : "1 GB",
      "backPressureObjectThreshold" : 10000,
      "bends" : [ ],
      "componentType" : "CONNECTION",
      "destination" : {
        "comments" : "",
        "groupId" : "flow-contents-group",
        "id" : "fea53e35-d9e8-364d-9f3a-c3cfc16b786b",
        "name" : "Funnel",
        "type" : "FUNNEL"
      },
      "flowFileExpiration" : "0 sec",
      "groupIdentifier" : "flow-contents-group",
      "identifier" : "0e0dd645-15e7-30d1-9949-d3de9128a313",
      "labelIndex" : 0,
      "loadBalanceCompression" : "DO_NOT_COMPRESS",
      "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
      "name" : "",
      "partitioningAttribute" : "",
      "prioritizers" : [ ],
      "selectedRelationships" : [ "_IS_NOT_PRODUCT" ],
      "source" : {
        "comments" : "",
        "groupId" : "flow-contents-group",
        "id" : "d5ca1039-2ba4-3a0a-bc12-11d4f11719e0",
        "name" : "NÃO É UM MEDICAMENTO ? ",
        "type" : "PROCESSOR"
      },
      "zIndex" : 0
    }, {
      "backPressureDataSizeThreshold" : "1 GB",
      "backPressureObjectThreshold" : 10000,
      "bends" : [ ],
      "componentType" : "CONNECTION",
      "destination" : {
        "comments" : "",
        "groupId" : "flow-contents-group",
        "id" : "a6841abb-af2a-3684-845c-a2bce6a26bd8",
        "name" : "Agrupa medicamentos",
        "type" : "PROCESSOR"
      },
      "flowFileExpiration" : "0 sec",
      "groupIdentifier" : "flow-contents-group",
      "identifier" : "f8e21d42-61eb-3bd2-a751-e9eb346e445c",
      "labelIndex" : 0,
      "loadBalanceCompression" : "DO_NOT_COMPRESS",
      "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
      "name" : "",
      "partitioningAttribute" : "",
      "prioritizers" : [ ],
      "selectedRelationships" : [ "success" ],
      "source" : {
        "comments" : "",
        "groupId" : "flow-contents-group",
        "id" : "3d4b5d65-8770-34fe-a2b2-69b57924671e",
        "name" : "vm_product_subs",
        "type" : "PROCESSOR"
      },
      "zIndex" : 0
    }, {
      "backPressureDataSizeThreshold" : "1 GB",
      "backPressureObjectThreshold" : 10000,
      "bends" : [ ],
      "componentType" : "CONNECTION",
      "destination" : {
        "groupId" : "592c6b23-e212-35de-b21e-e9bd75285c33",
        "id" : "93e2769c-afc2-3c1e-88d8-28b1e754d475",
        "name" : "INPUT",
        "type" : "INPUT_PORT"
      },
      "flowFileExpiration" : "0 sec",
      "groupIdentifier" : "flow-contents-group",
      "identifier" : "190b8b0d-8add-3094-a53a-145065caf36a",
      "labelIndex" : 0,
      "loadBalanceCompression" : "DO_NOT_COMPRESS",
      "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
      "name" : "",
      "partitioningAttribute" : "",
      "prioritizers" : [ ],
      "selectedRelationships" : [ "" ],
      "source" : {
        "comments" : "",
        "groupId" : "flow-contents-group",
        "id" : "d8a8901c-c83f-3192-b7cc-3bf231c47db8",
        "name" : "Funnel",
        "type" : "FUNNEL"
      },
      "zIndex" : 0
    }, {
      "backPressureDataSizeThreshold" : "1 GB",
      "backPressureObjectThreshold" : 10000,
      "bends" : [ ],
      "componentType" : "CONNECTION",
      "destination" : {
        "comments" : "",
        "groupId" : "flow-contents-group",
        "id" : "762de0f6-72cf-3f2e-b71d-2344cb274b0e",
        "name" : "num_subs > 1 (comp complexo ?)",
        "type" : "PROCESSOR"
      },
      "flowFileExpiration" : "0 sec",
      "groupIdentifier" : "flow-contents-group",
      "identifier" : "48da9299-041d-3a1b-a164-f221dc741298",
      "labelIndex" : 0,
      "loadBalanceCompression" : "DO_NOT_COMPRESS",
      "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
      "name" : "",
      "partitioningAttribute" : "",
      "prioritizers" : [ ],
      "selectedRelationships" : [ "matched" ],
      "source" : {
        "comments" : "",
        "groupId" : "flow-contents-group",
        "id" : "2fe1943a-1f79-305f-abf8-12fab055ece2",
        "name" : "Combi = True",
        "type" : "PROCESSOR"
      },
      "zIndex" : 0
    }, {
      "backPressureDataSizeThreshold" : "1 GB",
      "backPressureObjectThreshold" : 10000,
      "bends" : [ ],
      "componentType" : "CONNECTION",
      "destination" : {
        "comments" : "",
        "groupId" : "flow-contents-group",
        "id" : "2fe1943a-1f79-305f-abf8-12fab055ece2",
        "name" : "Combi = True",
        "type" : "PROCESSOR"
      },
      "flowFileExpiration" : "0 sec",
      "groupIdentifier" : "flow-contents-group",
      "identifier" : "75b6c1c6-7661-38bc-a9e7-0bb20b03b840",
      "labelIndex" : 0,
      "loadBalanceCompression" : "DO_NOT_COMPRESS",
      "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
      "name" : "",
      "partitioningAttribute" : "",
      "prioritizers" : [ ],
      "selectedRelationships" : [ "success" ],
      "source" : {
        "comments" : "",
        "groupId" : "flow-contents-group",
        "id" : "301a4565-f52e-31a6-95a5-4b77556e1305",
        "name" : "_IS_PRODUCT = false",
        "type" : "PROCESSOR"
      },
      "zIndex" : 0
    }, {
      "backPressureDataSizeThreshold" : "1 GB",
      "backPressureObjectThreshold" : 10000,
      "bends" : [ ],
      "componentType" : "CONNECTION",
      "destination" : {
        "comments" : "",
        "groupId" : "flow-contents-group",
        "id" : "14e041a6-868c-3b89-8f6a-7708a5715830",
        "name" : "Extrair atributos",
        "type" : "PROCESSOR"
      },
      "flowFileExpiration" : "0 sec",
      "groupIdentifier" : "flow-contents-group",
      "identifier" : "69213afa-5933-3e1a-b02e-22f7ffda4abe",
      "labelIndex" : 0,
      "loadBalanceCompression" : "DO_NOT_COMPRESS",
      "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
      "name" : "",
      "partitioningAttribute" : "",
      "prioritizers" : [ ],
      "selectedRelationships" : [ "split" ],
      "source" : {
        "comments" : "",
        "groupId" : "flow-contents-group",
        "id" : "34113e28-9bc4-39ff-9db6-fa42f2d16d9f",
        "name" : "SplitJson",
        "type" : "PROCESSOR"
      },
      "zIndex" : 0
    }, {
      "backPressureDataSizeThreshold" : "1 GB",
      "backPressureObjectThreshold" : 10000,
      "bends" : [ ],
      "componentType" : "CONNECTION",
      "destination" : {
        "comments" : "",
        "groupId" : "flow-contents-group",
        "id" : "46280764-eba7-3f33-a15b-2b02c6edbe39",
        "name" : "ForkEnrichment",
        "type" : "PROCESSOR"
      },
      "flowFileExpiration" : "0 sec",
      "groupIdentifier" : "flow-contents-group",
      "identifier" : "3361be09-afba-34f2-a29a-bc060a517cf1",
      "labelIndex" : 0,
      "loadBalanceCompression" : "DO_NOT_COMPRESS",
      "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
      "name" : "",
      "partitioningAttribute" : "",
      "prioritizers" : [ ],
      "selectedRelationships" : [ "matched" ],
      "source" : {
        "comments" : "",
        "groupId" : "flow-contents-group",
        "id" : "14e041a6-868c-3b89-8f6a-7708a5715830",
        "name" : "Extrair atributos",
        "type" : "PROCESSOR"
      },
      "zIndex" : 0
    }, {
      "backPressureDataSizeThreshold" : "1 GB",
      "backPressureObjectThreshold" : 10000,
      "bends" : [ ],
      "componentType" : "CONNECTION",
      "destination" : {
        "comments" : "",
        "groupId" : "flow-contents-group",
        "id" : "d8a8901c-c83f-3192-b7cc-3bf231c47db8",
        "name" : "Funnel",
        "type" : "FUNNEL"
      },
      "flowFileExpiration" : "0 sec",
      "groupIdentifier" : "flow-contents-group",
      "identifier" : "ceb7c96d-caad-318a-bcb0-036325a7e3b8",
      "labelIndex" : 0,
      "loadBalanceCompression" : "DO_NOT_COMPRESS",
      "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
      "name" : "",
      "partitioningAttribute" : "",
      "prioritizers" : [ ],
      "selectedRelationships" : [ "unmatched" ],
      "source" : {
        "comments" : "",
        "groupId" : "flow-contents-group",
        "id" : "8586105a-b30c-3177-bdc2-bce3df1b6e3c",
        "name" : "num_subs > 1 (meds complexo ?)",
        "type" : "PROCESSOR"
      },
      "zIndex" : 0
    }, {
      "backPressureDataSizeThreshold" : "1 GB",
      "backPressureObjectThreshold" : 10000,
      "bends" : [ ],
      "componentType" : "CONNECTION",
      "destination" : {
        "comments" : "",
        "groupId" : "flow-contents-group",
        "id" : "345dbe7c-02d7-3ad0-b215-fb57807c88d7",
        "name" : "APENAS MEDICAMENTOS ?",
        "type" : "PROCESSOR"
      },
      "flowFileExpiration" : "0 sec",
      "groupIdentifier" : "flow-contents-group",
      "identifier" : "77622394-b8ed-3407-ac28-48cd0b4a9585",
      "labelIndex" : 0,
      "loadBalanceCompression" : "DO_NOT_COMPRESS",
      "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
      "name" : "",
      "partitioningAttribute" : "",
      "prioritizers" : [ ],
      "selectedRelationships" : [ "" ],
      "source" : {
        "comments" : "",
        "groupId" : "flow-contents-group",
        "id" : "1396ddbf-2fb6-31e9-a940-04db8e827969",
        "name" : "Funnel",
        "type" : "FUNNEL"
      },
      "zIndex" : 0
    }, {
      "backPressureDataSizeThreshold" : "1 GB",
      "backPressureObjectThreshold" : 10000,
      "bends" : [ ],
      "componentType" : "CONNECTION",
      "destination" : {
        "groupId" : "c55c725c-4d6f-3881-82fc-6bea8b74c919",
        "id" : "b8280196-3e46-37db-8db9-3108293a6758",
        "name" : "INPUT",
        "type" : "INPUT_PORT"
      },
      "flowFileExpiration" : "0 sec",
      "groupIdentifier" : "flow-contents-group",
      "identifier" : "6d65e7dc-c254-30ce-aabd-69ac3e5ff3b2",
      "labelIndex" : 0,
      "loadBalanceCompression" : "DO_NOT_COMPRESS",
      "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
      "name" : "",
      "partitioningAttribute" : "",
      "prioritizers" : [ ],
      "selectedRelationships" : [ "" ],
      "source" : {
        "comments" : "",
        "groupId" : "flow-contents-group",
        "id" : "cde04409-f32e-32f7-bf4e-6b0248e6603d",
        "name" : "Funnel",
        "type" : "FUNNEL"
      },
      "zIndex" : 0
    }, {
      "backPressureDataSizeThreshold" : "1 GB",
      "backPressureObjectThreshold" : 10000,
      "bends" : [ ],
      "componentType" : "CONNECTION",
      "destination" : {
        "comments" : "",
        "groupId" : "flow-contents-group",
        "id" : "b6edf885-b0a1-3dbd-9bd5-05672232c96b",
        "name" : "Funnel",
        "type" : "FUNNEL"
      },
      "flowFileExpiration" : "0 sec",
      "groupIdentifier" : "flow-contents-group",
      "identifier" : "0da3e214-1ffd-31eb-ad35-a3de9e374b4d",
      "labelIndex" : 0,
      "loadBalanceCompression" : "DO_NOT_COMPRESS",
      "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
      "name" : "",
      "partitioningAttribute" : "",
      "prioritizers" : [ ],
      "selectedRelationships" : [ "unmatched" ],
      "source" : {
        "comments" : "",
        "groupId" : "flow-contents-group",
        "id" : "345dbe7c-02d7-3ad0-b215-fb57807c88d7",
        "name" : "APENAS MEDICAMENTOS ?",
        "type" : "PROCESSOR"
      },
      "zIndex" : 0
    }, {
      "backPressureDataSizeThreshold" : "1 GB",
      "backPressureObjectThreshold" : 10000,
      "bends" : [ ],
      "componentType" : "CONNECTION",
      "destination" : {
        "comments" : "",
        "groupId" : "flow-contents-group",
        "id" : "95f56f3b-f1e9-3f30-92d0-a3ccc86983e1",
        "name" : "Funnel",
        "type" : "FUNNEL"
      },
      "flowFileExpiration" : "0 sec",
      "groupIdentifier" : "flow-contents-group",
      "identifier" : "4cc74ae7-f871-3d8f-b1da-c6a77f621370",
      "labelIndex" : 0,
      "loadBalanceCompression" : "DO_NOT_COMPRESS",
      "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
      "name" : "",
      "partitioningAttribute" : "",
      "prioritizers" : [ ],
      "selectedRelationships" : [ "unmatched" ],
      "source" : {
        "comments" : "",
        "groupId" : "flow-contents-group",
        "id" : "2fe1943a-1f79-305f-abf8-12fab055ece2",
        "name" : "Combi = True",
        "type" : "PROCESSOR"
      },
      "zIndex" : 0
    }, {
      "backPressureDataSizeThreshold" : "1 GB",
      "backPressureObjectThreshold" : 10000,
      "bends" : [ ],
      "componentType" : "CONNECTION",
      "destination" : {
        "comments" : "",
        "groupId" : "flow-contents-group",
        "id" : "9b3e6dbe-4155-355f-8e5f-2e1fbec82ba1",
        "name" : "Funnel",
        "type" : "FUNNEL"
      },
      "flowFileExpiration" : "0 sec",
      "groupIdentifier" : "flow-contents-group",
      "identifier" : "f1463a38-8f24-396a-8888-b3a48828b5aa",
      "labelIndex" : 0,
      "loadBalanceCompression" : "DO_NOT_COMPRESS",
      "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
      "name" : "",
      "partitioningAttribute" : "",
      "prioritizers" : [ ],
      "selectedRelationships" : [ "" ],
      "source" : {
        "comments" : "",
        "groupId" : "flow-contents-group",
        "id" : "95f56f3b-f1e9-3f30-92d0-a3ccc86983e1",
        "name" : "Funnel",
        "type" : "FUNNEL"
      },
      "zIndex" : 0
    }, {
      "backPressureDataSizeThreshold" : "1 GB",
      "backPressureObjectThreshold" : 10000,
      "bends" : [ ],
      "componentType" : "CONNECTION",
      "destination" : {
        "comments" : "",
        "groupId" : "flow-contents-group",
        "id" : "d78fdc5f-6902-34d4-80ea-449e902bbdea",
        "name" : "Extrair atributos",
        "type" : "PROCESSOR"
      },
      "flowFileExpiration" : "0 sec",
      "groupIdentifier" : "flow-contents-group",
      "identifier" : "aa561461-e20c-3e8a-92f7-d7abd1b6ce2a",
      "labelIndex" : 0,
      "loadBalanceCompression" : "DO_NOT_COMPRESS",
      "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
      "name" : "",
      "partitioningAttribute" : "",
      "prioritizers" : [ ],
      "selectedRelationships" : [ "split" ],
      "source" : {
        "comments" : "",
        "groupId" : "flow-contents-group",
        "id" : "3094cd53-f498-37e1-bdc3-fec343678e19",
        "name" : "SplitJson",
        "type" : "PROCESSOR"
      },
      "zIndex" : 0
    }, {
      "backPressureDataSizeThreshold" : "1 GB",
      "backPressureObjectThreshold" : 10000,
      "bends" : [ ],
      "componentType" : "CONNECTION",
      "destination" : {
        "comments" : "",
        "groupId" : "flow-contents-group",
        "id" : "89358ece-737c-31f9-948d-34d5af91b153",
        "name" : "Funnel",
        "type" : "FUNNEL"
      },
      "flowFileExpiration" : "0 sec",
      "groupIdentifier" : "flow-contents-group",
      "identifier" : "0238eb28-3d36-3ba8-ad53-51d49cad147d",
      "labelIndex" : 0,
      "loadBalanceCompression" : "DO_NOT_COMPRESS",
      "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
      "name" : "",
      "partitioningAttribute" : "",
      "prioritizers" : [ ],
      "selectedRelationships" : [ "" ],
      "source" : {
        "groupId" : "c55c725c-4d6f-3881-82fc-6bea8b74c919",
        "id" : "1e665acd-83b0-3b17-9144-609b4d5d784e",
        "name" : "OUTPUT",
        "type" : "OUTPUT_PORT"
      },
      "zIndex" : 0
    } ],
    "controllerServices" : [ {
      "bulletinLevel" : "WARN",
      "bundle" : {
        "artifact" : "nifi-record-serialization-services-nar",
        "group" : "org.apache.nifi",
        "version" : "2.0.0"
      },
      "comments" : "",
      "componentType" : "CONTROLLER_SERVICE",
      "controllerServiceApis" : [ {
        "bundle" : {
          "artifact" : "nifi-standard-services-api-nar",
          "group" : "org.apache.nifi",
          "version" : "2.0.0"
        },
        "type" : "org.apache.nifi.serialization.RecordSetWriterFactory"
      } ],
      "groupIdentifier" : "flow-contents-group",
      "identifier" : "a71156c4-3f0d-39c8-9f2c-1e011b728529",
      "name" : "JsonRecordSetWriter",
      "properties" : {
        "Allow Scientific Notation" : "false",
        "compression-level" : "1",
        "Pretty Print JSON" : "true",
        "compression-format" : "none",
        "Schema Write Strategy" : "no-schema",
        "suppress-nulls" : "never-suppress",
        "output-grouping" : "output-array",
        "schema-name" : "${schema.name}",
        "schema-access-strategy" : "schema-text-property",
        "schema-text" : "{\n  \"type\": \"record\",\n  \"name\": \"TableSchema\",\n  \"fields\": [\n    {\"name\": \"id\", \"type\": \"int\"},\n    {\"name\": \"comp\", \"type\": \"string\"},\n    {\"name\": \"species_bit\", \"type\": [\"null\", \"string\"], \"default\": null},\n    {\"name\": \"status\", \"type\": [\"null\", \"string\"], \"default\": null},\n    {\"name\": \"atcvet\", \"type\": [\"null\", \"string\"], \"default\": null},\n    {\"name\": \"sa_order\", \"type\": [\"null\", \"int\"], \"default\": null},\n    {\"name\": \"sa_sporsms\", \"type\": [\"null\", \"string\"], \"default\": null},\n    {\"name\": \"sa_desc\", \"type\": [\"null\", \"string\"], \"default\": null},\n    {\"name\": \"antimicro_class\", \"type\": [\"null\", \"string\"], \"default\": null},\n    {\"name\": \"route_ddd\", \"type\": [\"null\", \"string\"], \"default\": null},\n    {\"name\": \"route_bit\", \"type\": [\"null\", \"string\"], \"default\": null},\n    {\"name\": \"dddvet\", \"type\": [\"null\", \"float\"], \"default\": null},\n    {\"name\": \"dcdvet\", \"type\": [\"null\", \"float\"], \"default\": null},\n    {\"name\": \"unit\", \"type\": [\"null\", \"string\"], \"default\": null},\n    {\"name\": \"conv_factor\", \"type\": [\"null\", \"float\"], \"default\": null},\n    {\"name\": \"combi\", \"type\": [\"null\", \"boolean\"], \"default\": null},\n    {\"name\": \"acting\", \"type\": [\"null\", \"string\"], \"default\": null},\n    {\"name\": \"obs\", \"type\": [\"null\", \"string\"], \"default\": null}\n  ]\n}"
      },
      "propertyDescriptors" : {
        "schema-reference-reader" : {
          "displayName" : "Schema Reference Reader",
          "dynamic" : false,
          "identifiesControllerService" : true,
          "name" : "schema-reference-reader",
          "sensitive" : false
        },
        "schema-branch" : {
          "displayName" : "Schema Branch",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "schema-branch",
          "sensitive" : false
        },
        "Allow Scientific Notation" : {
          "displayName" : "Allow Scientific Notation",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "Allow Scientific Notation",
          "sensitive" : false
        },
        "compression-level" : {
          "displayName" : "Compression Level",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "compression-level",
          "sensitive" : false
        },
        "schema-cache" : {
          "displayName" : "Schema Cache",
          "dynamic" : false,
          "identifiesControllerService" : true,
          "name" : "schema-cache",
          "sensitive" : false
        },
        "Timestamp Format" : {
          "displayName" : "Timestamp Format",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "Timestamp Format",
          "sensitive" : false
        },
        "Date Format" : {
          "displayName" : "Date Format",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "Date Format",
          "sensitive" : false
        },
        "Pretty Print JSON" : {
          "displayName" : "Pretty Print JSON",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "Pretty Print JSON",
          "sensitive" : false
        },
        "compression-format" : {
          "displayName" : "Compression Format",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "compression-format",
          "sensitive" : false
        },
        "Schema Write Strategy" : {
          "displayName" : "Schema Write Strategy",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "Schema Write Strategy",
          "sensitive" : false
        },
        "suppress-nulls" : {
          "displayName" : "Suppress Null Values",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "suppress-nulls",
          "sensitive" : false
        },
        "output-grouping" : {
          "displayName" : "Output Grouping",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "output-grouping",
          "sensitive" : false
        },
        "schema-name" : {
          "displayName" : "Schema Name",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "schema-name",
          "sensitive" : false
        },
        "schema-registry" : {
          "displayName" : "Schema Registry",
          "dynamic" : false,
          "identifiesControllerService" : true,
          "name" : "schema-registry",
          "sensitive" : false
        },
        "Time Format" : {
          "displayName" : "Time Format",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "Time Format",
          "sensitive" : false
        },
        "schema-access-strategy" : {
          "displayName" : "Schema Access Strategy",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "schema-access-strategy",
          "sensitive" : false
        },
        "schema-version" : {
          "displayName" : "Schema Version",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "schema-version",
          "sensitive" : false
        },
        "schema-text" : {
          "displayName" : "Schema Text",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "schema-text",
          "sensitive" : false
        },
        "Schema Reference Writer" : {
          "displayName" : "Schema Reference Writer",
          "dynamic" : false,
          "identifiesControllerService" : true,
          "name" : "Schema Reference Writer",
          "sensitive" : false
        }
      },
      "scheduledState" : "DISABLED",
      "type" : "org.apache.nifi.json.JsonRecordSetWriter"
    }, {
      "bulletinLevel" : "WARN",
      "bundle" : {
        "artifact" : "nifi-record-serialization-services-nar",
        "group" : "org.apache.nifi",
        "version" : "2.0.0"
      },
      "comments" : "",
      "componentType" : "CONTROLLER_SERVICE",
      "controllerServiceApis" : [ {
        "bundle" : {
          "artifact" : "nifi-standard-services-api-nar",
          "group" : "org.apache.nifi",
          "version" : "2.0.0"
        },
        "type" : "org.apache.nifi.serialization.RecordSetWriterFactory"
      } ],
      "groupIdentifier" : "flow-contents-group",
      "identifier" : "0fc90508-430b-387c-8226-4247f37ffa57",
      "name" : "JsonRecordSetWriter_MERGED",
      "properties" : {
        "Allow Scientific Notation" : "false",
        "compression-level" : "1",
        "Pretty Print JSON" : "false",
        "compression-format" : "none",
        "Schema Write Strategy" : "no-schema",
        "suppress-nulls" : "never-suppress",
        "output-grouping" : "output-array",
        "schema-name" : "${schema.name}",
        "schema-access-strategy" : "inherit-record-schema",
        "schema-text" : "${avro.schema}"
      },
      "propertyDescriptors" : {
        "schema-reference-reader" : {
          "displayName" : "Schema Reference Reader",
          "dynamic" : false,
          "identifiesControllerService" : true,
          "name" : "schema-reference-reader",
          "sensitive" : false
        },
        "schema-branch" : {
          "displayName" : "Schema Branch",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "schema-branch",
          "sensitive" : false
        },
        "Allow Scientific Notation" : {
          "displayName" : "Allow Scientific Notation",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "Allow Scientific Notation",
          "sensitive" : false
        },
        "compression-level" : {
          "displayName" : "Compression Level",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "compression-level",
          "sensitive" : false
        },
        "schema-cache" : {
          "displayName" : "Schema Cache",
          "dynamic" : false,
          "identifiesControllerService" : true,
          "name" : "schema-cache",
          "sensitive" : false
        },
        "Timestamp Format" : {
          "displayName" : "Timestamp Format",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "Timestamp Format",
          "sensitive" : false
        },
        "Date Format" : {
          "displayName" : "Date Format",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "Date Format",
          "sensitive" : false
        },
        "Pretty Print JSON" : {
          "displayName" : "Pretty Print JSON",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "Pretty Print JSON",
          "sensitive" : false
        },
        "compression-format" : {
          "displayName" : "Compression Format",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "compression-format",
          "sensitive" : false
        },
        "Schema Write Strategy" : {
          "displayName" : "Schema Write Strategy",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "Schema Write Strategy",
          "sensitive" : false
        },
        "suppress-nulls" : {
          "displayName" : "Suppress Null Values",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "suppress-nulls",
          "sensitive" : false
        },
        "output-grouping" : {
          "displayName" : "Output Grouping",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "output-grouping",
          "sensitive" : false
        },
        "schema-name" : {
          "displayName" : "Schema Name",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "schema-name",
          "sensitive" : false
        },
        "schema-registry" : {
          "displayName" : "Schema Registry",
          "dynamic" : false,
          "identifiesControllerService" : true,
          "name" : "schema-registry",
          "sensitive" : false
        },
        "Time Format" : {
          "displayName" : "Time Format",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "Time Format",
          "sensitive" : false
        },
        "schema-access-strategy" : {
          "displayName" : "Schema Access Strategy",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "schema-access-strategy",
          "sensitive" : false
        },
        "schema-version" : {
          "displayName" : "Schema Version",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "schema-version",
          "sensitive" : false
        },
        "schema-text" : {
          "displayName" : "Schema Text",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "schema-text",
          "sensitive" : false
        },
        "Schema Reference Writer" : {
          "displayName" : "Schema Reference Writer",
          "dynamic" : false,
          "identifiesControllerService" : true,
          "name" : "Schema Reference Writer",
          "sensitive" : false
        }
      },
      "scheduledState" : "DISABLED",
      "type" : "org.apache.nifi.json.JsonRecordSetWriter"
    }, {
      "bulletinLevel" : "WARN",
      "bundle" : {
        "artifact" : "nifi-record-serialization-services-nar",
        "group" : "org.apache.nifi",
        "version" : "2.0.0"
      },
      "comments" : "",
      "componentType" : "CONTROLLER_SERVICE",
      "controllerServiceApis" : [ {
        "bundle" : {
          "artifact" : "nifi-standard-services-api-nar",
          "group" : "org.apache.nifi",
          "version" : "2.0.0"
        },
        "type" : "org.apache.nifi.serialization.RecordReaderFactory"
      } ],
      "groupIdentifier" : "flow-contents-group",
      "identifier" : "b64ecb7e-25da-3d17-b641-5c2582c7a71a",
      "name" : "JsonTreeReader",
      "properties" : {
        "Max String Length" : "20 MB",
        "schema-application-strategy" : "SELECTED_PART",
        "schema-name" : "${schema.name}",
        "starting-field-strategy" : "ROOT_NODE",
        "schema-access-strategy" : "infer-schema",
        "schema-text" : "${avro.schema}",
        "Allow Comments" : "false"
      },
      "propertyDescriptors" : {
        "schema-reference-reader" : {
          "displayName" : "Schema Reference Reader",
          "dynamic" : false,
          "identifiesControllerService" : true,
          "name" : "schema-reference-reader",
          "sensitive" : false
        },
        "schema-branch" : {
          "displayName" : "Schema Branch",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "schema-branch",
          "sensitive" : false
        },
        "Max String Length" : {
          "displayName" : "Max String Length",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "Max String Length",
          "sensitive" : false
        },
        "schema-application-strategy" : {
          "displayName" : "Schema Application Strategy",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "schema-application-strategy",
          "sensitive" : false
        },
        "Timestamp Format" : {
          "displayName" : "Timestamp Format",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "Timestamp Format",
          "sensitive" : false
        },
        "schema-inference-cache" : {
          "displayName" : "Schema Inference Cache",
          "dynamic" : false,
          "identifiesControllerService" : true,
          "name" : "schema-inference-cache",
          "sensitive" : false
        },
        "Date Format" : {
          "displayName" : "Date Format",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "Date Format",
          "sensitive" : false
        },
        "schema-name" : {
          "displayName" : "Schema Name",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "schema-name",
          "sensitive" : false
        },
        "starting-field-strategy" : {
          "displayName" : "Starting Field Strategy",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "starting-field-strategy",
          "sensitive" : false
        },
        "schema-registry" : {
          "displayName" : "Schema Registry",
          "dynamic" : false,
          "identifiesControllerService" : true,
          "name" : "schema-registry",
          "sensitive" : false
        },
        "starting-field-name" : {
          "displayName" : "Starting Field Name",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "starting-field-name",
          "sensitive" : false
        },
        "Time Format" : {
          "displayName" : "Time Format",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "Time Format",
          "sensitive" : false
        },
        "schema-access-strategy" : {
          "displayName" : "Schema Access Strategy",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "schema-access-strategy",
          "sensitive" : false
        },
        "schema-version" : {
          "displayName" : "Schema Version",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "schema-version",
          "sensitive" : false
        },
        "schema-text" : {
          "displayName" : "Schema Text",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "schema-text",
          "sensitive" : false
        },
        "Allow Comments" : {
          "displayName" : "Allow Comments",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "Allow Comments",
          "sensitive" : false
        }
      },
      "scheduledState" : "DISABLED",
      "type" : "org.apache.nifi.json.JsonTreeReader"
    }, {
      "bulletinLevel" : "WARN",
      "bundle" : {
        "artifact" : "nifi-record-serialization-services-nar",
        "group" : "org.apache.nifi",
        "version" : "2.0.0"
      },
      "comments" : "",
      "componentType" : "CONTROLLER_SERVICE",
      "controllerServiceApis" : [ {
        "bundle" : {
          "artifact" : "nifi-standard-services-api-nar",
          "group" : "org.apache.nifi",
          "version" : "2.0.0"
        },
        "type" : "org.apache.nifi.serialization.RecordSetWriterFactory"
      } ],
      "groupIdentifier" : "flow-contents-group",
      "identifier" : "055d650c-6599-346b-9194-f78aca7a405b",
      "name" : "JsonRecordSetWriter_MERGE",
      "properties" : {
        "Allow Scientific Notation" : "false",
        "compression-level" : "1",
        "Pretty Print JSON" : "false",
        "compression-format" : "none",
        "Schema Write Strategy" : "no-schema",
        "suppress-nulls" : "never-suppress",
        "output-grouping" : "output-array",
        "schema-name" : "${schema.name}",
        "schema-access-strategy" : "schema-text-property",
        "schema-text" : "{\n  \"type\": \"record\",\n  \"name\": \"MERGE\",\n  \"fields\": [\n    {\"name\": \"id\", \"type\": \"int\"},\n    {\"name\": \"us_cum\", \"type\": [\"null\", \"string\"], \"default\": null},\n    {\"name\": \"cum\", \"type\": [\"null\", \"string\"], \"default\": null},\n    {\"name\": \"atc_code\", \"type\": [\"null\", \"string\"], \"default\": null},\n    {\"name\": \"aim_code\", \"type\": [\"null\", \"string\"], \"default\": null},\n    {\"name\": \"official_id\", \"type\": [\"null\", \"int\"], \"default\": null},\n    {\"name\": \"shortdesc\", \"type\": [\"null\", \"string\"], \"default\": null},\n    {\"name\": \"presentation\", \"type\": [\"null\", \"string\"], \"default\": null},\n    {\"name\": \"ab\", \"type\": [\"null\", \"boolean\"], \"default\": null},\n    {\"name\": \"pm\", \"type\": [\"null\", \"boolean\"], \"default\": null},\n    {\"name\": \"species\", \"type\": [\"null\", \"string\"], \"default\": null},\n    {\"name\": \"species_bit\", \"type\": [\"null\", \"string\"], \"default\": null},\n    {\"name\": \"uom_categ\", \"type\": [\"null\", \"string\"], \"default\": null},\n    {\"name\": \"uom_categ_id\", \"type\": [\"null\", \"int\"], \"default\": null},\n    {\"name\": \"measure_tot\", \"type\": [\"null\", \"float\"], \"default\": null},\n    {\"name\": \"measure_tot_un\", \"type\": [\"null\", \"string\"], \"default\": null},\n    {\"name\": \"sa_sporsms\", \"type\": [\"null\", \"string\"], \"default\": null},\n    {\"name\": \"sa_desc\", \"type\": [\"null\", \"string\"], \"default\": null},\n    {\"name\": \"sa_dose\", \"type\": [\"null\", \"float\"], \"default\": null},\n    {\"name\": \"sa_dose_un\", \"type\": [\"null\", \"string\"], \"default\": null},\n    {\"name\": \"measure_unit\", \"type\": [\"null\", \"float\"], \"default\": null},\n    {\"name\": \"measure_unit_un\", \"type\": [\"null\", \"string\"], \"default\": null},\n    {\"name\": \"sa_princ\", \"type\": \"boolean\", \"default\": false},\n    {\"name\": \"route_bit\", \"type\": [\"null\", \"string\"], \"default\": null},\n    {\"name\": \"acting\", \"type\": [\"null\", \"string\"], \"default\": null},\n    {\"name\": \"animal_status\", \"type\": [\"null\", \"string\"], \"default\": null},\n    {\"name\": \"active\", \"type\": \"boolean\", \"default\": true},\n    {\"name\": \"updated\", \"type\": \"string\", \"logicalType\": \"timestamp-millis\"},\n    {\"name\": \"tags\", \"type\": [\"null\", \"string\"], \"default\": null},\n\t{\"name\": \"num_subs\", \"type\": [\"null\", \"int\"], \"default\": null},\n    {\"name\": \"comp\", \"type\": \"string\"},\n    {\"name\": \"status\", \"type\": [\"null\", \"string\"], \"default\": null},\n    {\"name\": \"atcvet\", \"type\": [\"null\", \"string\"], \"default\": null},\n    {\"name\": \"sa_order\", \"type\": [\"null\", \"int\"], \"default\": null},\n    {\"name\": \"antimicro_class\", \"type\": [\"null\", \"string\"], \"default\": null},\n    {\"name\": \"route_ddd\", \"type\": [\"null\", \"string\"], \"default\": null},\n    {\"name\": \"dddvet\", \"type\": [\"null\", \"float\"], \"default\": null},\n    {\"name\": \"dcdvet\", \"type\": [\"null\", \"float\"], \"default\": null},\n    {\"name\": \"unit\", \"type\": [\"null\", \"string\"], \"default\": null},\n    {\"name\": \"conv_factor\", \"type\": [\"null\", \"float\"], \"default\": null},\n    {\"name\": \"combi\", \"type\": [\"null\", \"boolean\"], \"default\": null},\n    {\"name\": \"obs\", \"type\": [\"null\", \"string\"], \"default\": null}\n  ]\n}\n"
      },
      "propertyDescriptors" : {
        "schema-reference-reader" : {
          "displayName" : "Schema Reference Reader",
          "dynamic" : false,
          "identifiesControllerService" : true,
          "name" : "schema-reference-reader",
          "sensitive" : false
        },
        "schema-branch" : {
          "displayName" : "Schema Branch",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "schema-branch",
          "sensitive" : false
        },
        "Allow Scientific Notation" : {
          "displayName" : "Allow Scientific Notation",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "Allow Scientific Notation",
          "sensitive" : false
        },
        "compression-level" : {
          "displayName" : "Compression Level",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "compression-level",
          "sensitive" : false
        },
        "schema-cache" : {
          "displayName" : "Schema Cache",
          "dynamic" : false,
          "identifiesControllerService" : true,
          "name" : "schema-cache",
          "sensitive" : false
        },
        "Timestamp Format" : {
          "displayName" : "Timestamp Format",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "Timestamp Format",
          "sensitive" : false
        },
        "Date Format" : {
          "displayName" : "Date Format",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "Date Format",
          "sensitive" : false
        },
        "Pretty Print JSON" : {
          "displayName" : "Pretty Print JSON",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "Pretty Print JSON",
          "sensitive" : false
        },
        "compression-format" : {
          "displayName" : "Compression Format",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "compression-format",
          "sensitive" : false
        },
        "Schema Write Strategy" : {
          "displayName" : "Schema Write Strategy",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "Schema Write Strategy",
          "sensitive" : false
        },
        "suppress-nulls" : {
          "displayName" : "Suppress Null Values",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "suppress-nulls",
          "sensitive" : false
        },
        "output-grouping" : {
          "displayName" : "Output Grouping",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "output-grouping",
          "sensitive" : false
        },
        "schema-name" : {
          "displayName" : "Schema Name",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "schema-name",
          "sensitive" : false
        },
        "schema-registry" : {
          "displayName" : "Schema Registry",
          "dynamic" : false,
          "identifiesControllerService" : true,
          "name" : "schema-registry",
          "sensitive" : false
        },
        "Time Format" : {
          "displayName" : "Time Format",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "Time Format",
          "sensitive" : false
        },
        "schema-access-strategy" : {
          "displayName" : "Schema Access Strategy",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "schema-access-strategy",
          "sensitive" : false
        },
        "schema-version" : {
          "displayName" : "Schema Version",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "schema-version",
          "sensitive" : false
        },
        "schema-text" : {
          "displayName" : "Schema Text",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "schema-text",
          "sensitive" : false
        },
        "Schema Reference Writer" : {
          "displayName" : "Schema Reference Writer",
          "dynamic" : false,
          "identifiesControllerService" : true,
          "name" : "Schema Reference Writer",
          "sensitive" : false
        }
      },
      "scheduledState" : "DISABLED",
      "type" : "org.apache.nifi.json.JsonRecordSetWriter"
    }, {
      "bulletinLevel" : "WARN",
      "bundle" : {
        "artifact" : "nifi-dbcp-service-nar",
        "group" : "org.apache.nifi",
        "version" : "2.0.0"
      },
      "comments" : "",
      "componentType" : "CONTROLLER_SERVICE",
      "controllerServiceApis" : [ {
        "bundle" : {
          "artifact" : "nifi-standard-services-api-nar",
          "group" : "org.apache.nifi",
          "version" : "2.0.0"
        },
        "type" : "org.apache.nifi.dbcp.DBCPService"
      } ],
      "groupIdentifier" : "flow-contents-group",
      "identifier" : "82869c99-361d-3767-9f03-b7be5cc98a0b",
      "name" : "DBCPConnectionPool",
      "properties" : {
        "dbcp-min-idle-conns" : "0",
        "Max Wait Time" : "500 millis",
        "Database Driver Class Name" : "org.postgresql.Driver",
        "dbcp-min-evictable-idle-time" : "30 mins",
        "Max Total Connections" : "8",
        "dbcp-max-conn-lifetime" : "-1",
        "Database Connection URL" : "jdbc:postgresql://mypostgres:5432/ddds",
        "dbcp-time-between-eviction-runs" : "-1",
        "Database User" : "postgres",
        "dbcp-soft-min-evictable-idle-time" : "-1",
        "database-driver-locations" : "/opt/nifi/nifi-current/jdbc/postgresql-42.7.4.jar",
        "dbcp-max-idle-conns" : "8"
      },
      "propertyDescriptors" : {
        "dbcp-min-idle-conns" : {
          "displayName" : "Minimum Idle Connections",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "dbcp-min-idle-conns",
          "sensitive" : false
        },
        "Max Wait Time" : {
          "displayName" : "Max Wait Time",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "Max Wait Time",
          "sensitive" : false
        },
        "Database Driver Class Name" : {
          "displayName" : "Database Driver Class Name",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "Database Driver Class Name",
          "sensitive" : false
        },
        "dbcp-min-evictable-idle-time" : {
          "displayName" : "Minimum Evictable Idle Time",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "dbcp-min-evictable-idle-time",
          "sensitive" : false
        },
        "Max Total Connections" : {
          "displayName" : "Max Total Connections",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "Max Total Connections",
          "sensitive" : false
        },
        "dbcp-max-conn-lifetime" : {
          "displayName" : "Max Connection Lifetime",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "dbcp-max-conn-lifetime",
          "sensitive" : false
        },
        "Validation-query" : {
          "displayName" : "Validation query",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "Validation-query",
          "sensitive" : false
        },
        "Database Connection URL" : {
          "displayName" : "Database Connection URL",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "Database Connection URL",
          "sensitive" : false
        },
        "dbcp-time-between-eviction-runs" : {
          "displayName" : "Time Between Eviction Runs",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "dbcp-time-between-eviction-runs",
          "sensitive" : false
        },
        "Database User" : {
          "displayName" : "Database User",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "Database User",
          "sensitive" : false
        },
        "kerberos-user-service" : {
          "displayName" : "Kerberos User Service",
          "dynamic" : false,
          "identifiesControllerService" : true,
          "name" : "kerberos-user-service",
          "sensitive" : false
        },
        "dbcp-soft-min-evictable-idle-time" : {
          "displayName" : "Soft Minimum Evictable Idle Time",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "dbcp-soft-min-evictable-idle-time",
          "sensitive" : false
        },
        "database-driver-locations" : {
          "displayName" : "Database Driver Location(s)",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "database-driver-locations",
          "resourceDefinition" : {
            "cardinality" : "MULTIPLE",
            "resourceTypes" : [ "FILE", "URL", "DIRECTORY" ]
          },
          "sensitive" : false
        },
        "dbcp-max-idle-conns" : {
          "displayName" : "Max Idle Connections",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "dbcp-max-idle-conns",
          "sensitive" : false
        },
        "Password" : {
          "displayName" : "Password",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "Password",
          "sensitive" : true
        }
      },
      "scheduledState" : "DISABLED",
      "type" : "org.apache.nifi.dbcp.DBCPConnectionPool"
    }, {
      "bulletinLevel" : "WARN",
      "bundle" : {
        "artifact" : "nifi-record-serialization-services-nar",
        "group" : "org.apache.nifi",
        "version" : "2.0.0"
      },
      "comments" : "",
      "componentType" : "CONTROLLER_SERVICE",
      "controllerServiceApis" : [ {
        "bundle" : {
          "artifact" : "nifi-standard-services-api-nar",
          "group" : "org.apache.nifi",
          "version" : "2.0.0"
        },
        "type" : "org.apache.nifi.serialization.RecordSetWriterFactory"
      } ],
      "groupIdentifier" : "flow-contents-group",
      "identifier" : "26c267fa-0529-30b6-8edb-2a7627bfbee9",
      "name" : "JsonRecordSetWriter_VM_PRODUCT",
      "properties" : {
        "Allow Scientific Notation" : "false",
        "compression-level" : "1",
        "Pretty Print JSON" : "true",
        "compression-format" : "none",
        "Schema Write Strategy" : "no-schema",
        "suppress-nulls" : "never-suppress",
        "output-grouping" : "output-array",
        "schema-name" : "${schema.name}",
        "schema-access-strategy" : "schema-text-property",
        "schema-text" : "{\n  \"type\": \"record\",\n  \"name\": \"VmProductSchema\",\n  \"fields\": [\n    {\"name\": \"id\", \"type\": \"int\"},\n    {\"name\": \"us_cum\", \"type\": [\"null\", \"string\"], \"default\": null},\n    {\"name\": \"cum\", \"type\": [\"null\", \"string\"], \"default\": null},\n    {\"name\": \"atc_code\", \"type\": [\"null\", \"string\"], \"default\": null},\n    {\"name\": \"aim_code\", \"type\": [\"null\", \"string\"], \"default\": null},\n    {\"name\": \"official_id\", \"type\": [\"null\", \"int\"], \"default\": null},\n    {\"name\": \"shortdesc\", \"type\": [\"null\", \"string\"], \"default\": null},\n    {\"name\": \"presentation\", \"type\": [\"null\", \"string\"], \"default\": null},\n    {\"name\": \"ab\", \"type\": [\"null\", \"boolean\"], \"default\": null},\n    {\"name\": \"pm\", \"type\": [\"null\", \"boolean\"], \"default\": null},\n    {\"name\": \"species\", \"type\": [\"null\", \"string\"], \"default\": null},\n    {\"name\": \"species_bit\", \"type\": [\"null\", \"string\"], \"default\": null},\n    {\"name\": \"uom_categ\", \"type\": [\"null\", \"string\"], \"default\": null},\n    {\"name\": \"uom_categ_id\", \"type\": [\"null\", \"int\"], \"default\": null},\n    {\"name\": \"measure_tot\", \"type\": [\"null\", \"float\"], \"default\": null},\n    {\"name\": \"measure_tot_un\", \"type\": [\"null\", \"string\"], \"default\": null},\n    {\"name\": \"sa_sporsms\", \"type\": [\"null\", \"string\"], \"default\": null},\n    {\"name\": \"sa_desc\", \"type\": [\"null\", \"string\"], \"default\": null},\n    {\"name\": \"sa_dose\", \"type\": [\"null\", \"float\"], \"default\": null},\n    {\"name\": \"sa_dose_un\", \"type\": [\"null\", \"string\"], \"default\": null},\n    {\"name\": \"measure_unit\", \"type\": [\"null\", \"float\"], \"default\": null},\n    {\"name\": \"measure_unit_un\", \"type\": [\"null\", \"string\"], \"default\": null},\n    {\"name\": \"sa_princ\", \"type\": \"boolean\", \"default\": false},\n    {\"name\": \"route_bit\", \"type\": [\"null\", \"string\"], \"default\": null},\n    {\"name\": \"acting\", \"type\": [\"null\", \"string\"], \"default\": null},\n    {\"name\": \"animal_status\", \"type\": [\"null\", \"string\"], \"default\": null},\n    {\"name\": \"active\", \"type\": \"boolean\", \"default\": true},\n    {\"name\": \"updated\", \"type\": \"string\", \"logicalType\": \"timestamp-millis\"},\n    {\"name\": \"tags\", \"type\": [\"null\", \"string\"], \"default\": null},\n\t{\"name\": \"num_subs\", \"type\": [\"null\", \"int\"], \"default\": null}\n  ]\n}"
      },
      "propertyDescriptors" : {
        "schema-reference-reader" : {
          "displayName" : "Schema Reference Reader",
          "dynamic" : false,
          "identifiesControllerService" : true,
          "name" : "schema-reference-reader",
          "sensitive" : false
        },
        "schema-branch" : {
          "displayName" : "Schema Branch",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "schema-branch",
          "sensitive" : false
        },
        "Allow Scientific Notation" : {
          "displayName" : "Allow Scientific Notation",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "Allow Scientific Notation",
          "sensitive" : false
        },
        "compression-level" : {
          "displayName" : "Compression Level",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "compression-level",
          "sensitive" : false
        },
        "schema-cache" : {
          "displayName" : "Schema Cache",
          "dynamic" : false,
          "identifiesControllerService" : true,
          "name" : "schema-cache",
          "sensitive" : false
        },
        "Timestamp Format" : {
          "displayName" : "Timestamp Format",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "Timestamp Format",
          "sensitive" : false
        },
        "Date Format" : {
          "displayName" : "Date Format",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "Date Format",
          "sensitive" : false
        },
        "Pretty Print JSON" : {
          "displayName" : "Pretty Print JSON",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "Pretty Print JSON",
          "sensitive" : false
        },
        "compression-format" : {
          "displayName" : "Compression Format",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "compression-format",
          "sensitive" : false
        },
        "Schema Write Strategy" : {
          "displayName" : "Schema Write Strategy",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "Schema Write Strategy",
          "sensitive" : false
        },
        "suppress-nulls" : {
          "displayName" : "Suppress Null Values",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "suppress-nulls",
          "sensitive" : false
        },
        "output-grouping" : {
          "displayName" : "Output Grouping",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "output-grouping",
          "sensitive" : false
        },
        "schema-name" : {
          "displayName" : "Schema Name",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "schema-name",
          "sensitive" : false
        },
        "schema-registry" : {
          "displayName" : "Schema Registry",
          "dynamic" : false,
          "identifiesControllerService" : true,
          "name" : "schema-registry",
          "sensitive" : false
        },
        "Time Format" : {
          "displayName" : "Time Format",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "Time Format",
          "sensitive" : false
        },
        "schema-access-strategy" : {
          "displayName" : "Schema Access Strategy",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "schema-access-strategy",
          "sensitive" : false
        },
        "schema-version" : {
          "displayName" : "Schema Version",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "schema-version",
          "sensitive" : false
        },
        "schema-text" : {
          "displayName" : "Schema Text",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "schema-text",
          "sensitive" : false
        },
        "Schema Reference Writer" : {
          "displayName" : "Schema Reference Writer",
          "dynamic" : false,
          "identifiesControllerService" : true,
          "name" : "Schema Reference Writer",
          "sensitive" : false
        }
      },
      "scheduledState" : "DISABLED",
      "type" : "org.apache.nifi.json.JsonRecordSetWriter"
    } ],
    "defaultBackPressureDataSizeThreshold" : "1 GB",
    "defaultBackPressureObjectThreshold" : 10000,
    "defaultFlowFileExpiration" : "0 sec",
    "executionEngine" : "INHERITED",
    "externalControllerServiceReferences" : { },
    "flowFileConcurrency" : "UNBOUNDED",
    "flowFileOutboundPolicy" : "STREAM_WHEN_AVAILABLE",
    "funnels" : [ {
      "componentType" : "FUNNEL",
      "groupIdentifier" : "flow-contents-group",
      "identifier" : "89358ece-737c-31f9-948d-34d5af91b153",
      "position" : {
        "x" : -64.0,
        "y" : 2072.0
      }
    }, {
      "componentType" : "FUNNEL",
      "groupIdentifier" : "flow-contents-group",
      "identifier" : "b6edf885-b0a1-3dbd-9bd5-05672232c96b",
      "position" : {
        "x" : -56.0,
        "y" : 3104.0
      }
    }, {
      "componentType" : "FUNNEL",
      "groupIdentifier" : "flow-contents-group",
      "identifier" : "2175886a-e1fa-3252-87f1-ea73e6c0f084",
      "position" : {
        "x" : 752.0,
        "y" : 176.0
      }
    }, {
      "componentType" : "FUNNEL",
      "groupIdentifier" : "flow-contents-group",
      "identifier" : "151181f0-f063-385d-80f4-64150b9332da",
      "position" : {
        "x" : -1176.0,
        "y" : 368.0
      }
    }, {
      "componentType" : "FUNNEL",
      "groupIdentifier" : "flow-contents-group",
      "identifier" : "f279c430-e078-32f8-bf8c-7b996eab8da3",
      "position" : {
        "x" : 665.0103935956373,
        "y" : 3366.1921842395445
      }
    }, {
      "componentType" : "FUNNEL",
      "groupIdentifier" : "flow-contents-group",
      "identifier" : "1396ddbf-2fb6-31e9-a940-04db8e827969",
      "position" : {
        "x" : -48.0,
        "y" : 2720.0
      }
    }, {
      "componentType" : "FUNNEL",
      "groupIdentifier" : "flow-contents-group",
      "identifier" : "fea53e35-d9e8-364d-9f3a-c3cfc16b786b",
      "position" : {
        "x" : 675.9525970279084,
        "y" : 2627.782722824776
      }
    }, {
      "componentType" : "FUNNEL",
      "groupIdentifier" : "flow-contents-group",
      "identifier" : "9b3e6dbe-4155-355f-8e5f-2e1fbec82ba1",
      "position" : {
        "x" : 1136.0,
        "y" : 1568.0
      }
    }, {
      "componentType" : "FUNNEL",
      "groupIdentifier" : "flow-contents-group",
      "identifier" : "d8a8901c-c83f-3192-b7cc-3bf231c47db8",
      "position" : {
        "x" : -632.0,
        "y" : 1592.0
      }
    }, {
      "componentType" : "FUNNEL",
      "groupIdentifier" : "flow-contents-group",
      "identifier" : "cda0c52a-cdbe-3dd7-968f-8d76ed49085b",
      "position" : {
        "x" : -80.0,
        "y" : 3648.0
      }
    }, {
      "componentType" : "FUNNEL",
      "groupIdentifier" : "flow-contents-group",
      "identifier" : "95f56f3b-f1e9-3f30-92d0-a3ccc86983e1",
      "position" : {
        "x" : 1234.3731469468573,
        "y" : 906.9225868809418
      }
    }, {
      "componentType" : "FUNNEL",
      "groupIdentifier" : "flow-contents-group",
      "identifier" : "711f0acd-c9cd-323c-97db-7aa354619835",
      "position" : {
        "x" : 1022.7873163969097,
        "y" : 2991.556746862617
      }
    }, {
      "componentType" : "FUNNEL",
      "groupIdentifier" : "flow-contents-group",
      "identifier" : "cde04409-f32e-32f7-bf4e-6b0248e6603d",
      "position" : {
        "x" : -152.0,
        "y" : 1064.0
      }
    } ],
    "identifier" : "flow-contents-group",
    "inputPorts" : [ ],
    "labels" : [ {
      "componentType" : "LABEL",
      "groupIdentifier" : "flow-contents-group",
      "height" : 32.0,
      "identifier" : "74dcce1d-f6cc-3473-858a-fc855b6c1626",
      "label" : "MEDICAMENTOS QUE NÃO ENCONTRARAM COMBINAÇÃO",
      "position" : {
        "x" : 736.0,
        "y" : 2856.0
      },
      "style" : {
        "font-size" : "12px"
      },
      "width" : 416.0,
      "zIndex" : 0
    }, {
      "componentType" : "LABEL",
      "groupIdentifier" : "flow-contents-group",
      "height" : 32.0,
      "identifier" : "1d76b050-0967-3956-aab9-133e39374576",
      "position" : {
        "x" : -208.0,
        "y" : 520.0
      },
      "style" : { },
      "width" : 88.0,
      "zIndex" : 0
    } ],
    "maxConcurrentTasks" : 1,
    "name" : "DDD's",
    "outputPorts" : [ ],
    "parameterContextName" : "DEV",
    "position" : {
      "x" : 0.0,
      "y" : 0.0
    },
    "processGroups" : [ {
      "comments" : "",
      "componentType" : "PROCESS_GROUP",
      "connections" : [ {
        "backPressureDataSizeThreshold" : "1 GB",
        "backPressureObjectThreshold" : 10000,
        "bends" : [ ],
        "componentType" : "CONNECTION",
        "destination" : {
          "groupId" : "09ac79ef-94c0-3a0c-bc96-799f79c2facf",
          "id" : "4c2f3d17-a82c-3abb-9e13-71e7a6f4a68b",
          "name" : "Input",
          "type" : "INPUT_PORT"
        },
        "flowFileExpiration" : "0 sec",
        "groupIdentifier" : "c55c725c-4d6f-3881-82fc-6bea8b74c919",
        "identifier" : "cfce3caa-f0ff-3e64-adff-ae1e9f7f684c",
        "labelIndex" : 0,
        "loadBalanceCompression" : "DO_NOT_COMPRESS",
        "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
        "name" : "",
        "partitioningAttribute" : "",
        "prioritizers" : [ ],
        "selectedRelationships" : [ "CATTLE" ],
        "source" : {
          "comments" : "",
          "groupId" : "c55c725c-4d6f-3881-82fc-6bea8b74c919",
          "id" : "97c2c7e8-a205-37fc-9e39-b9cf9d3813b4",
          "name" : "Animal status",
          "type" : "PROCESSOR"
        },
        "zIndex" : 0
      }, {
        "backPressureDataSizeThreshold" : "1 GB",
        "backPressureObjectThreshold" : 10000,
        "bends" : [ ],
        "componentType" : "CONNECTION",
        "destination" : {
          "groupId" : "8ab2e0fa-5c98-373f-abf6-e6a2e21f63f0",
          "id" : "dc2fe6a3-4871-3b4a-8794-cf68ed63b9d7",
          "name" : "input",
          "type" : "INPUT_PORT"
        },
        "flowFileExpiration" : "0 sec",
        "groupIdentifier" : "c55c725c-4d6f-3881-82fc-6bea8b74c919",
        "identifier" : "6d677492-452d-3a0a-9b9f-238ae0b5dd81",
        "labelIndex" : 0,
        "loadBalanceCompression" : "DO_NOT_COMPRESS",
        "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
        "name" : "",
        "partitioningAttribute" : "",
        "prioritizers" : [ ],
        "selectedRelationships" : [ "ANIMAL_STATUS_NULL" ],
        "source" : {
          "comments" : "",
          "groupId" : "c55c725c-4d6f-3881-82fc-6bea8b74c919",
          "id" : "fce14479-c39f-3cd1-84e8-88d2c584b80b",
          "name" : "Animal status NULL",
          "type" : "PROCESSOR"
        },
        "zIndex" : 0
      }, {
        "backPressureDataSizeThreshold" : "1 GB",
        "backPressureObjectThreshold" : 10000,
        "bends" : [ ],
        "componentType" : "CONNECTION",
        "destination" : {
          "comments" : "",
          "groupId" : "c55c725c-4d6f-3881-82fc-6bea8b74c919",
          "id" : "c15de178-c931-3c1a-b0d7-171ca484388a",
          "name" : "Funnel",
          "type" : "FUNNEL"
        },
        "flowFileExpiration" : "0 sec",
        "groupIdentifier" : "c55c725c-4d6f-3881-82fc-6bea8b74c919",
        "identifier" : "d137f0b5-b7de-3d5c-83e7-aefd02fe9992",
        "labelIndex" : 0,
        "loadBalanceCompression" : "DO_NOT_COMPRESS",
        "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
        "name" : "",
        "partitioningAttribute" : "",
        "prioritizers" : [ ],
        "selectedRelationships" : [ "" ],
        "source" : {
          "groupId" : "d336971a-956f-3324-b998-a16ada156c41",
          "id" : "ed194cbb-6f70-3b04-9104-f65fc2303791",
          "name" : "Output",
          "type" : "OUTPUT_PORT"
        },
        "zIndex" : 0
      }, {
        "backPressureDataSizeThreshold" : "1 GB",
        "backPressureObjectThreshold" : 10000,
        "bends" : [ ],
        "componentType" : "CONNECTION",
        "destination" : {
          "comments" : "",
          "groupId" : "c55c725c-4d6f-3881-82fc-6bea8b74c919",
          "id" : "c15de178-c931-3c1a-b0d7-171ca484388a",
          "name" : "Funnel",
          "type" : "FUNNEL"
        },
        "flowFileExpiration" : "0 sec",
        "groupIdentifier" : "c55c725c-4d6f-3881-82fc-6bea8b74c919",
        "identifier" : "c67881de-5444-3801-a635-3e1ed3d0ec84",
        "labelIndex" : 0,
        "loadBalanceCompression" : "DO_NOT_COMPRESS",
        "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
        "name" : "",
        "partitioningAttribute" : "",
        "prioritizers" : [ ],
        "selectedRelationships" : [ "" ],
        "source" : {
          "groupId" : "70a8fba2-1aa1-3f9b-aff3-5ef9d75925f6",
          "id" : "04f2afaf-61a5-31b0-9c12-0bae99207d80",
          "name" : "Output",
          "type" : "OUTPUT_PORT"
        },
        "zIndex" : 0
      }, {
        "backPressureDataSizeThreshold" : "1 GB",
        "backPressureObjectThreshold" : 10000,
        "bends" : [ ],
        "componentType" : "CONNECTION",
        "destination" : {
          "comments" : "",
          "groupId" : "c55c725c-4d6f-3881-82fc-6bea8b74c919",
          "id" : "97c2c7e8-a205-37fc-9e39-b9cf9d3813b4",
          "name" : "Animal status",
          "type" : "PROCESSOR"
        },
        "flowFileExpiration" : "0 sec",
        "groupIdentifier" : "c55c725c-4d6f-3881-82fc-6bea8b74c919",
        "identifier" : "bce5d65a-5499-301f-9c5a-5bd5f006252d",
        "labelIndex" : 0,
        "loadBalanceCompression" : "DO_NOT_COMPRESS",
        "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
        "name" : "",
        "partitioningAttribute" : "",
        "prioritizers" : [ ],
        "selectedRelationships" : [ "" ],
        "source" : {
          "groupId" : "c55c725c-4d6f-3881-82fc-6bea8b74c919",
          "id" : "b8280196-3e46-37db-8db9-3108293a6758",
          "name" : "INPUT",
          "type" : "INPUT_PORT"
        },
        "zIndex" : 0
      }, {
        "backPressureDataSizeThreshold" : "1 GB",
        "backPressureObjectThreshold" : 10000,
        "bends" : [ ],
        "componentType" : "CONNECTION",
        "destination" : {
          "groupId" : "a3cf9980-cc63-37c8-b168-b353f709fef5",
          "id" : "4a14c42f-2a77-3780-8615-f419561b4b76",
          "name" : "Input",
          "type" : "INPUT_PORT"
        },
        "flowFileExpiration" : "0 sec",
        "groupIdentifier" : "c55c725c-4d6f-3881-82fc-6bea8b74c919",
        "identifier" : "b950bf2d-3cc5-3890-a584-c4507edbb42b",
        "labelIndex" : 0,
        "loadBalanceCompression" : "DO_NOT_COMPRESS",
        "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
        "name" : "",
        "partitioningAttribute" : "",
        "prioritizers" : [ ],
        "selectedRelationships" : [ "DRY_COW" ],
        "source" : {
          "comments" : "",
          "groupId" : "c55c725c-4d6f-3881-82fc-6bea8b74c919",
          "id" : "97c2c7e8-a205-37fc-9e39-b9cf9d3813b4",
          "name" : "Animal status",
          "type" : "PROCESSOR"
        },
        "zIndex" : 0
      }, {
        "backPressureDataSizeThreshold" : "1 GB",
        "backPressureObjectThreshold" : 10000,
        "bends" : [ ],
        "componentType" : "CONNECTION",
        "destination" : {
          "comments" : "",
          "groupId" : "c55c725c-4d6f-3881-82fc-6bea8b74c919",
          "id" : "c15de178-c931-3c1a-b0d7-171ca484388a",
          "name" : "Funnel",
          "type" : "FUNNEL"
        },
        "flowFileExpiration" : "0 sec",
        "groupIdentifier" : "c55c725c-4d6f-3881-82fc-6bea8b74c919",
        "identifier" : "06889530-1358-3327-9a12-402acfab73e7",
        "labelIndex" : 0,
        "loadBalanceCompression" : "DO_NOT_COMPRESS",
        "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
        "name" : "",
        "partitioningAttribute" : "",
        "prioritizers" : [ ],
        "selectedRelationships" : [ "" ],
        "source" : {
          "groupId" : "09ac79ef-94c0-3a0c-bc96-799f79c2facf",
          "id" : "8552b09e-c3a4-395c-bc3f-8bd4ea3cf0fb",
          "name" : "Output",
          "type" : "OUTPUT_PORT"
        },
        "zIndex" : 0
      }, {
        "backPressureDataSizeThreshold" : "1 GB",
        "backPressureObjectThreshold" : 10000,
        "bends" : [ ],
        "componentType" : "CONNECTION",
        "destination" : {
          "groupId" : "c55c725c-4d6f-3881-82fc-6bea8b74c919",
          "id" : "1e665acd-83b0-3b17-9144-609b4d5d784e",
          "name" : "OUTPUT",
          "type" : "OUTPUT_PORT"
        },
        "flowFileExpiration" : "0 sec",
        "groupIdentifier" : "c55c725c-4d6f-3881-82fc-6bea8b74c919",
        "identifier" : "a121ebb1-a03a-3759-980c-d9e53799b048",
        "labelIndex" : 0,
        "loadBalanceCompression" : "DO_NOT_COMPRESS",
        "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
        "name" : "",
        "partitioningAttribute" : "",
        "prioritizers" : [ ],
        "selectedRelationships" : [ "" ],
        "source" : {
          "comments" : "",
          "groupId" : "c55c725c-4d6f-3881-82fc-6bea8b74c919",
          "id" : "c15de178-c931-3c1a-b0d7-171ca484388a",
          "name" : "Funnel",
          "type" : "FUNNEL"
        },
        "zIndex" : 0
      }, {
        "backPressureDataSizeThreshold" : "1 GB",
        "backPressureObjectThreshold" : 10000,
        "bends" : [ ],
        "componentType" : "CONNECTION",
        "destination" : {
          "comments" : "",
          "groupId" : "c55c725c-4d6f-3881-82fc-6bea8b74c919",
          "id" : "c15de178-c931-3c1a-b0d7-171ca484388a",
          "name" : "Funnel",
          "type" : "FUNNEL"
        },
        "flowFileExpiration" : "0 sec",
        "groupIdentifier" : "c55c725c-4d6f-3881-82fc-6bea8b74c919",
        "identifier" : "3bf3622a-69ff-3233-96ec-8e7bd5591c10",
        "labelIndex" : 0,
        "loadBalanceCompression" : "DO_NOT_COMPRESS",
        "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
        "name" : "",
        "partitioningAttribute" : "",
        "prioritizers" : [ ],
        "selectedRelationships" : [ "" ],
        "source" : {
          "groupId" : "a3cf9980-cc63-37c8-b168-b353f709fef5",
          "id" : "7ae68216-0d21-3b53-a7cc-faee3f4b2626",
          "name" : "Output",
          "type" : "OUTPUT_PORT"
        },
        "zIndex" : 0
      }, {
        "backPressureDataSizeThreshold" : "1 GB",
        "backPressureObjectThreshold" : 10000,
        "bends" : [ ],
        "componentType" : "CONNECTION",
        "destination" : {
          "groupId" : "70a8fba2-1aa1-3f9b-aff3-5ef9d75925f6",
          "id" : "4b20904a-8d34-33d1-8792-43de6bf132d6",
          "name" : "Input",
          "type" : "INPUT_PORT"
        },
        "flowFileExpiration" : "0 sec",
        "groupIdentifier" : "c55c725c-4d6f-3881-82fc-6bea8b74c919",
        "identifier" : "7e4f039f-39e0-3d21-b02d-bf02487f5e05",
        "labelIndex" : 0,
        "loadBalanceCompression" : "DO_NOT_COMPRESS",
        "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
        "name" : "",
        "partitioningAttribute" : "",
        "prioritizers" : [ ],
        "selectedRelationships" : [ "BROILERS" ],
        "source" : {
          "comments" : "",
          "groupId" : "c55c725c-4d6f-3881-82fc-6bea8b74c919",
          "id" : "97c2c7e8-a205-37fc-9e39-b9cf9d3813b4",
          "name" : "Animal status",
          "type" : "PROCESSOR"
        },
        "zIndex" : 0
      }, {
        "backPressureDataSizeThreshold" : "1 GB",
        "backPressureObjectThreshold" : 10000,
        "bends" : [ ],
        "componentType" : "CONNECTION",
        "destination" : {
          "groupId" : "d336971a-956f-3324-b998-a16ada156c41",
          "id" : "5a06f9a3-4f0b-3bdc-b4e0-b512c36899bc",
          "name" : "Input",
          "type" : "INPUT_PORT"
        },
        "flowFileExpiration" : "0 sec",
        "groupIdentifier" : "c55c725c-4d6f-3881-82fc-6bea8b74c919",
        "identifier" : "5bd98c28-94cb-3fbc-9c0a-a05aaf1ca1e2",
        "labelIndex" : 0,
        "loadBalanceCompression" : "DO_NOT_COMPRESS",
        "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
        "name" : "",
        "partitioningAttribute" : "",
        "prioritizers" : [ ],
        "selectedRelationships" : [ "LACTATING" ],
        "source" : {
          "comments" : "",
          "groupId" : "c55c725c-4d6f-3881-82fc-6bea8b74c919",
          "id" : "97c2c7e8-a205-37fc-9e39-b9cf9d3813b4",
          "name" : "Animal status",
          "type" : "PROCESSOR"
        },
        "zIndex" : 0
      }, {
        "backPressureDataSizeThreshold" : "1 GB",
        "backPressureObjectThreshold" : 10000,
        "bends" : [ ],
        "componentType" : "CONNECTION",
        "destination" : {
          "comments" : "",
          "groupId" : "c55c725c-4d6f-3881-82fc-6bea8b74c919",
          "id" : "97c2c7e8-a205-37fc-9e39-b9cf9d3813b4",
          "name" : "Animal status",
          "type" : "PROCESSOR"
        },
        "flowFileExpiration" : "0 sec",
        "groupIdentifier" : "c55c725c-4d6f-3881-82fc-6bea8b74c919",
        "identifier" : "16375007-47d3-3711-90d0-35781c0bf90f",
        "labelIndex" : 0,
        "loadBalanceCompression" : "DO_NOT_COMPRESS",
        "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
        "name" : "",
        "partitioningAttribute" : "",
        "prioritizers" : [ ],
        "selectedRelationships" : [ "" ],
        "source" : {
          "groupId" : "8ab2e0fa-5c98-373f-abf6-e6a2e21f63f0",
          "id" : "c6101ba7-81fb-35d9-8e4a-aeb6d51b396f",
          "name" : "output",
          "type" : "OUTPUT_PORT"
        },
        "zIndex" : 0
      }, {
        "backPressureDataSizeThreshold" : "1 GB",
        "backPressureObjectThreshold" : 10000,
        "bends" : [ ],
        "componentType" : "CONNECTION",
        "destination" : {
          "comments" : "",
          "groupId" : "c55c725c-4d6f-3881-82fc-6bea8b74c919",
          "id" : "fce14479-c39f-3cd1-84e8-88d2c584b80b",
          "name" : "Animal status NULL",
          "type" : "PROCESSOR"
        },
        "flowFileExpiration" : "0 sec",
        "groupIdentifier" : "c55c725c-4d6f-3881-82fc-6bea8b74c919",
        "identifier" : "993ce93d-d54e-3e13-b4be-f40bc17cce48",
        "labelIndex" : 0,
        "loadBalanceCompression" : "DO_NOT_COMPRESS",
        "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
        "name" : "",
        "partitioningAttribute" : "",
        "prioritizers" : [ ],
        "selectedRelationships" : [ "" ],
        "source" : {
          "groupId" : "c55c725c-4d6f-3881-82fc-6bea8b74c919",
          "id" : "b8280196-3e46-37db-8db9-3108293a6758",
          "name" : "INPUT",
          "type" : "INPUT_PORT"
        },
        "zIndex" : 0
      } ],
      "controllerServices" : [ ],
      "defaultBackPressureDataSizeThreshold" : "1 GB",
      "defaultBackPressureObjectThreshold" : 10000,
      "defaultFlowFileExpiration" : "0 sec",
      "executionEngine" : "INHERITED",
      "flowFileConcurrency" : "UNBOUNDED",
      "flowFileOutboundPolicy" : "STREAM_WHEN_AVAILABLE",
      "funnels" : [ {
        "componentType" : "FUNNEL",
        "groupIdentifier" : "c55c725c-4d6f-3881-82fc-6bea8b74c919",
        "identifier" : "c15de178-c931-3c1a-b0d7-171ca484388a",
        "position" : {
          "x" : 600.0,
          "y" : 1120.0
        }
      } ],
      "groupIdentifier" : "flow-contents-group",
      "identifier" : "c55c725c-4d6f-3881-82fc-6bea8b74c919",
      "inputPorts" : [ {
        "allowRemoteAccess" : false,
        "componentType" : "INPUT_PORT",
        "concurrentlySchedulableTaskCount" : 1,
        "groupIdentifier" : "c55c725c-4d6f-3881-82fc-6bea8b74c919",
        "identifier" : "b8280196-3e46-37db-8db9-3108293a6758",
        "name" : "INPUT",
        "portFunction" : "STANDARD",
        "position" : {
          "x" : -176.0,
          "y" : -752.0
        },
        "scheduledState" : "ENABLED",
        "type" : "INPUT_PORT"
      } ],
      "labels" : [ ],
      "maxConcurrentTasks" : 1,
      "name" : "MEDS COMPLEXO",
      "outputPorts" : [ {
        "allowRemoteAccess" : false,
        "componentType" : "OUTPUT_PORT",
        "concurrentlySchedulableTaskCount" : 1,
        "groupIdentifier" : "c55c725c-4d6f-3881-82fc-6bea8b74c919",
        "identifier" : "1e665acd-83b0-3b17-9144-609b4d5d784e",
        "name" : "OUTPUT",
        "portFunction" : "STANDARD",
        "position" : {
          "x" : 512.0,
          "y" : 1512.0
        },
        "scheduledState" : "ENABLED",
        "type" : "OUTPUT_PORT"
      } ],
      "parameterContextName" : "DEV",
      "position" : {
        "x" : -304.0,
        "y" : 1272.0
      },
      "processGroups" : [ {
        "comments" : "",
        "componentType" : "PROCESS_GROUP",
        "connections" : [ {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "70a8fba2-1aa1-3f9b-aff3-5ef9d75925f6",
            "id" : "d2a71d15-ec57-3f91-abb7-9f90e81541fb",
            "name" : "separa medicamento de comp",
            "type" : "PROCESSOR"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "70a8fba2-1aa1-3f9b-aff3-5ef9d75925f6",
          "identifier" : "854fcc66-ba66-3b43-ba8d-1cab88a7b87b",
          "labelIndex" : 1,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ ],
          "selectedRelationships" : [ "success" ],
          "source" : {
            "comments" : "",
            "groupId" : "70a8fba2-1aa1-3f9b-aff3-5ef9d75925f6",
            "id" : "924ff3eb-3817-3ed7-b3d1-0961ab7496b7",
            "name" : "COUNT MEDS & COMP",
            "type" : "PROCESSOR"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ {
            "x" : 48.0,
            "y" : 1520.0
          } ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "70a8fba2-1aa1-3f9b-aff3-5ef9d75925f6",
            "id" : "386aed12-7376-3e3f-9465-07f5eb555246",
            "name" : "JoinEnrichment",
            "type" : "PROCESSOR"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "70a8fba2-1aa1-3f9b-aff3-5ef9d75925f6",
          "identifier" : "62a7ed10-6aa4-3e0a-b803-c64df5276259",
          "labelIndex" : 1,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ "org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer" ],
          "selectedRelationships" : [ "medicamento" ],
          "source" : {
            "comments" : "",
            "groupId" : "70a8fba2-1aa1-3f9b-aff3-5ef9d75925f6",
            "id" : "d2a71d15-ec57-3f91-abb7-9f90e81541fb",
            "name" : "separa medicamento de comp",
            "type" : "PROCESSOR"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "70a8fba2-1aa1-3f9b-aff3-5ef9d75925f6",
            "id" : "386aed12-7376-3e3f-9465-07f5eb555246",
            "name" : "JoinEnrichment",
            "type" : "PROCESSOR"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "70a8fba2-1aa1-3f9b-aff3-5ef9d75925f6",
          "identifier" : "80b71e4e-7e26-3de8-a578-8f4b452831cb",
          "labelIndex" : 1,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ "org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer" ],
          "selectedRelationships" : [ "unmatched" ],
          "source" : {
            "comments" : "",
            "groupId" : "70a8fba2-1aa1-3f9b-aff3-5ef9d75925f6",
            "id" : "d2a71d15-ec57-3f91-abb7-9f90e81541fb",
            "name" : "separa medicamento de comp",
            "type" : "PROCESSOR"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "70a8fba2-1aa1-3f9b-aff3-5ef9d75925f6",
            "id" : "922ff334-2034-3e58-a291-74b7ac94edf0",
            "name" : "Incrementa iteracao",
            "type" : "PROCESSOR"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "70a8fba2-1aa1-3f9b-aff3-5ef9d75925f6",
          "identifier" : "34ccf242-a255-376e-85c6-4a510814a97c",
          "labelIndex" : 1,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ "org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer" ],
          "selectedRelationships" : [ "" ],
          "source" : {
            "comments" : "",
            "groupId" : "70a8fba2-1aa1-3f9b-aff3-5ef9d75925f6",
            "id" : "dc2d2209-e19a-3f09-a3ef-6b4a0c974afa",
            "name" : "Funnel",
            "type" : "FUNNEL"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ {
            "x" : 768.0,
            "y" : 1696.0
          } ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "70a8fba2-1aa1-3f9b-aff3-5ef9d75925f6",
            "id" : "dc2d2209-e19a-3f09-a3ef-6b4a0c974afa",
            "name" : "Funnel",
            "type" : "FUNNEL"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "70a8fba2-1aa1-3f9b-aff3-5ef9d75925f6",
          "identifier" : "a366fe19-287f-3164-bbe6-aa909d22b094",
          "labelIndex" : 1,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ "org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer" ],
          "selectedRelationships" : [ "timeout" ],
          "source" : {
            "comments" : "",
            "groupId" : "70a8fba2-1aa1-3f9b-aff3-5ef9d75925f6",
            "id" : "386aed12-7376-3e3f-9465-07f5eb555246",
            "name" : "JoinEnrichment",
            "type" : "PROCESSOR"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "70a8fba2-1aa1-3f9b-aff3-5ef9d75925f6",
            "id" : "d2a71d15-ec57-3f91-abb7-9f90e81541fb",
            "name" : "separa medicamento de comp",
            "type" : "PROCESSOR"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "70a8fba2-1aa1-3f9b-aff3-5ef9d75925f6",
          "identifier" : "f7bce211-71e1-33c1-ae9a-01b3759e927c",
          "labelIndex" : 1,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ ],
          "selectedRelationships" : [ "unmatched" ],
          "source" : {
            "comments" : "",
            "groupId" : "70a8fba2-1aa1-3f9b-aff3-5ef9d75925f6",
            "id" : "cc4e4495-db70-3dcb-9991-4ebc9af63644",
            "name" : "isFinished ?",
            "type" : "PROCESSOR"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "70a8fba2-1aa1-3f9b-aff3-5ef9d75925f6",
            "id" : "d2a71d15-ec57-3f91-abb7-9f90e81541fb",
            "name" : "separa medicamento de comp",
            "type" : "PROCESSOR"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "70a8fba2-1aa1-3f9b-aff3-5ef9d75925f6",
          "identifier" : "e99a6e47-eabb-3634-a72f-65ea2af4a30a",
          "labelIndex" : 1,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ ],
          "selectedRelationships" : [ "unmatched" ],
          "source" : {
            "comments" : "",
            "groupId" : "70a8fba2-1aa1-3f9b-aff3-5ef9d75925f6",
            "id" : "cbbcbbca-7e60-3695-a838-a5266fe3994b",
            "name" : "separa medicamento de comp",
            "type" : "PROCESSOR"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "70a8fba2-1aa1-3f9b-aff3-5ef9d75925f6",
            "id" : "cbbcbbca-7e60-3695-a838-a5266fe3994b",
            "name" : "separa medicamento de comp",
            "type" : "PROCESSOR"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "70a8fba2-1aa1-3f9b-aff3-5ef9d75925f6",
          "identifier" : "af5e15b8-2f62-3a37-9307-f9f0c6e1f891",
          "labelIndex" : 1,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ ],
          "selectedRelationships" : [ "success" ],
          "source" : {
            "comments" : "",
            "groupId" : "70a8fba2-1aa1-3f9b-aff3-5ef9d75925f6",
            "id" : "922ff334-2034-3e58-a291-74b7ac94edf0",
            "name" : "Incrementa iteracao",
            "type" : "PROCESSOR"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "70a8fba2-1aa1-3f9b-aff3-5ef9d75925f6",
            "id" : "988cce79-2917-35bd-b254-85d237426454",
            "name" : "Verificou todos medicamentos",
            "type" : "PROCESSOR"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "70a8fba2-1aa1-3f9b-aff3-5ef9d75925f6",
          "identifier" : "68ed6a10-939f-31c9-b6a7-f5da3d328725",
          "labelIndex" : 1,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ ],
          "selectedRelationships" : [ "joined" ],
          "source" : {
            "comments" : "",
            "groupId" : "70a8fba2-1aa1-3f9b-aff3-5ef9d75925f6",
            "id" : "386aed12-7376-3e3f-9465-07f5eb555246",
            "name" : "JoinEnrichment",
            "type" : "PROCESSOR"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "70a8fba2-1aa1-3f9b-aff3-5ef9d75925f6",
            "id" : "dc2d2209-e19a-3f09-a3ef-6b4a0c974afa",
            "name" : "Funnel",
            "type" : "FUNNEL"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "70a8fba2-1aa1-3f9b-aff3-5ef9d75925f6",
          "identifier" : "03bad37f-79f4-3564-960d-6f89f59ffa8e",
          "labelIndex" : 1,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ "org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer" ],
          "selectedRelationships" : [ "failure" ],
          "source" : {
            "comments" : "",
            "groupId" : "70a8fba2-1aa1-3f9b-aff3-5ef9d75925f6",
            "id" : "386aed12-7376-3e3f-9465-07f5eb555246",
            "name" : "JoinEnrichment",
            "type" : "PROCESSOR"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "70a8fba2-1aa1-3f9b-aff3-5ef9d75925f6",
            "id" : "e6aa5aa5-9c26-31f2-8944-ffdec9abd05a",
            "name" : "Funnel",
            "type" : "FUNNEL"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "70a8fba2-1aa1-3f9b-aff3-5ef9d75925f6",
          "identifier" : "7349481d-dd6f-39f3-893b-daef18a45638",
          "labelIndex" : 1,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ ],
          "selectedRelationships" : [ "success" ],
          "source" : {
            "comments" : "",
            "groupId" : "70a8fba2-1aa1-3f9b-aff3-5ef9d75925f6",
            "id" : "988cce79-2917-35bd-b254-85d237426454",
            "name" : "Verificou todos medicamentos",
            "type" : "PROCESSOR"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "70a8fba2-1aa1-3f9b-aff3-5ef9d75925f6",
            "id" : "e6aa5aa5-9c26-31f2-8944-ffdec9abd05a",
            "name" : "Funnel",
            "type" : "FUNNEL"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "70a8fba2-1aa1-3f9b-aff3-5ef9d75925f6",
          "identifier" : "a4835be6-d9bd-3bdb-b724-91618a1df04d",
          "labelIndex" : 1,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ ],
          "selectedRelationships" : [ "success" ],
          "source" : {
            "comments" : "",
            "groupId" : "70a8fba2-1aa1-3f9b-aff3-5ef9d75925f6",
            "id" : "ff6727fa-b01e-32dd-a0ce-70e2731cedad",
            "name" : "Verificou todos medicamentos",
            "type" : "PROCESSOR"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "70a8fba2-1aa1-3f9b-aff3-5ef9d75925f6",
            "id" : "3d697915-9394-3264-b0ce-2829027d83e0",
            "name" : "Interacao = 0",
            "type" : "PROCESSOR"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "70a8fba2-1aa1-3f9b-aff3-5ef9d75925f6",
          "identifier" : "bbdb470d-20cf-3827-9e70-2530c1544eac",
          "labelIndex" : 1,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ ],
          "selectedRelationships" : [ "" ],
          "source" : {
            "groupId" : "70a8fba2-1aa1-3f9b-aff3-5ef9d75925f6",
            "id" : "4b20904a-8d34-33d1-8792-43de6bf132d6",
            "name" : "Input",
            "type" : "INPUT_PORT"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "70a8fba2-1aa1-3f9b-aff3-5ef9d75925f6",
            "id" : "ff6727fa-b01e-32dd-a0ce-70e2731cedad",
            "name" : "Verificou todos medicamentos",
            "type" : "PROCESSOR"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "70a8fba2-1aa1-3f9b-aff3-5ef9d75925f6",
          "identifier" : "041d91bc-0da9-3132-9efa-b4c8e8fcecf5",
          "labelIndex" : 1,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ "org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer" ],
          "selectedRelationships" : [ "isFinished" ],
          "source" : {
            "comments" : "",
            "groupId" : "70a8fba2-1aa1-3f9b-aff3-5ef9d75925f6",
            "id" : "cc4e4495-db70-3dcb-9991-4ebc9af63644",
            "name" : "isFinished ?",
            "type" : "PROCESSOR"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "70a8fba2-1aa1-3f9b-aff3-5ef9d75925f6",
            "id" : "cc4e4495-db70-3dcb-9991-4ebc9af63644",
            "name" : "isFinished ?",
            "type" : "PROCESSOR"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "70a8fba2-1aa1-3f9b-aff3-5ef9d75925f6",
          "identifier" : "93ab68e0-bd16-343e-b1c6-11c1282ff537",
          "labelIndex" : 1,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ ],
          "selectedRelationships" : [ "medicamento" ],
          "source" : {
            "comments" : "",
            "groupId" : "70a8fba2-1aa1-3f9b-aff3-5ef9d75925f6",
            "id" : "cbbcbbca-7e60-3695-a838-a5266fe3994b",
            "name" : "separa medicamento de comp",
            "type" : "PROCESSOR"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "70a8fba2-1aa1-3f9b-aff3-5ef9d75925f6",
            "id" : "dc2d2209-e19a-3f09-a3ef-6b4a0c974afa",
            "name" : "Funnel",
            "type" : "FUNNEL"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "70a8fba2-1aa1-3f9b-aff3-5ef9d75925f6",
          "identifier" : "b8a770bb-08ff-34a1-a715-bad52256153a",
          "labelIndex" : 1,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ "org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer" ],
          "selectedRelationships" : [ "unmatched" ],
          "source" : {
            "comments" : "",
            "groupId" : "70a8fba2-1aa1-3f9b-aff3-5ef9d75925f6",
            "id" : "e5bb78c2-33ec-3d84-b710-b9b02bf174bd",
            "name" : "APENAS_COMP",
            "type" : "PROCESSOR"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "70a8fba2-1aa1-3f9b-aff3-5ef9d75925f6",
            "id" : "b92ef340-fa4b-3876-b7d4-01b3fd6439dc",
            "name" : "Funnel",
            "type" : "FUNNEL"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "70a8fba2-1aa1-3f9b-aff3-5ef9d75925f6",
          "identifier" : "574b65b8-54d0-3e2f-8986-b0cb20be955a",
          "labelIndex" : 1,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ "org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer" ],
          "selectedRelationships" : [ "original" ],
          "source" : {
            "comments" : "",
            "groupId" : "70a8fba2-1aa1-3f9b-aff3-5ef9d75925f6",
            "id" : "386aed12-7376-3e3f-9465-07f5eb555246",
            "name" : "JoinEnrichment",
            "type" : "PROCESSOR"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "groupId" : "70a8fba2-1aa1-3f9b-aff3-5ef9d75925f6",
            "id" : "04f2afaf-61a5-31b0-9c12-0bae99207d80",
            "name" : "Output",
            "type" : "OUTPUT_PORT"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "70a8fba2-1aa1-3f9b-aff3-5ef9d75925f6",
          "identifier" : "eae468ad-e4b2-3a77-a2e1-36432360d5ae",
          "labelIndex" : 1,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ ],
          "selectedRelationships" : [ "" ],
          "source" : {
            "comments" : "",
            "groupId" : "70a8fba2-1aa1-3f9b-aff3-5ef9d75925f6",
            "id" : "e6aa5aa5-9c26-31f2-8944-ffdec9abd05a",
            "name" : "Funnel",
            "type" : "FUNNEL"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "70a8fba2-1aa1-3f9b-aff3-5ef9d75925f6",
            "id" : "e5bb78c2-33ec-3d84-b710-b9b02bf174bd",
            "name" : "APENAS_COMP",
            "type" : "PROCESSOR"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "70a8fba2-1aa1-3f9b-aff3-5ef9d75925f6",
          "identifier" : "d69ba1d4-7777-31a1-83b4-308c54e3b1f7",
          "labelIndex" : 1,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ "org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer" ],
          "selectedRelationships" : [ "" ],
          "source" : {
            "comments" : "",
            "groupId" : "70a8fba2-1aa1-3f9b-aff3-5ef9d75925f6",
            "id" : "b92ef340-fa4b-3876-b7d4-01b3fd6439dc",
            "name" : "Funnel",
            "type" : "FUNNEL"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "70a8fba2-1aa1-3f9b-aff3-5ef9d75925f6",
            "id" : "924ff3eb-3817-3ed7-b3d1-0961ab7496b7",
            "name" : "COUNT MEDS & COMP",
            "type" : "PROCESSOR"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "70a8fba2-1aa1-3f9b-aff3-5ef9d75925f6",
          "identifier" : "cd32266b-82d9-3001-a92e-109f4158db76",
          "labelIndex" : 1,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ ],
          "selectedRelationships" : [ "success" ],
          "source" : {
            "comments" : "",
            "groupId" : "70a8fba2-1aa1-3f9b-aff3-5ef9d75925f6",
            "id" : "3d697915-9394-3264-b0ce-2829027d83e0",
            "name" : "Interacao = 0",
            "type" : "PROCESSOR"
          },
          "zIndex" : 0
        } ],
        "controllerServices" : [ ],
        "defaultBackPressureDataSizeThreshold" : "1 GB",
        "defaultBackPressureObjectThreshold" : 10000,
        "defaultFlowFileExpiration" : "0 sec",
        "executionEngine" : "INHERITED",
        "flowFileConcurrency" : "UNBOUNDED",
        "flowFileOutboundPolicy" : "STREAM_WHEN_AVAILABLE",
        "funnels" : [ {
          "componentType" : "FUNNEL",
          "groupIdentifier" : "70a8fba2-1aa1-3f9b-aff3-5ef9d75925f6",
          "identifier" : "e6aa5aa5-9c26-31f2-8944-ffdec9abd05a",
          "position" : {
            "x" : 10.125,
            "y" : 2318.399299621582
          }
        }, {
          "componentType" : "FUNNEL",
          "groupIdentifier" : "70a8fba2-1aa1-3f9b-aff3-5ef9d75925f6",
          "identifier" : "dc2d2209-e19a-3f09-a3ef-6b4a0c974afa",
          "position" : {
            "x" : 1264.0,
            "y" : 1648.0
          }
        }, {
          "componentType" : "FUNNEL",
          "groupIdentifier" : "70a8fba2-1aa1-3f9b-aff3-5ef9d75925f6",
          "identifier" : "b92ef340-fa4b-3876-b7d4-01b3fd6439dc",
          "position" : {
            "x" : 1856.0,
            "y" : 1872.0
          }
        } ],
        "groupIdentifier" : "c55c725c-4d6f-3881-82fc-6bea8b74c919",
        "identifier" : "70a8fba2-1aa1-3f9b-aff3-5ef9d75925f6",
        "inputPorts" : [ {
          "allowRemoteAccess" : false,
          "componentType" : "INPUT_PORT",
          "concurrentlySchedulableTaskCount" : 1,
          "groupIdentifier" : "70a8fba2-1aa1-3f9b-aff3-5ef9d75925f6",
          "identifier" : "4b20904a-8d34-33d1-8792-43de6bf132d6",
          "name" : "Input",
          "portFunction" : "STANDARD",
          "position" : {
            "x" : -376.0,
            "y" : -104.0
          },
          "scheduledState" : "ENABLED",
          "type" : "INPUT_PORT"
        } ],
        "labels" : [ ],
        "maxConcurrentTasks" : 1,
        "name" : "Copy of Copy of Copy of Join",
        "outputPorts" : [ {
          "allowRemoteAccess" : false,
          "componentType" : "OUTPUT_PORT",
          "concurrentlySchedulableTaskCount" : 1,
          "groupIdentifier" : "70a8fba2-1aa1-3f9b-aff3-5ef9d75925f6",
          "identifier" : "04f2afaf-61a5-31b0-9c12-0bae99207d80",
          "name" : "Output",
          "portFunction" : "STANDARD",
          "position" : {
            "x" : -80.0,
            "y" : 2528.0
          },
          "scheduledState" : "ENABLED",
          "type" : "OUTPUT_PORT"
        } ],
        "parameterContextName" : "DEV",
        "position" : {
          "x" : -648.0,
          "y" : 648.0
        },
        "processGroups" : [ ],
        "processors" : [ {
          "autoTerminatedRelationships" : [ "medicamento" ],
          "backoffMechanism" : "PENALIZE_FLOWFILE",
          "bulletinLevel" : "WARN",
          "bundle" : {
            "artifact" : "nifi-standard-nar",
            "group" : "org.apache.nifi",
            "version" : "2.0.0"
          },
          "comments" : "",
          "componentType" : "PROCESSOR",
          "concurrentlySchedulableTaskCount" : 1,
          "executionNode" : "ALL",
          "groupIdentifier" : "70a8fba2-1aa1-3f9b-aff3-5ef9d75925f6",
          "identifier" : "e5bb78c2-33ec-3d84-b710-b9b02bf174bd",
          "maxBackoffPeriod" : "10 mins",
          "name" : "APENAS_COMP",
          "penaltyDuration" : "30 sec",
          "position" : {
            "x" : 1608.0,
            "y" : 1360.0
          },
          "properties" : {
            "Routing Strategy" : "Route to Property name",
            "medicamento" : "${enrichment.role:toString():contains('ORIGINAL')}"
          },
          "propertyDescriptors" : {
            "Routing Strategy" : {
              "displayName" : "Routing Strategy",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Routing Strategy",
              "sensitive" : false
            },
            "medicamento" : {
              "displayName" : "medicamento",
              "dynamic" : true,
              "identifiesControllerService" : false,
              "name" : "medicamento",
              "sensitive" : false
            }
          },
          "retriedRelationships" : [ ],
          "retryCount" : 10,
          "runDurationMillis" : 25,
          "scheduledState" : "ENABLED",
          "schedulingPeriod" : "0 sec",
          "schedulingStrategy" : "TIMER_DRIVEN",
          "style" : { },
          "type" : "org.apache.nifi.processors.standard.RouteOnAttribute",
          "yieldDuration" : "1 sec"
        }, {
          "autoTerminatedRelationships" : [ ],
          "backoffMechanism" : "PENALIZE_FLOWFILE",
          "bulletinLevel" : "WARN",
          "bundle" : {
            "artifact" : "nifi-standard-nar",
            "group" : "org.apache.nifi",
            "version" : "2.0.0"
          },
          "comments" : "",
          "componentType" : "PROCESSOR",
          "concurrentlySchedulableTaskCount" : 1,
          "executionNode" : "ALL",
          "groupIdentifier" : "70a8fba2-1aa1-3f9b-aff3-5ef9d75925f6",
          "identifier" : "386aed12-7376-3e3f-9465-07f5eb555246",
          "maxBackoffPeriod" : "10 mins",
          "name" : "JoinEnrichment",
          "penaltyDuration" : "30 sec",
          "position" : {
            "x" : -472.0,
            "y" : 1792.0
          },
          "properties" : {
            "dbf-default-precision" : "10",
            "Join Strategy" : "Wrapper",
            "Insertion Record Path" : "/",
            "Timeout" : "2 sec",
            "Original Record Reader" : "b64ecb7e-25da-3d17-b641-5c2582c7a71a",
            "Record Writer" : "0fc90508-430b-387c-8226-4247f37ffa57",
            "Enrichment Record Reader" : "b64ecb7e-25da-3d17-b641-5c2582c7a71a",
            "dbf-default-scale" : "0",
            "Maximum number of Bins" : "10000",
            "SQL" : "SELECT original.*, enrichment.* \nFROM original \nLEFT OUTER JOIN enrichment \nON original.id = enrichment.id"
          },
          "propertyDescriptors" : {
            "dbf-default-precision" : {
              "displayName" : "Default Decimal Precision",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "dbf-default-precision",
              "sensitive" : false
            },
            "Join Strategy" : {
              "displayName" : "Join Strategy",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Join Strategy",
              "sensitive" : false
            },
            "Insertion Record Path" : {
              "displayName" : "Insertion Record Path",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Insertion Record Path",
              "sensitive" : false
            },
            "Timeout" : {
              "displayName" : "Timeout",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Timeout",
              "sensitive" : false
            },
            "Original Record Reader" : {
              "displayName" : "Original Record Reader",
              "dynamic" : false,
              "identifiesControllerService" : true,
              "name" : "Original Record Reader",
              "sensitive" : false
            },
            "Record Writer" : {
              "displayName" : "Record Writer",
              "dynamic" : false,
              "identifiesControllerService" : true,
              "name" : "Record Writer",
              "sensitive" : false
            },
            "Enrichment Record Reader" : {
              "displayName" : "Enrichment Record Reader",
              "dynamic" : false,
              "identifiesControllerService" : true,
              "name" : "Enrichment Record Reader",
              "sensitive" : false
            },
            "dbf-default-scale" : {
              "displayName" : "Default Decimal Scale",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "dbf-default-scale",
              "sensitive" : false
            },
            "Maximum number of Bins" : {
              "displayName" : "Maximum number of Bins",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Maximum number of Bins",
              "sensitive" : false
            },
            "SQL" : {
              "displayName" : "SQL",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "SQL",
              "sensitive" : false
            }
          },
          "retriedRelationships" : [ ],
          "retryCount" : 10,
          "runDurationMillis" : 0,
          "scheduledState" : "ENABLED",
          "schedulingPeriod" : "0 sec",
          "schedulingStrategy" : "TIMER_DRIVEN",
          "style" : { },
          "type" : "org.apache.nifi.processors.standard.JoinEnrichment",
          "yieldDuration" : "1 sec"
        }, {
          "autoTerminatedRelationships" : [ ],
          "backoffMechanism" : "PENALIZE_FLOWFILE",
          "bulletinLevel" : "WARN",
          "bundle" : {
            "artifact" : "nifi-update-attribute-nar",
            "group" : "org.apache.nifi",
            "version" : "2.0.0"
          },
          "comments" : "",
          "componentType" : "PROCESSOR",
          "concurrentlySchedulableTaskCount" : 1,
          "executionNode" : "ALL",
          "groupIdentifier" : "70a8fba2-1aa1-3f9b-aff3-5ef9d75925f6",
          "identifier" : "988cce79-2917-35bd-b254-85d237426454",
          "maxBackoffPeriod" : "10 mins",
          "name" : "Verificou todos medicamentos",
          "penaltyDuration" : "30 sec",
          "position" : {
            "x" : -424.0,
            "y" : 2088.0
          },
          "properties" : {
            "Store State" : "Do not store state",
            "canonical-value-lookup-cache-size" : "100",
            "finished" : "true"
          },
          "propertyDescriptors" : {
            "Delete Attributes Expression" : {
              "displayName" : "Delete Attributes Expression",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Delete Attributes Expression",
              "sensitive" : false
            },
            "Store State" : {
              "displayName" : "Store State",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Store State",
              "sensitive" : false
            },
            "canonical-value-lookup-cache-size" : {
              "displayName" : "Cache Value Lookup Cache Size",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "canonical-value-lookup-cache-size",
              "sensitive" : false
            },
            "finished" : {
              "displayName" : "finished",
              "dynamic" : true,
              "identifiesControllerService" : false,
              "name" : "finished",
              "sensitive" : false
            },
            "Stateful Variables Initial Value" : {
              "displayName" : "Stateful Variables Initial Value",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Stateful Variables Initial Value",
              "sensitive" : false
            }
          },
          "retriedRelationships" : [ ],
          "retryCount" : 10,
          "runDurationMillis" : 25,
          "scheduledState" : "ENABLED",
          "schedulingPeriod" : "0 sec",
          "schedulingStrategy" : "TIMER_DRIVEN",
          "style" : { },
          "type" : "org.apache.nifi.processors.attributes.UpdateAttribute",
          "yieldDuration" : "1 sec"
        }, {
          "autoTerminatedRelationships" : [ ],
          "backoffMechanism" : "PENALIZE_FLOWFILE",
          "bulletinLevel" : "WARN",
          "bundle" : {
            "artifact" : "nifi-standard-nar",
            "group" : "org.apache.nifi",
            "version" : "2.0.0"
          },
          "comments" : "",
          "componentType" : "PROCESSOR",
          "concurrentlySchedulableTaskCount" : 1,
          "executionNode" : "ALL",
          "groupIdentifier" : "70a8fba2-1aa1-3f9b-aff3-5ef9d75925f6",
          "identifier" : "cbbcbbca-7e60-3695-a838-a5266fe3994b",
          "maxBackoffPeriod" : "10 mins",
          "name" : "separa medicamento de comp",
          "penaltyDuration" : "30 sec",
          "position" : {
            "x" : 328.0,
            "y" : 696.0
          },
          "properties" : {
            "Routing Strategy" : "Route to Property name",
            "medicamento" : "${enrichment.role:toString():contains('ORIGINAL')}"
          },
          "propertyDescriptors" : {
            "Routing Strategy" : {
              "displayName" : "Routing Strategy",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Routing Strategy",
              "sensitive" : false
            },
            "medicamento" : {
              "displayName" : "medicamento",
              "dynamic" : true,
              "identifiesControllerService" : false,
              "name" : "medicamento",
              "sensitive" : false
            }
          },
          "retriedRelationships" : [ ],
          "retryCount" : 10,
          "runDurationMillis" : 25,
          "scheduledState" : "ENABLED",
          "schedulingPeriod" : "0 sec",
          "schedulingStrategy" : "TIMER_DRIVEN",
          "style" : { },
          "type" : "org.apache.nifi.processors.standard.RouteOnAttribute",
          "yieldDuration" : "1 sec"
        }, {
          "autoTerminatedRelationships" : [ ],
          "backoffMechanism" : "PENALIZE_FLOWFILE",
          "bulletinLevel" : "WARN",
          "bundle" : {
            "artifact" : "nifi-standard-nar",
            "group" : "org.apache.nifi",
            "version" : "2.0.0"
          },
          "comments" : "",
          "componentType" : "PROCESSOR",
          "concurrentlySchedulableTaskCount" : 1,
          "executionNode" : "ALL",
          "groupIdentifier" : "70a8fba2-1aa1-3f9b-aff3-5ef9d75925f6",
          "identifier" : "d2a71d15-ec57-3f91-abb7-9f90e81541fb",
          "maxBackoffPeriod" : "10 mins",
          "name" : "separa medicamento de comp",
          "penaltyDuration" : "30 sec",
          "position" : {
            "x" : -480.0,
            "y" : 1304.0
          },
          "properties" : {
            "Routing Strategy" : "Route to Property name",
            "medicamento" : "${enrichment.role:toString():contains('ORIGINAL')}"
          },
          "propertyDescriptors" : {
            "Routing Strategy" : {
              "displayName" : "Routing Strategy",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Routing Strategy",
              "sensitive" : false
            },
            "medicamento" : {
              "displayName" : "medicamento",
              "dynamic" : true,
              "identifiesControllerService" : false,
              "name" : "medicamento",
              "sensitive" : false
            }
          },
          "retriedRelationships" : [ ],
          "retryCount" : 10,
          "runDurationMillis" : 25,
          "scheduledState" : "ENABLED",
          "schedulingPeriod" : "0 sec",
          "schedulingStrategy" : "TIMER_DRIVEN",
          "style" : { },
          "type" : "org.apache.nifi.processors.standard.RouteOnAttribute",
          "yieldDuration" : "1 sec"
        }, {
          "autoTerminatedRelationships" : [ "failure" ],
          "backoffMechanism" : "PENALIZE_FLOWFILE",
          "bulletinLevel" : "WARN",
          "bundle" : {
            "artifact" : "nifi-groovyx-nar",
            "group" : "org.apache.nifi",
            "version" : "2.0.0"
          },
          "comments" : "",
          "componentType" : "PROCESSOR",
          "concurrentlySchedulableTaskCount" : 1,
          "executionNode" : "ALL",
          "groupIdentifier" : "70a8fba2-1aa1-3f9b-aff3-5ef9d75925f6",
          "identifier" : "922ff334-2034-3e58-a291-74b7ac94edf0",
          "maxBackoffPeriod" : "10 mins",
          "name" : "Incrementa iteracao",
          "penaltyDuration" : "30 sec",
          "position" : {
            "x" : 945.8829511843696,
            "y" : 889.9643330171349
          },
          "properties" : {
            "groovyx-script-body" : "// Obtém o FlowFile da sessão\ndef flowFile = session.get()\nif (!flowFile) return // Se não houver FlowFile, sai do script\n\n// Recupera o valor atual do atributo 'iteracao' (se existir), ou define como 0\ndef iteracao = flowFile.getAttribute('iteracao')?.toInteger() ?: 0\n\n// Incrementa o valor de 'iteracao'\niteracao++\n\n// Atribui o valor incrementado de volta ao FlowFile\nflowFile = session.putAttribute(flowFile, 'iteracao', iteracao.toString())\n\n// Transferir para o relacionamento de sucesso\nsession.transfer(flowFile, REL_SUCCESS)",
            "groovyx-failure-strategy" : "rollback"
          },
          "propertyDescriptors" : {
            "groovyx-script-body" : {
              "displayName" : "Script Body",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "groovyx-script-body",
              "sensitive" : false
            },
            "groovyx-failure-strategy" : {
              "displayName" : "Failure strategy",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "groovyx-failure-strategy",
              "sensitive" : false
            },
            "groovyx-additional-classpath" : {
              "displayName" : "Additional classpath",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "groovyx-additional-classpath",
              "sensitive" : false
            },
            "groovyx-script-file" : {
              "displayName" : "Script File",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "groovyx-script-file",
              "resourceDefinition" : {
                "cardinality" : "SINGLE",
                "resourceTypes" : [ "FILE" ]
              },
              "sensitive" : false
            }
          },
          "retriedRelationships" : [ ],
          "retryCount" : 10,
          "runDurationMillis" : 0,
          "scheduledState" : "ENABLED",
          "schedulingPeriod" : "0 sec",
          "schedulingStrategy" : "TIMER_DRIVEN",
          "style" : { },
          "type" : "org.apache.nifi.processors.groovyx.ExecuteGroovyScript",
          "yieldDuration" : "1 sec"
        }, {
          "autoTerminatedRelationships" : [ "failure" ],
          "backoffMechanism" : "PENALIZE_FLOWFILE",
          "bulletinLevel" : "WARN",
          "bundle" : {
            "artifact" : "nifi-groovyx-nar",
            "group" : "org.apache.nifi",
            "version" : "2.0.0"
          },
          "comments" : "",
          "componentType" : "PROCESSOR",
          "concurrentlySchedulableTaskCount" : 1,
          "executionNode" : "ALL",
          "groupIdentifier" : "70a8fba2-1aa1-3f9b-aff3-5ef9d75925f6",
          "identifier" : "924ff3eb-3817-3ed7-b3d1-0961ab7496b7",
          "maxBackoffPeriod" : "10 mins",
          "name" : "COUNT MEDS & COMP",
          "penaltyDuration" : "30 sec",
          "position" : {
            "x" : -472.0,
            "y" : 576.0
          },
          "properties" : {
            "groovyx-script-body" : "// Obter todos os FlowFiles da fila\ndef flowFiles = []\ndef flowFile = session.get()\n\n// Contadores para FlowFiles com _IS_PRODUCT\ndef countIsProductFalse = 0\ndef countIsProductTrue = 0\n\n// Enquanto houver FlowFiles, adiciona à lista e conta os FlowFiles com o atributo '_IS_PRODUCT'\nwhile (flowFile != null) {\n    flowFiles.add(flowFile)\n\n    // Verifica o valor do atributo '_IS_PRODUCT' e conta de acordo\n    def isProduct = flowFile.getAttribute('_IS_PRODUCT')\n    if (isProduct == 'false') {\n        countIsProductFalse++\n    } else if (isProduct == 'true') {\n        countIsProductTrue++\n    }\n\n    // Obter o próximo FlowFile\n    flowFile = session.get()\n}\n\n// Atribuir os valores de totalComp e totalMeds somente aos FlowFiles com '_IS_PRODUCT' == 'true'\nflowFiles.each { currentFlowFile ->\n    def isProduct = currentFlowFile.getAttribute('_IS_PRODUCT')\n\n    // Se o FlowFile tem _IS_PRODUCT = 'true', atribui os valores de totalComp e totalMeds\n    if (isProduct == 'true') {\n        // Atribui o número de FlowFiles com _IS_PRODUCT = 'false' (totalComp)\n        currentFlowFile = session.putAttribute(currentFlowFile, 'totalComp', countIsProductFalse.toString())\n        // Atribui o número de FlowFiles com _IS_PRODUCT = 'true' (totalMeds)\n        currentFlowFile = session.putAttribute(currentFlowFile, 'totalMeds', countIsProductTrue.toString())\n    }\n\n    // Transferir para o relacionamento de sucesso\n    session.transfer(currentFlowFile, REL_SUCCESS)\n}",
            "groovyx-failure-strategy" : "rollback"
          },
          "propertyDescriptors" : {
            "groovyx-script-body" : {
              "displayName" : "Script Body",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "groovyx-script-body",
              "sensitive" : false
            },
            "groovyx-failure-strategy" : {
              "displayName" : "Failure strategy",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "groovyx-failure-strategy",
              "sensitive" : false
            },
            "groovyx-additional-classpath" : {
              "displayName" : "Additional classpath",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "groovyx-additional-classpath",
              "sensitive" : false
            },
            "groovyx-script-file" : {
              "displayName" : "Script File",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "groovyx-script-file",
              "resourceDefinition" : {
                "cardinality" : "SINGLE",
                "resourceTypes" : [ "FILE" ]
              },
              "sensitive" : false
            }
          },
          "retriedRelationships" : [ ],
          "retryCount" : 10,
          "runDurationMillis" : 0,
          "scheduledState" : "ENABLED",
          "schedulingPeriod" : "0 sec",
          "schedulingStrategy" : "TIMER_DRIVEN",
          "style" : { },
          "type" : "org.apache.nifi.processors.groovyx.ExecuteGroovyScript",
          "yieldDuration" : "1 sec"
        }, {
          "autoTerminatedRelationships" : [ ],
          "backoffMechanism" : "PENALIZE_FLOWFILE",
          "bulletinLevel" : "WARN",
          "bundle" : {
            "artifact" : "nifi-update-attribute-nar",
            "group" : "org.apache.nifi",
            "version" : "2.0.0"
          },
          "comments" : "",
          "componentType" : "PROCESSOR",
          "concurrentlySchedulableTaskCount" : 1,
          "executionNode" : "ALL",
          "groupIdentifier" : "70a8fba2-1aa1-3f9b-aff3-5ef9d75925f6",
          "identifier" : "3d697915-9394-3264-b0ce-2829027d83e0",
          "maxBackoffPeriod" : "10 mins",
          "name" : "Interacao = 0",
          "penaltyDuration" : "30 sec",
          "position" : {
            "x" : -432.0,
            "y" : 96.0
          },
          "properties" : {
            "iteracao" : "0",
            "Store State" : "Do not store state",
            "canonical-value-lookup-cache-size" : "100"
          },
          "propertyDescriptors" : {
            "Delete Attributes Expression" : {
              "displayName" : "Delete Attributes Expression",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Delete Attributes Expression",
              "sensitive" : false
            },
            "iteracao" : {
              "displayName" : "iteracao",
              "dynamic" : true,
              "identifiesControllerService" : false,
              "name" : "iteracao",
              "sensitive" : false
            },
            "Store State" : {
              "displayName" : "Store State",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Store State",
              "sensitive" : false
            },
            "canonical-value-lookup-cache-size" : {
              "displayName" : "Cache Value Lookup Cache Size",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "canonical-value-lookup-cache-size",
              "sensitive" : false
            },
            "Stateful Variables Initial Value" : {
              "displayName" : "Stateful Variables Initial Value",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Stateful Variables Initial Value",
              "sensitive" : false
            }
          },
          "retriedRelationships" : [ ],
          "retryCount" : 10,
          "runDurationMillis" : 25,
          "scheduledState" : "ENABLED",
          "schedulingPeriod" : "0 sec",
          "schedulingStrategy" : "TIMER_DRIVEN",
          "style" : { },
          "type" : "org.apache.nifi.processors.attributes.UpdateAttribute",
          "yieldDuration" : "1 sec"
        }, {
          "autoTerminatedRelationships" : [ ],
          "backoffMechanism" : "PENALIZE_FLOWFILE",
          "bulletinLevel" : "WARN",
          "bundle" : {
            "artifact" : "nifi-update-attribute-nar",
            "group" : "org.apache.nifi",
            "version" : "2.0.0"
          },
          "comments" : "",
          "componentType" : "PROCESSOR",
          "concurrentlySchedulableTaskCount" : 1,
          "executionNode" : "ALL",
          "groupIdentifier" : "70a8fba2-1aa1-3f9b-aff3-5ef9d75925f6",
          "identifier" : "ff6727fa-b01e-32dd-a0ce-70e2731cedad",
          "maxBackoffPeriod" : "10 mins",
          "name" : "Verificou todos medicamentos",
          "penaltyDuration" : "30 sec",
          "position" : {
            "x" : 144.0,
            "y" : 2016.0
          },
          "properties" : {
            "Store State" : "Do not store state",
            "canonical-value-lookup-cache-size" : "100",
            "finished" : "true"
          },
          "propertyDescriptors" : {
            "Delete Attributes Expression" : {
              "displayName" : "Delete Attributes Expression",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Delete Attributes Expression",
              "sensitive" : false
            },
            "Store State" : {
              "displayName" : "Store State",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Store State",
              "sensitive" : false
            },
            "canonical-value-lookup-cache-size" : {
              "displayName" : "Cache Value Lookup Cache Size",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "canonical-value-lookup-cache-size",
              "sensitive" : false
            },
            "finished" : {
              "displayName" : "finished",
              "dynamic" : true,
              "identifiesControllerService" : false,
              "name" : "finished",
              "sensitive" : false
            },
            "Stateful Variables Initial Value" : {
              "displayName" : "Stateful Variables Initial Value",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Stateful Variables Initial Value",
              "sensitive" : false
            }
          },
          "retriedRelationships" : [ ],
          "retryCount" : 10,
          "runDurationMillis" : 25,
          "scheduledState" : "ENABLED",
          "schedulingPeriod" : "0 sec",
          "schedulingStrategy" : "TIMER_DRIVEN",
          "style" : { },
          "type" : "org.apache.nifi.processors.attributes.UpdateAttribute",
          "yieldDuration" : "1 sec"
        }, {
          "autoTerminatedRelationships" : [ ],
          "backoffMechanism" : "PENALIZE_FLOWFILE",
          "bulletinLevel" : "WARN",
          "bundle" : {
            "artifact" : "nifi-standard-nar",
            "group" : "org.apache.nifi",
            "version" : "2.0.0"
          },
          "comments" : "",
          "componentType" : "PROCESSOR",
          "concurrentlySchedulableTaskCount" : 1,
          "executionNode" : "ALL",
          "groupIdentifier" : "70a8fba2-1aa1-3f9b-aff3-5ef9d75925f6",
          "identifier" : "cc4e4495-db70-3dcb-9991-4ebc9af63644",
          "maxBackoffPeriod" : "10 mins",
          "name" : "isFinished ?",
          "penaltyDuration" : "30 sec",
          "position" : {
            "x" : 480.0,
            "y" : 1264.0
          },
          "properties" : {
            "Routing Strategy" : "Route to Property name",
            "isFinished" : "${iteracao:equals(${totalComp})}"
          },
          "propertyDescriptors" : {
            "Routing Strategy" : {
              "displayName" : "Routing Strategy",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Routing Strategy",
              "sensitive" : false
            },
            "isFinished" : {
              "displayName" : "isFinished",
              "dynamic" : true,
              "identifiesControllerService" : false,
              "name" : "isFinished",
              "sensitive" : false
            }
          },
          "retriedRelationships" : [ ],
          "retryCount" : 10,
          "runDurationMillis" : 25,
          "scheduledState" : "ENABLED",
          "schedulingPeriod" : "0 sec",
          "schedulingStrategy" : "TIMER_DRIVEN",
          "style" : { },
          "type" : "org.apache.nifi.processors.standard.RouteOnAttribute",
          "yieldDuration" : "1 sec"
        } ],
        "remoteProcessGroups" : [ ],
        "scheduledState" : "ENABLED",
        "statelessFlowTimeout" : "1 min"
      }, {
        "comments" : "",
        "componentType" : "PROCESS_GROUP",
        "connections" : [ {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "groupId" : "8ab2e0fa-5c98-373f-abf6-e6a2e21f63f0",
            "id" : "c6101ba7-81fb-35d9-8e4a-aeb6d51b396f",
            "name" : "output",
            "type" : "OUTPUT_PORT"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "8ab2e0fa-5c98-373f-abf6-e6a2e21f63f0",
          "identifier" : "806b2aba-ab3d-3c5b-bae1-18f9d409f375",
          "labelIndex" : 0,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ ],
          "selectedRelationships" : [ "success" ],
          "source" : {
            "comments" : "",
            "groupId" : "8ab2e0fa-5c98-373f-abf6-e6a2e21f63f0",
            "id" : "5a04d881-558b-35f4-958b-277dd1ba95bf",
            "name" : "Add CATTLE",
            "type" : "PROCESSOR"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "8ab2e0fa-5c98-373f-abf6-e6a2e21f63f0",
            "id" : "047f2425-7cbc-3195-8c06-7017bad53f16",
            "name" : "Add LACTATING",
            "type" : "PROCESSOR"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "8ab2e0fa-5c98-373f-abf6-e6a2e21f63f0",
          "identifier" : "a65d9116-031d-3654-90ca-92e9085036fe",
          "labelIndex" : 0,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ ],
          "selectedRelationships" : [ "" ],
          "source" : {
            "groupId" : "8ab2e0fa-5c98-373f-abf6-e6a2e21f63f0",
            "id" : "dc2fe6a3-4871-3b4a-8794-cf68ed63b9d7",
            "name" : "input",
            "type" : "INPUT_PORT"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "8ab2e0fa-5c98-373f-abf6-e6a2e21f63f0",
            "id" : "5a04d881-558b-35f4-958b-277dd1ba95bf",
            "name" : "Add CATTLE",
            "type" : "PROCESSOR"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "8ab2e0fa-5c98-373f-abf6-e6a2e21f63f0",
          "identifier" : "c1db7ded-3699-3421-8e2a-a81022888599",
          "labelIndex" : 0,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ ],
          "selectedRelationships" : [ "" ],
          "source" : {
            "groupId" : "8ab2e0fa-5c98-373f-abf6-e6a2e21f63f0",
            "id" : "dc2fe6a3-4871-3b4a-8794-cf68ed63b9d7",
            "name" : "input",
            "type" : "INPUT_PORT"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "groupId" : "8ab2e0fa-5c98-373f-abf6-e6a2e21f63f0",
            "id" : "c6101ba7-81fb-35d9-8e4a-aeb6d51b396f",
            "name" : "output",
            "type" : "OUTPUT_PORT"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "8ab2e0fa-5c98-373f-abf6-e6a2e21f63f0",
          "identifier" : "a6345cb2-a8a4-3db1-8883-ed103a7a1b82",
          "labelIndex" : 0,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ ],
          "selectedRelationships" : [ "success" ],
          "source" : {
            "comments" : "",
            "groupId" : "8ab2e0fa-5c98-373f-abf6-e6a2e21f63f0",
            "id" : "d8bd4af3-2b6c-3dc3-bde3-f79734c4c632",
            "name" : "Add DRY_COW",
            "type" : "PROCESSOR"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "8ab2e0fa-5c98-373f-abf6-e6a2e21f63f0",
            "id" : "d8bd4af3-2b6c-3dc3-bde3-f79734c4c632",
            "name" : "Add DRY_COW",
            "type" : "PROCESSOR"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "8ab2e0fa-5c98-373f-abf6-e6a2e21f63f0",
          "identifier" : "a12661cc-3555-33b1-987a-56c192cbac57",
          "labelIndex" : 0,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ ],
          "selectedRelationships" : [ "" ],
          "source" : {
            "groupId" : "8ab2e0fa-5c98-373f-abf6-e6a2e21f63f0",
            "id" : "dc2fe6a3-4871-3b4a-8794-cf68ed63b9d7",
            "name" : "input",
            "type" : "INPUT_PORT"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "groupId" : "8ab2e0fa-5c98-373f-abf6-e6a2e21f63f0",
            "id" : "c6101ba7-81fb-35d9-8e4a-aeb6d51b396f",
            "name" : "output",
            "type" : "OUTPUT_PORT"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "8ab2e0fa-5c98-373f-abf6-e6a2e21f63f0",
          "identifier" : "189e502a-71e9-3d2e-ac0f-4abb56d55aac",
          "labelIndex" : 0,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ ],
          "selectedRelationships" : [ "success" ],
          "source" : {
            "comments" : "",
            "groupId" : "8ab2e0fa-5c98-373f-abf6-e6a2e21f63f0",
            "id" : "047f2425-7cbc-3195-8c06-7017bad53f16",
            "name" : "Add LACTATING",
            "type" : "PROCESSOR"
          },
          "zIndex" : 0
        } ],
        "controllerServices" : [ ],
        "defaultBackPressureDataSizeThreshold" : "1 GB",
        "defaultBackPressureObjectThreshold" : 10000,
        "defaultFlowFileExpiration" : "0 sec",
        "executionEngine" : "INHERITED",
        "flowFileConcurrency" : "UNBOUNDED",
        "flowFileOutboundPolicy" : "STREAM_WHEN_AVAILABLE",
        "funnels" : [ ],
        "groupIdentifier" : "c55c725c-4d6f-3881-82fc-6bea8b74c919",
        "identifier" : "8ab2e0fa-5c98-373f-abf6-e6a2e21f63f0",
        "inputPorts" : [ {
          "allowRemoteAccess" : false,
          "componentType" : "INPUT_PORT",
          "concurrentlySchedulableTaskCount" : 1,
          "groupIdentifier" : "8ab2e0fa-5c98-373f-abf6-e6a2e21f63f0",
          "identifier" : "dc2fe6a3-4871-3b4a-8794-cf68ed63b9d7",
          "name" : "input",
          "portFunction" : "STANDARD",
          "position" : {
            "x" : 800.0,
            "y" : 848.0
          },
          "scheduledState" : "ENABLED",
          "type" : "INPUT_PORT"
        } ],
        "labels" : [ {
          "componentType" : "LABEL",
          "groupIdentifier" : "8ab2e0fa-5c98-373f-abf6-e6a2e21f63f0",
          "height" : 150.0,
          "identifier" : "d0eeaabf-b300-30fe-86c4-2284df9443fd",
          "label" : "APENAS PARA LACTATING, DRY_COW, CATTLE",
          "position" : {
            "x" : 120.0,
            "y" : 888.0
          },
          "style" : {
            "font-size" : "18px"
          },
          "width" : 150.0,
          "zIndex" : 0
        } ],
        "maxConcurrentTasks" : 1,
        "name" : "Add DRY_COW,LACTATING,CATTLE",
        "outputPorts" : [ {
          "allowRemoteAccess" : false,
          "componentType" : "OUTPUT_PORT",
          "concurrentlySchedulableTaskCount" : 1,
          "groupIdentifier" : "8ab2e0fa-5c98-373f-abf6-e6a2e21f63f0",
          "identifier" : "c6101ba7-81fb-35d9-8e4a-aeb6d51b396f",
          "name" : "output",
          "portFunction" : "STANDARD",
          "position" : {
            "x" : 768.0,
            "y" : 1408.0
          },
          "scheduledState" : "ENABLED",
          "type" : "OUTPUT_PORT"
        } ],
        "parameterContextName" : "DEV",
        "position" : {
          "x" : -1112.0,
          "y" : 32.0
        },
        "processGroups" : [ ],
        "processors" : [ {
          "autoTerminatedRelationships" : [ ],
          "backoffMechanism" : "PENALIZE_FLOWFILE",
          "bulletinLevel" : "WARN",
          "bundle" : {
            "artifact" : "nifi-update-attribute-nar",
            "group" : "org.apache.nifi",
            "version" : "2.0.0"
          },
          "comments" : "",
          "componentType" : "PROCESSOR",
          "concurrentlySchedulableTaskCount" : 1,
          "executionNode" : "ALL",
          "groupIdentifier" : "8ab2e0fa-5c98-373f-abf6-e6a2e21f63f0",
          "identifier" : "d8bd4af3-2b6c-3dc3-bde3-f79734c4c632",
          "maxBackoffPeriod" : "10 mins",
          "name" : "Add DRY_COW",
          "penaltyDuration" : "30 sec",
          "position" : {
            "x" : 448.0,
            "y" : 1064.0
          },
          "properties" : {
            "animal_status" : "DRY_COW",
            "Store State" : "Do not store state",
            "canonical-value-lookup-cache-size" : "100"
          },
          "propertyDescriptors" : {
            "animal_status" : {
              "displayName" : "animal_status",
              "dynamic" : true,
              "identifiesControllerService" : false,
              "name" : "animal_status",
              "sensitive" : false
            },
            "Delete Attributes Expression" : {
              "displayName" : "Delete Attributes Expression",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Delete Attributes Expression",
              "sensitive" : false
            },
            "Store State" : {
              "displayName" : "Store State",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Store State",
              "sensitive" : false
            },
            "canonical-value-lookup-cache-size" : {
              "displayName" : "Cache Value Lookup Cache Size",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "canonical-value-lookup-cache-size",
              "sensitive" : false
            },
            "Stateful Variables Initial Value" : {
              "displayName" : "Stateful Variables Initial Value",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Stateful Variables Initial Value",
              "sensitive" : false
            }
          },
          "retriedRelationships" : [ ],
          "retryCount" : 10,
          "runDurationMillis" : 25,
          "scheduledState" : "ENABLED",
          "schedulingPeriod" : "0 sec",
          "schedulingStrategy" : "TIMER_DRIVEN",
          "style" : { },
          "type" : "org.apache.nifi.processors.attributes.UpdateAttribute",
          "yieldDuration" : "1 sec"
        }, {
          "autoTerminatedRelationships" : [ ],
          "backoffMechanism" : "PENALIZE_FLOWFILE",
          "bulletinLevel" : "WARN",
          "bundle" : {
            "artifact" : "nifi-update-attribute-nar",
            "group" : "org.apache.nifi",
            "version" : "2.0.0"
          },
          "comments" : "",
          "componentType" : "PROCESSOR",
          "concurrentlySchedulableTaskCount" : 1,
          "executionNode" : "ALL",
          "groupIdentifier" : "8ab2e0fa-5c98-373f-abf6-e6a2e21f63f0",
          "identifier" : "5a04d881-558b-35f4-958b-277dd1ba95bf",
          "maxBackoffPeriod" : "10 mins",
          "name" : "Add CATTLE",
          "penaltyDuration" : "30 sec",
          "position" : {
            "x" : 1264.0,
            "y" : 1072.0
          },
          "properties" : {
            "animal_status" : "CATTLE",
            "Store State" : "Do not store state",
            "canonical-value-lookup-cache-size" : "100"
          },
          "propertyDescriptors" : {
            "animal_status" : {
              "displayName" : "animal_status",
              "dynamic" : true,
              "identifiesControllerService" : false,
              "name" : "animal_status",
              "sensitive" : false
            },
            "Delete Attributes Expression" : {
              "displayName" : "Delete Attributes Expression",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Delete Attributes Expression",
              "sensitive" : false
            },
            "Store State" : {
              "displayName" : "Store State",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Store State",
              "sensitive" : false
            },
            "canonical-value-lookup-cache-size" : {
              "displayName" : "Cache Value Lookup Cache Size",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "canonical-value-lookup-cache-size",
              "sensitive" : false
            },
            "Stateful Variables Initial Value" : {
              "displayName" : "Stateful Variables Initial Value",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Stateful Variables Initial Value",
              "sensitive" : false
            }
          },
          "retriedRelationships" : [ ],
          "retryCount" : 10,
          "runDurationMillis" : 25,
          "scheduledState" : "ENABLED",
          "schedulingPeriod" : "0 sec",
          "schedulingStrategy" : "TIMER_DRIVEN",
          "style" : { },
          "type" : "org.apache.nifi.processors.attributes.UpdateAttribute",
          "yieldDuration" : "1 sec"
        }, {
          "autoTerminatedRelationships" : [ ],
          "backoffMechanism" : "PENALIZE_FLOWFILE",
          "bulletinLevel" : "WARN",
          "bundle" : {
            "artifact" : "nifi-update-attribute-nar",
            "group" : "org.apache.nifi",
            "version" : "2.0.0"
          },
          "comments" : "",
          "componentType" : "PROCESSOR",
          "concurrentlySchedulableTaskCount" : 1,
          "executionNode" : "ALL",
          "groupIdentifier" : "8ab2e0fa-5c98-373f-abf6-e6a2e21f63f0",
          "identifier" : "047f2425-7cbc-3195-8c06-7017bad53f16",
          "maxBackoffPeriod" : "10 mins",
          "name" : "Add LACTATING",
          "penaltyDuration" : "30 sec",
          "position" : {
            "x" : 856.0,
            "y" : 1072.0
          },
          "properties" : {
            "animal_status" : "LACTATING",
            "Store State" : "Do not store state",
            "canonical-value-lookup-cache-size" : "100"
          },
          "propertyDescriptors" : {
            "animal_status" : {
              "displayName" : "animal_status",
              "dynamic" : true,
              "identifiesControllerService" : false,
              "name" : "animal_status",
              "sensitive" : false
            },
            "Delete Attributes Expression" : {
              "displayName" : "Delete Attributes Expression",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Delete Attributes Expression",
              "sensitive" : false
            },
            "Store State" : {
              "displayName" : "Store State",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Store State",
              "sensitive" : false
            },
            "canonical-value-lookup-cache-size" : {
              "displayName" : "Cache Value Lookup Cache Size",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "canonical-value-lookup-cache-size",
              "sensitive" : false
            },
            "Stateful Variables Initial Value" : {
              "displayName" : "Stateful Variables Initial Value",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Stateful Variables Initial Value",
              "sensitive" : false
            }
          },
          "retriedRelationships" : [ ],
          "retryCount" : 10,
          "runDurationMillis" : 25,
          "scheduledState" : "ENABLED",
          "schedulingPeriod" : "0 sec",
          "schedulingStrategy" : "TIMER_DRIVEN",
          "style" : { },
          "type" : "org.apache.nifi.processors.attributes.UpdateAttribute",
          "yieldDuration" : "1 sec"
        } ],
        "remoteProcessGroups" : [ ],
        "scheduledState" : "ENABLED",
        "statelessFlowTimeout" : "1 min"
      }, {
        "comments" : "",
        "componentType" : "PROCESS_GROUP",
        "connections" : [ {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "d336971a-956f-3324-b998-a16ada156c41",
            "id" : "3375488a-76da-315e-bf48-3fd8a241360a",
            "name" : "COUNT MEDS & COMP",
            "type" : "PROCESSOR"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "d336971a-956f-3324-b998-a16ada156c41",
          "identifier" : "a63be89f-15ba-3541-a4cc-13bae009d385",
          "labelIndex" : 0,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ ],
          "selectedRelationships" : [ "success" ],
          "source" : {
            "comments" : "",
            "groupId" : "d336971a-956f-3324-b998-a16ada156c41",
            "id" : "9f984a1e-e4c2-3f5f-82a4-dbfafb617558",
            "name" : "Interacao = 0",
            "type" : "PROCESSOR"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "d336971a-956f-3324-b998-a16ada156c41",
            "id" : "b388f3bb-8312-3a97-9a72-be60a63fdd11",
            "name" : "separa medicamento de comp",
            "type" : "PROCESSOR"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "d336971a-956f-3324-b998-a16ada156c41",
          "identifier" : "997879f5-1cc7-3492-95d5-5b96bbb4e9c8",
          "labelIndex" : 0,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ ],
          "selectedRelationships" : [ "unmatched" ],
          "source" : {
            "comments" : "",
            "groupId" : "d336971a-956f-3324-b998-a16ada156c41",
            "id" : "82243778-1e96-3eac-975d-53e61547a9e9",
            "name" : "isFinished ?",
            "type" : "PROCESSOR"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "d336971a-956f-3324-b998-a16ada156c41",
            "id" : "85eeff06-857e-379d-8161-b42700833c8c",
            "name" : "APENAS_COMP",
            "type" : "PROCESSOR"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "d336971a-956f-3324-b998-a16ada156c41",
          "identifier" : "69dce936-9c2e-3457-88a8-8994c408d143",
          "labelIndex" : 0,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ "org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer" ],
          "selectedRelationships" : [ "" ],
          "source" : {
            "comments" : "",
            "groupId" : "d336971a-956f-3324-b998-a16ada156c41",
            "id" : "63e47438-d755-3bcb-8c9d-6b8d2332c95b",
            "name" : "Funnel",
            "type" : "FUNNEL"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "d336971a-956f-3324-b998-a16ada156c41",
            "id" : "63e47438-d755-3bcb-8c9d-6b8d2332c95b",
            "name" : "Funnel",
            "type" : "FUNNEL"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "d336971a-956f-3324-b998-a16ada156c41",
          "identifier" : "5b5149df-2f74-38c5-a8c0-9fb1ea9847aa",
          "labelIndex" : 0,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ "org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer" ],
          "selectedRelationships" : [ "original" ],
          "source" : {
            "comments" : "",
            "groupId" : "d336971a-956f-3324-b998-a16ada156c41",
            "id" : "0e6b0890-46c1-325f-b008-8aff28f8de84",
            "name" : "JoinEnrichment",
            "type" : "PROCESSOR"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "d336971a-956f-3324-b998-a16ada156c41",
            "id" : "e0a62312-1009-317f-9a01-8c98d4443992",
            "name" : "Funnel",
            "type" : "FUNNEL"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "d336971a-956f-3324-b998-a16ada156c41",
          "identifier" : "66240ec4-f46f-3426-a987-24b0dfc6a2b1",
          "labelIndex" : 0,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ ],
          "selectedRelationships" : [ "success" ],
          "source" : {
            "comments" : "",
            "groupId" : "d336971a-956f-3324-b998-a16ada156c41",
            "id" : "aaba0eef-97c2-369b-85c6-7f0a3318c0ac",
            "name" : "Verificou todos medicamentos",
            "type" : "PROCESSOR"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "d336971a-956f-3324-b998-a16ada156c41",
            "id" : "44e3f8f5-6cae-34c2-8dca-1c2d03fe1ec8",
            "name" : "Incrementa iteracao",
            "type" : "PROCESSOR"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "d336971a-956f-3324-b998-a16ada156c41",
          "identifier" : "803776bd-5151-3324-a20f-e614633afa5f",
          "labelIndex" : 0,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ "org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer" ],
          "selectedRelationships" : [ "" ],
          "source" : {
            "comments" : "",
            "groupId" : "d336971a-956f-3324-b998-a16ada156c41",
            "id" : "cdb3e67b-20fb-3067-9d3f-34cbb34bdcc8",
            "name" : "Funnel",
            "type" : "FUNNEL"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "d336971a-956f-3324-b998-a16ada156c41",
            "id" : "b388f3bb-8312-3a97-9a72-be60a63fdd11",
            "name" : "separa medicamento de comp",
            "type" : "PROCESSOR"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "d336971a-956f-3324-b998-a16ada156c41",
          "identifier" : "2f4fcf4e-95c4-3c4d-a475-e52de70237c9",
          "labelIndex" : 0,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ ],
          "selectedRelationships" : [ "unmatched" ],
          "source" : {
            "comments" : "",
            "groupId" : "d336971a-956f-3324-b998-a16ada156c41",
            "id" : "905f43ed-39ae-3e99-8e4c-00c194120f1d",
            "name" : "separa medicamento de comp",
            "type" : "PROCESSOR"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "d336971a-956f-3324-b998-a16ada156c41",
            "id" : "9f984a1e-e4c2-3f5f-82a4-dbfafb617558",
            "name" : "Interacao = 0",
            "type" : "PROCESSOR"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "d336971a-956f-3324-b998-a16ada156c41",
          "identifier" : "1949255a-9a35-3579-98bb-412d47d27ca6",
          "labelIndex" : 0,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ ],
          "selectedRelationships" : [ "" ],
          "source" : {
            "groupId" : "d336971a-956f-3324-b998-a16ada156c41",
            "id" : "5a06f9a3-4f0b-3bdc-b4e0-b512c36899bc",
            "name" : "Input",
            "type" : "INPUT_PORT"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ {
            "x" : 48.0,
            "y" : 1520.0
          } ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "d336971a-956f-3324-b998-a16ada156c41",
            "id" : "0e6b0890-46c1-325f-b008-8aff28f8de84",
            "name" : "JoinEnrichment",
            "type" : "PROCESSOR"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "d336971a-956f-3324-b998-a16ada156c41",
          "identifier" : "94670073-dad9-3fbf-8930-a3e8ff4e2e6f",
          "labelIndex" : 0,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ "org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer" ],
          "selectedRelationships" : [ "medicamento" ],
          "source" : {
            "comments" : "",
            "groupId" : "d336971a-956f-3324-b998-a16ada156c41",
            "id" : "b388f3bb-8312-3a97-9a72-be60a63fdd11",
            "name" : "separa medicamento de comp",
            "type" : "PROCESSOR"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "d336971a-956f-3324-b998-a16ada156c41",
            "id" : "aaba0eef-97c2-369b-85c6-7f0a3318c0ac",
            "name" : "Verificou todos medicamentos",
            "type" : "PROCESSOR"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "d336971a-956f-3324-b998-a16ada156c41",
          "identifier" : "00518330-1a7d-36ae-8e23-7dfa21580bc7",
          "labelIndex" : 0,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ ],
          "selectedRelationships" : [ "joined" ],
          "source" : {
            "comments" : "",
            "groupId" : "d336971a-956f-3324-b998-a16ada156c41",
            "id" : "0e6b0890-46c1-325f-b008-8aff28f8de84",
            "name" : "JoinEnrichment",
            "type" : "PROCESSOR"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ {
            "x" : 768.0,
            "y" : 1696.0
          } ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "d336971a-956f-3324-b998-a16ada156c41",
            "id" : "cdb3e67b-20fb-3067-9d3f-34cbb34bdcc8",
            "name" : "Funnel",
            "type" : "FUNNEL"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "d336971a-956f-3324-b998-a16ada156c41",
          "identifier" : "26f57603-780e-33fe-915d-2d5a3df7df4e",
          "labelIndex" : 0,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ "org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer" ],
          "selectedRelationships" : [ "timeout" ],
          "source" : {
            "comments" : "",
            "groupId" : "d336971a-956f-3324-b998-a16ada156c41",
            "id" : "0e6b0890-46c1-325f-b008-8aff28f8de84",
            "name" : "JoinEnrichment",
            "type" : "PROCESSOR"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "d336971a-956f-3324-b998-a16ada156c41",
            "id" : "0e6b0890-46c1-325f-b008-8aff28f8de84",
            "name" : "JoinEnrichment",
            "type" : "PROCESSOR"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "d336971a-956f-3324-b998-a16ada156c41",
          "identifier" : "8f7e50e8-f8bf-30fd-9820-781e9c199395",
          "labelIndex" : 0,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ "org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer" ],
          "selectedRelationships" : [ "unmatched" ],
          "source" : {
            "comments" : "",
            "groupId" : "d336971a-956f-3324-b998-a16ada156c41",
            "id" : "b388f3bb-8312-3a97-9a72-be60a63fdd11",
            "name" : "separa medicamento de comp",
            "type" : "PROCESSOR"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "d336971a-956f-3324-b998-a16ada156c41",
            "id" : "f715a21d-4f55-357e-ac2e-31a4f52d9baf",
            "name" : "Verificou todos medicamentos",
            "type" : "PROCESSOR"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "d336971a-956f-3324-b998-a16ada156c41",
          "identifier" : "aac35084-5359-38de-ad80-31ab6660cd6a",
          "labelIndex" : 0,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ "org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer" ],
          "selectedRelationships" : [ "isFinished" ],
          "source" : {
            "comments" : "",
            "groupId" : "d336971a-956f-3324-b998-a16ada156c41",
            "id" : "82243778-1e96-3eac-975d-53e61547a9e9",
            "name" : "isFinished ?",
            "type" : "PROCESSOR"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "d336971a-956f-3324-b998-a16ada156c41",
            "id" : "cdb3e67b-20fb-3067-9d3f-34cbb34bdcc8",
            "name" : "Funnel",
            "type" : "FUNNEL"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "d336971a-956f-3324-b998-a16ada156c41",
          "identifier" : "0fd4cd56-5783-392e-bd15-665f75be8fae",
          "labelIndex" : 0,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ "org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer" ],
          "selectedRelationships" : [ "failure" ],
          "source" : {
            "comments" : "",
            "groupId" : "d336971a-956f-3324-b998-a16ada156c41",
            "id" : "0e6b0890-46c1-325f-b008-8aff28f8de84",
            "name" : "JoinEnrichment",
            "type" : "PROCESSOR"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "d336971a-956f-3324-b998-a16ada156c41",
            "id" : "cdb3e67b-20fb-3067-9d3f-34cbb34bdcc8",
            "name" : "Funnel",
            "type" : "FUNNEL"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "d336971a-956f-3324-b998-a16ada156c41",
          "identifier" : "5c349689-ee0f-3180-b6ee-08d95c296567",
          "labelIndex" : 0,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ "org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer" ],
          "selectedRelationships" : [ "unmatched" ],
          "source" : {
            "comments" : "",
            "groupId" : "d336971a-956f-3324-b998-a16ada156c41",
            "id" : "85eeff06-857e-379d-8161-b42700833c8c",
            "name" : "APENAS_COMP",
            "type" : "PROCESSOR"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "d336971a-956f-3324-b998-a16ada156c41",
            "id" : "905f43ed-39ae-3e99-8e4c-00c194120f1d",
            "name" : "separa medicamento de comp",
            "type" : "PROCESSOR"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "d336971a-956f-3324-b998-a16ada156c41",
          "identifier" : "4f83f46d-c87e-3448-93c8-0636ca0822a6",
          "labelIndex" : 0,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ ],
          "selectedRelationships" : [ "success" ],
          "source" : {
            "comments" : "",
            "groupId" : "d336971a-956f-3324-b998-a16ada156c41",
            "id" : "44e3f8f5-6cae-34c2-8dca-1c2d03fe1ec8",
            "name" : "Incrementa iteracao",
            "type" : "PROCESSOR"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "d336971a-956f-3324-b998-a16ada156c41",
            "id" : "e0a62312-1009-317f-9a01-8c98d4443992",
            "name" : "Funnel",
            "type" : "FUNNEL"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "d336971a-956f-3324-b998-a16ada156c41",
          "identifier" : "d84e26cf-7b55-352f-8b62-5a8032e34a60",
          "labelIndex" : 0,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ ],
          "selectedRelationships" : [ "success" ],
          "source" : {
            "comments" : "",
            "groupId" : "d336971a-956f-3324-b998-a16ada156c41",
            "id" : "f715a21d-4f55-357e-ac2e-31a4f52d9baf",
            "name" : "Verificou todos medicamentos",
            "type" : "PROCESSOR"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "groupId" : "d336971a-956f-3324-b998-a16ada156c41",
            "id" : "ed194cbb-6f70-3b04-9104-f65fc2303791",
            "name" : "Output",
            "type" : "OUTPUT_PORT"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "d336971a-956f-3324-b998-a16ada156c41",
          "identifier" : "93ed1e23-b056-337c-8a08-cac173d711c6",
          "labelIndex" : 0,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ ],
          "selectedRelationships" : [ "" ],
          "source" : {
            "comments" : "",
            "groupId" : "d336971a-956f-3324-b998-a16ada156c41",
            "id" : "e0a62312-1009-317f-9a01-8c98d4443992",
            "name" : "Funnel",
            "type" : "FUNNEL"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "d336971a-956f-3324-b998-a16ada156c41",
            "id" : "82243778-1e96-3eac-975d-53e61547a9e9",
            "name" : "isFinished ?",
            "type" : "PROCESSOR"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "d336971a-956f-3324-b998-a16ada156c41",
          "identifier" : "5cbf5ff0-6975-338d-a7e5-adebee1fc802",
          "labelIndex" : 0,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ ],
          "selectedRelationships" : [ "medicamento" ],
          "source" : {
            "comments" : "",
            "groupId" : "d336971a-956f-3324-b998-a16ada156c41",
            "id" : "905f43ed-39ae-3e99-8e4c-00c194120f1d",
            "name" : "separa medicamento de comp",
            "type" : "PROCESSOR"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "d336971a-956f-3324-b998-a16ada156c41",
            "id" : "b388f3bb-8312-3a97-9a72-be60a63fdd11",
            "name" : "separa medicamento de comp",
            "type" : "PROCESSOR"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "d336971a-956f-3324-b998-a16ada156c41",
          "identifier" : "0927de36-114f-37b4-b05c-5af103a308b6",
          "labelIndex" : 0,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ ],
          "selectedRelationships" : [ "success" ],
          "source" : {
            "comments" : "",
            "groupId" : "d336971a-956f-3324-b998-a16ada156c41",
            "id" : "3375488a-76da-315e-bf48-3fd8a241360a",
            "name" : "COUNT MEDS & COMP",
            "type" : "PROCESSOR"
          },
          "zIndex" : 0
        } ],
        "controllerServices" : [ ],
        "defaultBackPressureDataSizeThreshold" : "1 GB",
        "defaultBackPressureObjectThreshold" : 10000,
        "defaultFlowFileExpiration" : "0 sec",
        "executionEngine" : "INHERITED",
        "flowFileConcurrency" : "UNBOUNDED",
        "flowFileOutboundPolicy" : "STREAM_WHEN_AVAILABLE",
        "funnels" : [ {
          "componentType" : "FUNNEL",
          "groupIdentifier" : "d336971a-956f-3324-b998-a16ada156c41",
          "identifier" : "cdb3e67b-20fb-3067-9d3f-34cbb34bdcc8",
          "position" : {
            "x" : 1264.0,
            "y" : 1648.0
          }
        }, {
          "componentType" : "FUNNEL",
          "groupIdentifier" : "d336971a-956f-3324-b998-a16ada156c41",
          "identifier" : "e0a62312-1009-317f-9a01-8c98d4443992",
          "position" : {
            "x" : 10.125,
            "y" : 2318.399299621582
          }
        }, {
          "componentType" : "FUNNEL",
          "groupIdentifier" : "d336971a-956f-3324-b998-a16ada156c41",
          "identifier" : "63e47438-d755-3bcb-8c9d-6b8d2332c95b",
          "position" : {
            "x" : 1856.0,
            "y" : 1872.0
          }
        } ],
        "groupIdentifier" : "c55c725c-4d6f-3881-82fc-6bea8b74c919",
        "identifier" : "d336971a-956f-3324-b998-a16ada156c41",
        "inputPorts" : [ {
          "allowRemoteAccess" : false,
          "componentType" : "INPUT_PORT",
          "concurrentlySchedulableTaskCount" : 1,
          "groupIdentifier" : "d336971a-956f-3324-b998-a16ada156c41",
          "identifier" : "5a06f9a3-4f0b-3bdc-b4e0-b512c36899bc",
          "name" : "Input",
          "portFunction" : "STANDARD",
          "position" : {
            "x" : -376.0,
            "y" : -104.0
          },
          "scheduledState" : "ENABLED",
          "type" : "INPUT_PORT"
        } ],
        "labels" : [ ],
        "maxConcurrentTasks" : 1,
        "name" : "Join",
        "outputPorts" : [ {
          "allowRemoteAccess" : false,
          "componentType" : "OUTPUT_PORT",
          "concurrentlySchedulableTaskCount" : 1,
          "groupIdentifier" : "d336971a-956f-3324-b998-a16ada156c41",
          "identifier" : "ed194cbb-6f70-3b04-9104-f65fc2303791",
          "name" : "Output",
          "portFunction" : "STANDARD",
          "position" : {
            "x" : -80.0,
            "y" : 2528.0
          },
          "scheduledState" : "ENABLED",
          "type" : "OUTPUT_PORT"
        } ],
        "parameterContextName" : "DEV",
        "position" : {
          "x" : 1312.0,
          "y" : 640.0
        },
        "processGroups" : [ ],
        "processors" : [ {
          "autoTerminatedRelationships" : [ "failure" ],
          "backoffMechanism" : "PENALIZE_FLOWFILE",
          "bulletinLevel" : "WARN",
          "bundle" : {
            "artifact" : "nifi-groovyx-nar",
            "group" : "org.apache.nifi",
            "version" : "2.0.0"
          },
          "comments" : "",
          "componentType" : "PROCESSOR",
          "concurrentlySchedulableTaskCount" : 1,
          "executionNode" : "ALL",
          "groupIdentifier" : "d336971a-956f-3324-b998-a16ada156c41",
          "identifier" : "3375488a-76da-315e-bf48-3fd8a241360a",
          "maxBackoffPeriod" : "10 mins",
          "name" : "COUNT MEDS & COMP",
          "penaltyDuration" : "30 sec",
          "position" : {
            "x" : -472.0,
            "y" : 576.0
          },
          "properties" : {
            "groovyx-script-body" : "// Obter todos os FlowFiles da fila\ndef flowFiles = []\ndef flowFile = session.get()\n\n// Contadores para FlowFiles com _IS_PRODUCT\ndef countIsProductFalse = 0\ndef countIsProductTrue = 0\n\n// Enquanto houver FlowFiles, adiciona à lista e conta os FlowFiles com o atributo '_IS_PRODUCT'\nwhile (flowFile != null) {\n    flowFiles.add(flowFile)\n\n    // Verifica o valor do atributo '_IS_PRODUCT' e conta de acordo\n    def isProduct = flowFile.getAttribute('_IS_PRODUCT')\n    if (isProduct == 'false') {\n        countIsProductFalse++\n    } else if (isProduct == 'true') {\n        countIsProductTrue++\n    }\n\n    // Obter o próximo FlowFile\n    flowFile = session.get()\n}\n\n// Atribuir os valores de totalComp e totalMeds somente aos FlowFiles com '_IS_PRODUCT' == 'true'\nflowFiles.each { currentFlowFile ->\n    def isProduct = currentFlowFile.getAttribute('_IS_PRODUCT')\n\n    // Se o FlowFile tem _IS_PRODUCT = 'true', atribui os valores de totalComp e totalMeds\n    if (isProduct == 'true') {\n        // Atribui o número de FlowFiles com _IS_PRODUCT = 'false' (totalComp)\n        currentFlowFile = session.putAttribute(currentFlowFile, 'totalComp', countIsProductFalse.toString())\n        // Atribui o número de FlowFiles com _IS_PRODUCT = 'true' (totalMeds)\n        currentFlowFile = session.putAttribute(currentFlowFile, 'totalMeds', countIsProductTrue.toString())\n    }\n\n    // Transferir para o relacionamento de sucesso\n    session.transfer(currentFlowFile, REL_SUCCESS)\n}",
            "groovyx-failure-strategy" : "rollback"
          },
          "propertyDescriptors" : {
            "groovyx-script-body" : {
              "displayName" : "Script Body",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "groovyx-script-body",
              "sensitive" : false
            },
            "groovyx-failure-strategy" : {
              "displayName" : "Failure strategy",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "groovyx-failure-strategy",
              "sensitive" : false
            },
            "groovyx-additional-classpath" : {
              "displayName" : "Additional classpath",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "groovyx-additional-classpath",
              "sensitive" : false
            },
            "groovyx-script-file" : {
              "displayName" : "Script File",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "groovyx-script-file",
              "resourceDefinition" : {
                "cardinality" : "SINGLE",
                "resourceTypes" : [ "FILE" ]
              },
              "sensitive" : false
            }
          },
          "retriedRelationships" : [ ],
          "retryCount" : 10,
          "runDurationMillis" : 0,
          "scheduledState" : "ENABLED",
          "schedulingPeriod" : "0 sec",
          "schedulingStrategy" : "TIMER_DRIVEN",
          "style" : { },
          "type" : "org.apache.nifi.processors.groovyx.ExecuteGroovyScript",
          "yieldDuration" : "1 sec"
        }, {
          "autoTerminatedRelationships" : [ ],
          "backoffMechanism" : "PENALIZE_FLOWFILE",
          "bulletinLevel" : "WARN",
          "bundle" : {
            "artifact" : "nifi-standard-nar",
            "group" : "org.apache.nifi",
            "version" : "2.0.0"
          },
          "comments" : "",
          "componentType" : "PROCESSOR",
          "concurrentlySchedulableTaskCount" : 1,
          "executionNode" : "ALL",
          "groupIdentifier" : "d336971a-956f-3324-b998-a16ada156c41",
          "identifier" : "905f43ed-39ae-3e99-8e4c-00c194120f1d",
          "maxBackoffPeriod" : "10 mins",
          "name" : "separa medicamento de comp",
          "penaltyDuration" : "30 sec",
          "position" : {
            "x" : 328.0,
            "y" : 696.0
          },
          "properties" : {
            "Routing Strategy" : "Route to Property name",
            "medicamento" : "${enrichment.role:toString():contains('ORIGINAL')}"
          },
          "propertyDescriptors" : {
            "Routing Strategy" : {
              "displayName" : "Routing Strategy",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Routing Strategy",
              "sensitive" : false
            },
            "medicamento" : {
              "displayName" : "medicamento",
              "dynamic" : true,
              "identifiesControllerService" : false,
              "name" : "medicamento",
              "sensitive" : false
            }
          },
          "retriedRelationships" : [ ],
          "retryCount" : 10,
          "runDurationMillis" : 25,
          "scheduledState" : "ENABLED",
          "schedulingPeriod" : "0 sec",
          "schedulingStrategy" : "TIMER_DRIVEN",
          "style" : { },
          "type" : "org.apache.nifi.processors.standard.RouteOnAttribute",
          "yieldDuration" : "1 sec"
        }, {
          "autoTerminatedRelationships" : [ ],
          "backoffMechanism" : "PENALIZE_FLOWFILE",
          "bulletinLevel" : "WARN",
          "bundle" : {
            "artifact" : "nifi-update-attribute-nar",
            "group" : "org.apache.nifi",
            "version" : "2.0.0"
          },
          "comments" : "",
          "componentType" : "PROCESSOR",
          "concurrentlySchedulableTaskCount" : 1,
          "executionNode" : "ALL",
          "groupIdentifier" : "d336971a-956f-3324-b998-a16ada156c41",
          "identifier" : "9f984a1e-e4c2-3f5f-82a4-dbfafb617558",
          "maxBackoffPeriod" : "10 mins",
          "name" : "Interacao = 0",
          "penaltyDuration" : "30 sec",
          "position" : {
            "x" : -432.0,
            "y" : 96.0
          },
          "properties" : {
            "iteracao" : "0",
            "Store State" : "Do not store state",
            "canonical-value-lookup-cache-size" : "100"
          },
          "propertyDescriptors" : {
            "Delete Attributes Expression" : {
              "displayName" : "Delete Attributes Expression",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Delete Attributes Expression",
              "sensitive" : false
            },
            "iteracao" : {
              "displayName" : "iteracao",
              "dynamic" : true,
              "identifiesControllerService" : false,
              "name" : "iteracao",
              "sensitive" : false
            },
            "Store State" : {
              "displayName" : "Store State",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Store State",
              "sensitive" : false
            },
            "canonical-value-lookup-cache-size" : {
              "displayName" : "Cache Value Lookup Cache Size",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "canonical-value-lookup-cache-size",
              "sensitive" : false
            },
            "Stateful Variables Initial Value" : {
              "displayName" : "Stateful Variables Initial Value",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Stateful Variables Initial Value",
              "sensitive" : false
            }
          },
          "retriedRelationships" : [ ],
          "retryCount" : 10,
          "runDurationMillis" : 25,
          "scheduledState" : "ENABLED",
          "schedulingPeriod" : "0 sec",
          "schedulingStrategy" : "TIMER_DRIVEN",
          "style" : { },
          "type" : "org.apache.nifi.processors.attributes.UpdateAttribute",
          "yieldDuration" : "1 sec"
        }, {
          "autoTerminatedRelationships" : [ ],
          "backoffMechanism" : "PENALIZE_FLOWFILE",
          "bulletinLevel" : "WARN",
          "bundle" : {
            "artifact" : "nifi-standard-nar",
            "group" : "org.apache.nifi",
            "version" : "2.0.0"
          },
          "comments" : "",
          "componentType" : "PROCESSOR",
          "concurrentlySchedulableTaskCount" : 1,
          "executionNode" : "ALL",
          "groupIdentifier" : "d336971a-956f-3324-b998-a16ada156c41",
          "identifier" : "82243778-1e96-3eac-975d-53e61547a9e9",
          "maxBackoffPeriod" : "10 mins",
          "name" : "isFinished ?",
          "penaltyDuration" : "30 sec",
          "position" : {
            "x" : 480.0,
            "y" : 1264.0
          },
          "properties" : {
            "Routing Strategy" : "Route to Property name",
            "isFinished" : "${iteracao:ge(${totalComp})}"
          },
          "propertyDescriptors" : {
            "Routing Strategy" : {
              "displayName" : "Routing Strategy",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Routing Strategy",
              "sensitive" : false
            },
            "isFinished" : {
              "displayName" : "isFinished",
              "dynamic" : true,
              "identifiesControllerService" : false,
              "name" : "isFinished",
              "sensitive" : false
            }
          },
          "retriedRelationships" : [ ],
          "retryCount" : 10,
          "runDurationMillis" : 25,
          "scheduledState" : "ENABLED",
          "schedulingPeriod" : "0 sec",
          "schedulingStrategy" : "TIMER_DRIVEN",
          "style" : { },
          "type" : "org.apache.nifi.processors.standard.RouteOnAttribute",
          "yieldDuration" : "1 sec"
        }, {
          "autoTerminatedRelationships" : [ "medicamento" ],
          "backoffMechanism" : "PENALIZE_FLOWFILE",
          "bulletinLevel" : "WARN",
          "bundle" : {
            "artifact" : "nifi-standard-nar",
            "group" : "org.apache.nifi",
            "version" : "2.0.0"
          },
          "comments" : "",
          "componentType" : "PROCESSOR",
          "concurrentlySchedulableTaskCount" : 1,
          "executionNode" : "ALL",
          "groupIdentifier" : "d336971a-956f-3324-b998-a16ada156c41",
          "identifier" : "85eeff06-857e-379d-8161-b42700833c8c",
          "maxBackoffPeriod" : "10 mins",
          "name" : "APENAS_COMP",
          "penaltyDuration" : "30 sec",
          "position" : {
            "x" : 1608.0,
            "y" : 1360.0
          },
          "properties" : {
            "Routing Strategy" : "Route to Property name",
            "medicamento" : "${enrichment.role:toString():contains('ORIGINAL')}"
          },
          "propertyDescriptors" : {
            "Routing Strategy" : {
              "displayName" : "Routing Strategy",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Routing Strategy",
              "sensitive" : false
            },
            "medicamento" : {
              "displayName" : "medicamento",
              "dynamic" : true,
              "identifiesControllerService" : false,
              "name" : "medicamento",
              "sensitive" : false
            }
          },
          "retriedRelationships" : [ ],
          "retryCount" : 10,
          "runDurationMillis" : 25,
          "scheduledState" : "ENABLED",
          "schedulingPeriod" : "0 sec",
          "schedulingStrategy" : "TIMER_DRIVEN",
          "style" : { },
          "type" : "org.apache.nifi.processors.standard.RouteOnAttribute",
          "yieldDuration" : "1 sec"
        }, {
          "autoTerminatedRelationships" : [ ],
          "backoffMechanism" : "PENALIZE_FLOWFILE",
          "bulletinLevel" : "WARN",
          "bundle" : {
            "artifact" : "nifi-update-attribute-nar",
            "group" : "org.apache.nifi",
            "version" : "2.0.0"
          },
          "comments" : "",
          "componentType" : "PROCESSOR",
          "concurrentlySchedulableTaskCount" : 1,
          "executionNode" : "ALL",
          "groupIdentifier" : "d336971a-956f-3324-b998-a16ada156c41",
          "identifier" : "aaba0eef-97c2-369b-85c6-7f0a3318c0ac",
          "maxBackoffPeriod" : "10 mins",
          "name" : "Verificou todos medicamentos",
          "penaltyDuration" : "30 sec",
          "position" : {
            "x" : -424.0,
            "y" : 2088.0
          },
          "properties" : {
            "Store State" : "Do not store state",
            "canonical-value-lookup-cache-size" : "100",
            "finished" : "true"
          },
          "propertyDescriptors" : {
            "Delete Attributes Expression" : {
              "displayName" : "Delete Attributes Expression",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Delete Attributes Expression",
              "sensitive" : false
            },
            "Store State" : {
              "displayName" : "Store State",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Store State",
              "sensitive" : false
            },
            "canonical-value-lookup-cache-size" : {
              "displayName" : "Cache Value Lookup Cache Size",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "canonical-value-lookup-cache-size",
              "sensitive" : false
            },
            "finished" : {
              "displayName" : "finished",
              "dynamic" : true,
              "identifiesControllerService" : false,
              "name" : "finished",
              "sensitive" : false
            },
            "Stateful Variables Initial Value" : {
              "displayName" : "Stateful Variables Initial Value",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Stateful Variables Initial Value",
              "sensitive" : false
            }
          },
          "retriedRelationships" : [ ],
          "retryCount" : 10,
          "runDurationMillis" : 25,
          "scheduledState" : "ENABLED",
          "schedulingPeriod" : "0 sec",
          "schedulingStrategy" : "TIMER_DRIVEN",
          "style" : { },
          "type" : "org.apache.nifi.processors.attributes.UpdateAttribute",
          "yieldDuration" : "1 sec"
        }, {
          "autoTerminatedRelationships" : [ ],
          "backoffMechanism" : "PENALIZE_FLOWFILE",
          "bulletinLevel" : "WARN",
          "bundle" : {
            "artifact" : "nifi-update-attribute-nar",
            "group" : "org.apache.nifi",
            "version" : "2.0.0"
          },
          "comments" : "",
          "componentType" : "PROCESSOR",
          "concurrentlySchedulableTaskCount" : 1,
          "executionNode" : "ALL",
          "groupIdentifier" : "d336971a-956f-3324-b998-a16ada156c41",
          "identifier" : "f715a21d-4f55-357e-ac2e-31a4f52d9baf",
          "maxBackoffPeriod" : "10 mins",
          "name" : "Verificou todos medicamentos",
          "penaltyDuration" : "30 sec",
          "position" : {
            "x" : 144.0,
            "y" : 2016.0
          },
          "properties" : {
            "Store State" : "Do not store state",
            "canonical-value-lookup-cache-size" : "100",
            "finished" : "true"
          },
          "propertyDescriptors" : {
            "Delete Attributes Expression" : {
              "displayName" : "Delete Attributes Expression",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Delete Attributes Expression",
              "sensitive" : false
            },
            "Store State" : {
              "displayName" : "Store State",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Store State",
              "sensitive" : false
            },
            "canonical-value-lookup-cache-size" : {
              "displayName" : "Cache Value Lookup Cache Size",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "canonical-value-lookup-cache-size",
              "sensitive" : false
            },
            "finished" : {
              "displayName" : "finished",
              "dynamic" : true,
              "identifiesControllerService" : false,
              "name" : "finished",
              "sensitive" : false
            },
            "Stateful Variables Initial Value" : {
              "displayName" : "Stateful Variables Initial Value",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Stateful Variables Initial Value",
              "sensitive" : false
            }
          },
          "retriedRelationships" : [ ],
          "retryCount" : 10,
          "runDurationMillis" : 25,
          "scheduledState" : "ENABLED",
          "schedulingPeriod" : "0 sec",
          "schedulingStrategy" : "TIMER_DRIVEN",
          "style" : { },
          "type" : "org.apache.nifi.processors.attributes.UpdateAttribute",
          "yieldDuration" : "1 sec"
        }, {
          "autoTerminatedRelationships" : [ ],
          "backoffMechanism" : "PENALIZE_FLOWFILE",
          "bulletinLevel" : "WARN",
          "bundle" : {
            "artifact" : "nifi-standard-nar",
            "group" : "org.apache.nifi",
            "version" : "2.0.0"
          },
          "comments" : "",
          "componentType" : "PROCESSOR",
          "concurrentlySchedulableTaskCount" : 1,
          "executionNode" : "ALL",
          "groupIdentifier" : "d336971a-956f-3324-b998-a16ada156c41",
          "identifier" : "0e6b0890-46c1-325f-b008-8aff28f8de84",
          "maxBackoffPeriod" : "10 mins",
          "name" : "JoinEnrichment",
          "penaltyDuration" : "30 sec",
          "position" : {
            "x" : -472.0,
            "y" : 1792.0
          },
          "properties" : {
            "dbf-default-precision" : "10",
            "Join Strategy" : "Wrapper",
            "Insertion Record Path" : "/",
            "Timeout" : "2 sec",
            "Original Record Reader" : "b64ecb7e-25da-3d17-b641-5c2582c7a71a",
            "Record Writer" : "0fc90508-430b-387c-8226-4247f37ffa57",
            "Enrichment Record Reader" : "b64ecb7e-25da-3d17-b641-5c2582c7a71a",
            "dbf-default-scale" : "0",
            "Maximum number of Bins" : "10000",
            "SQL" : "SELECT original.*, enrichment.* \nFROM original \nLEFT OUTER JOIN enrichment \nON original.id = enrichment.id"
          },
          "propertyDescriptors" : {
            "dbf-default-precision" : {
              "displayName" : "Default Decimal Precision",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "dbf-default-precision",
              "sensitive" : false
            },
            "Join Strategy" : {
              "displayName" : "Join Strategy",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Join Strategy",
              "sensitive" : false
            },
            "Insertion Record Path" : {
              "displayName" : "Insertion Record Path",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Insertion Record Path",
              "sensitive" : false
            },
            "Timeout" : {
              "displayName" : "Timeout",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Timeout",
              "sensitive" : false
            },
            "Original Record Reader" : {
              "displayName" : "Original Record Reader",
              "dynamic" : false,
              "identifiesControllerService" : true,
              "name" : "Original Record Reader",
              "sensitive" : false
            },
            "Record Writer" : {
              "displayName" : "Record Writer",
              "dynamic" : false,
              "identifiesControllerService" : true,
              "name" : "Record Writer",
              "sensitive" : false
            },
            "Enrichment Record Reader" : {
              "displayName" : "Enrichment Record Reader",
              "dynamic" : false,
              "identifiesControllerService" : true,
              "name" : "Enrichment Record Reader",
              "sensitive" : false
            },
            "dbf-default-scale" : {
              "displayName" : "Default Decimal Scale",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "dbf-default-scale",
              "sensitive" : false
            },
            "Maximum number of Bins" : {
              "displayName" : "Maximum number of Bins",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Maximum number of Bins",
              "sensitive" : false
            },
            "SQL" : {
              "displayName" : "SQL",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "SQL",
              "sensitive" : false
            }
          },
          "retriedRelationships" : [ ],
          "retryCount" : 10,
          "runDurationMillis" : 0,
          "scheduledState" : "ENABLED",
          "schedulingPeriod" : "0 sec",
          "schedulingStrategy" : "TIMER_DRIVEN",
          "style" : { },
          "type" : "org.apache.nifi.processors.standard.JoinEnrichment",
          "yieldDuration" : "1 sec"
        }, {
          "autoTerminatedRelationships" : [ "failure" ],
          "backoffMechanism" : "PENALIZE_FLOWFILE",
          "bulletinLevel" : "WARN",
          "bundle" : {
            "artifact" : "nifi-groovyx-nar",
            "group" : "org.apache.nifi",
            "version" : "2.0.0"
          },
          "comments" : "",
          "componentType" : "PROCESSOR",
          "concurrentlySchedulableTaskCount" : 1,
          "executionNode" : "ALL",
          "groupIdentifier" : "d336971a-956f-3324-b998-a16ada156c41",
          "identifier" : "44e3f8f5-6cae-34c2-8dca-1c2d03fe1ec8",
          "maxBackoffPeriod" : "10 mins",
          "name" : "Incrementa iteracao",
          "penaltyDuration" : "30 sec",
          "position" : {
            "x" : 945.8829511843696,
            "y" : 889.9643330171349
          },
          "properties" : {
            "groovyx-script-body" : "// Obtém o FlowFile da sessão\ndef flowFile = session.get()\nif (!flowFile) return // Se não houver FlowFile, sai do script\n\n// Recupera o valor atual do atributo 'iteracao' (se existir), ou define como 0\ndef iteracao = flowFile.getAttribute('iteracao')?.toInteger() ?: 0\n\n// Incrementa o valor de 'iteracao'\niteracao++\n\n// Atribui o valor incrementado de volta ao FlowFile\nflowFile = session.putAttribute(flowFile, 'iteracao', iteracao.toString())\n\n// Transferir para o relacionamento de sucesso\nsession.transfer(flowFile, REL_SUCCESS)",
            "groovyx-failure-strategy" : "rollback"
          },
          "propertyDescriptors" : {
            "groovyx-script-body" : {
              "displayName" : "Script Body",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "groovyx-script-body",
              "sensitive" : false
            },
            "groovyx-failure-strategy" : {
              "displayName" : "Failure strategy",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "groovyx-failure-strategy",
              "sensitive" : false
            },
            "groovyx-additional-classpath" : {
              "displayName" : "Additional classpath",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "groovyx-additional-classpath",
              "sensitive" : false
            },
            "groovyx-script-file" : {
              "displayName" : "Script File",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "groovyx-script-file",
              "resourceDefinition" : {
                "cardinality" : "SINGLE",
                "resourceTypes" : [ "FILE" ]
              },
              "sensitive" : false
            }
          },
          "retriedRelationships" : [ ],
          "retryCount" : 10,
          "runDurationMillis" : 0,
          "scheduledState" : "ENABLED",
          "schedulingPeriod" : "0 sec",
          "schedulingStrategy" : "TIMER_DRIVEN",
          "style" : { },
          "type" : "org.apache.nifi.processors.groovyx.ExecuteGroovyScript",
          "yieldDuration" : "1 sec"
        }, {
          "autoTerminatedRelationships" : [ ],
          "backoffMechanism" : "PENALIZE_FLOWFILE",
          "bulletinLevel" : "WARN",
          "bundle" : {
            "artifact" : "nifi-standard-nar",
            "group" : "org.apache.nifi",
            "version" : "2.0.0"
          },
          "comments" : "",
          "componentType" : "PROCESSOR",
          "concurrentlySchedulableTaskCount" : 1,
          "executionNode" : "ALL",
          "groupIdentifier" : "d336971a-956f-3324-b998-a16ada156c41",
          "identifier" : "b388f3bb-8312-3a97-9a72-be60a63fdd11",
          "maxBackoffPeriod" : "10 mins",
          "name" : "separa medicamento de comp",
          "penaltyDuration" : "30 sec",
          "position" : {
            "x" : -480.0,
            "y" : 1304.0
          },
          "properties" : {
            "Routing Strategy" : "Route to Property name",
            "medicamento" : "${enrichment.role:toString():contains('ORIGINAL')}"
          },
          "propertyDescriptors" : {
            "Routing Strategy" : {
              "displayName" : "Routing Strategy",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Routing Strategy",
              "sensitive" : false
            },
            "medicamento" : {
              "displayName" : "medicamento",
              "dynamic" : true,
              "identifiesControllerService" : false,
              "name" : "medicamento",
              "sensitive" : false
            }
          },
          "retriedRelationships" : [ ],
          "retryCount" : 10,
          "runDurationMillis" : 25,
          "scheduledState" : "ENABLED",
          "schedulingPeriod" : "0 sec",
          "schedulingStrategy" : "TIMER_DRIVEN",
          "style" : { },
          "type" : "org.apache.nifi.processors.standard.RouteOnAttribute",
          "yieldDuration" : "1 sec"
        } ],
        "remoteProcessGroups" : [ ],
        "scheduledState" : "ENABLED",
        "statelessFlowTimeout" : "1 min"
      }, {
        "comments" : "",
        "componentType" : "PROCESS_GROUP",
        "connections" : [ {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "a3cf9980-cc63-37c8-b168-b353f709fef5",
            "id" : "4bf05e0b-bca2-3f79-990c-e6ac2e71b7e1",
            "name" : "Verificou todos medicamentos",
            "type" : "PROCESSOR"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "a3cf9980-cc63-37c8-b168-b353f709fef5",
          "identifier" : "e6b1e20c-b5e5-3ea9-a5c5-97685ff265e3",
          "labelIndex" : 1,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ "org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer" ],
          "selectedRelationships" : [ "isFinished" ],
          "source" : {
            "comments" : "",
            "groupId" : "a3cf9980-cc63-37c8-b168-b353f709fef5",
            "id" : "ae7892c5-1d62-3a8d-a20b-94790b6773fe",
            "name" : "isFinished ?",
            "type" : "PROCESSOR"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "a3cf9980-cc63-37c8-b168-b353f709fef5",
            "id" : "9ca09ac4-bbce-302e-af60-15fbd8230a8a",
            "name" : "Funnel",
            "type" : "FUNNEL"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "a3cf9980-cc63-37c8-b168-b353f709fef5",
          "identifier" : "0fbfe0c4-42c7-3553-895a-d1ae6a2d2e88",
          "labelIndex" : 1,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ "org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer" ],
          "selectedRelationships" : [ "original" ],
          "source" : {
            "comments" : "",
            "groupId" : "a3cf9980-cc63-37c8-b168-b353f709fef5",
            "id" : "759ae522-6192-3edb-9aee-7a3cbfeabdd8",
            "name" : "JoinEnrichment",
            "type" : "PROCESSOR"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "a3cf9980-cc63-37c8-b168-b353f709fef5",
            "id" : "043cde2b-c22e-385f-82e5-ab855b9d648e",
            "name" : "Funnel",
            "type" : "FUNNEL"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "a3cf9980-cc63-37c8-b168-b353f709fef5",
          "identifier" : "1539cd65-0b1d-3417-a1b5-16177baa3675",
          "labelIndex" : 1,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ ],
          "selectedRelationships" : [ "success" ],
          "source" : {
            "comments" : "",
            "groupId" : "a3cf9980-cc63-37c8-b168-b353f709fef5",
            "id" : "34cbce50-81ab-3b28-ab5e-c982353acb4a",
            "name" : "Verificou todos medicamentos",
            "type" : "PROCESSOR"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "a3cf9980-cc63-37c8-b168-b353f709fef5",
            "id" : "043cde2b-c22e-385f-82e5-ab855b9d648e",
            "name" : "Funnel",
            "type" : "FUNNEL"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "a3cf9980-cc63-37c8-b168-b353f709fef5",
          "identifier" : "42247301-0a73-39a6-ad9b-15cb60577279",
          "labelIndex" : 1,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ ],
          "selectedRelationships" : [ "success" ],
          "source" : {
            "comments" : "",
            "groupId" : "a3cf9980-cc63-37c8-b168-b353f709fef5",
            "id" : "4bf05e0b-bca2-3f79-990c-e6ac2e71b7e1",
            "name" : "Verificou todos medicamentos",
            "type" : "PROCESSOR"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "a3cf9980-cc63-37c8-b168-b353f709fef5",
            "id" : "34cbce50-81ab-3b28-ab5e-c982353acb4a",
            "name" : "Verificou todos medicamentos",
            "type" : "PROCESSOR"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "a3cf9980-cc63-37c8-b168-b353f709fef5",
          "identifier" : "8f94ccb4-1e1c-3306-ae8d-bb73deeab1e6",
          "labelIndex" : 1,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ ],
          "selectedRelationships" : [ "joined" ],
          "source" : {
            "comments" : "",
            "groupId" : "a3cf9980-cc63-37c8-b168-b353f709fef5",
            "id" : "759ae522-6192-3edb-9aee-7a3cbfeabdd8",
            "name" : "JoinEnrichment",
            "type" : "PROCESSOR"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "a3cf9980-cc63-37c8-b168-b353f709fef5",
            "id" : "ae7892c5-1d62-3a8d-a20b-94790b6773fe",
            "name" : "isFinished ?",
            "type" : "PROCESSOR"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "a3cf9980-cc63-37c8-b168-b353f709fef5",
          "identifier" : "ca85e36a-6045-345c-910b-d9098e88513b",
          "labelIndex" : 1,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ ],
          "selectedRelationships" : [ "medicamento" ],
          "source" : {
            "comments" : "",
            "groupId" : "a3cf9980-cc63-37c8-b168-b353f709fef5",
            "id" : "1af6fba6-f90c-3223-99bd-f32975c94b18",
            "name" : "separa medicamento de comp",
            "type" : "PROCESSOR"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "a3cf9980-cc63-37c8-b168-b353f709fef5",
            "id" : "3fec2b40-e22c-361a-a455-630f55a6769c",
            "name" : "Interacao = 0",
            "type" : "PROCESSOR"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "a3cf9980-cc63-37c8-b168-b353f709fef5",
          "identifier" : "2f0886c4-262a-393c-9d58-e3ee2a7c4a6c",
          "labelIndex" : 1,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ ],
          "selectedRelationships" : [ "" ],
          "source" : {
            "groupId" : "a3cf9980-cc63-37c8-b168-b353f709fef5",
            "id" : "4a14c42f-2a77-3780-8615-f419561b4b76",
            "name" : "Input",
            "type" : "INPUT_PORT"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "a3cf9980-cc63-37c8-b168-b353f709fef5",
            "id" : "5dda8d71-6e0f-3531-b1e6-86e1525a55d3",
            "name" : "Funnel",
            "type" : "FUNNEL"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "a3cf9980-cc63-37c8-b168-b353f709fef5",
          "identifier" : "fd9a2561-c1e9-31c9-a031-4a5df3a64a2a",
          "labelIndex" : 1,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ "org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer" ],
          "selectedRelationships" : [ "unmatched" ],
          "source" : {
            "comments" : "",
            "groupId" : "a3cf9980-cc63-37c8-b168-b353f709fef5",
            "id" : "029a5d26-bdbd-3a1e-ab8b-a3a2e6e3d47f",
            "name" : "APENAS_COMP",
            "type" : "PROCESSOR"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "a3cf9980-cc63-37c8-b168-b353f709fef5",
            "id" : "029a5d26-bdbd-3a1e-ab8b-a3a2e6e3d47f",
            "name" : "APENAS_COMP",
            "type" : "PROCESSOR"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "a3cf9980-cc63-37c8-b168-b353f709fef5",
          "identifier" : "68883679-d4ab-3f1c-a2ab-07632e16a9cf",
          "labelIndex" : 1,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ "org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer" ],
          "selectedRelationships" : [ "" ],
          "source" : {
            "comments" : "",
            "groupId" : "a3cf9980-cc63-37c8-b168-b353f709fef5",
            "id" : "9ca09ac4-bbce-302e-af60-15fbd8230a8a",
            "name" : "Funnel",
            "type" : "FUNNEL"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ {
            "x" : 768.0,
            "y" : 1696.0
          } ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "a3cf9980-cc63-37c8-b168-b353f709fef5",
            "id" : "5dda8d71-6e0f-3531-b1e6-86e1525a55d3",
            "name" : "Funnel",
            "type" : "FUNNEL"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "a3cf9980-cc63-37c8-b168-b353f709fef5",
          "identifier" : "358fa8dc-9b05-358b-91e6-b6288a05f7a7",
          "labelIndex" : 1,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ "org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer" ],
          "selectedRelationships" : [ "timeout" ],
          "source" : {
            "comments" : "",
            "groupId" : "a3cf9980-cc63-37c8-b168-b353f709fef5",
            "id" : "759ae522-6192-3edb-9aee-7a3cbfeabdd8",
            "name" : "JoinEnrichment",
            "type" : "PROCESSOR"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "groupId" : "a3cf9980-cc63-37c8-b168-b353f709fef5",
            "id" : "7ae68216-0d21-3b53-a7cc-faee3f4b2626",
            "name" : "Output",
            "type" : "OUTPUT_PORT"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "a3cf9980-cc63-37c8-b168-b353f709fef5",
          "identifier" : "17147db4-b921-38ee-b351-12a2b4d97053",
          "labelIndex" : 1,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ ],
          "selectedRelationships" : [ "" ],
          "source" : {
            "comments" : "",
            "groupId" : "a3cf9980-cc63-37c8-b168-b353f709fef5",
            "id" : "043cde2b-c22e-385f-82e5-ab855b9d648e",
            "name" : "Funnel",
            "type" : "FUNNEL"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "a3cf9980-cc63-37c8-b168-b353f709fef5",
            "id" : "1ab4039a-15c8-34fc-a1ab-e58444fd30be",
            "name" : "separa medicamento de comp",
            "type" : "PROCESSOR"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "a3cf9980-cc63-37c8-b168-b353f709fef5",
          "identifier" : "91a10012-a9b1-398f-a121-1b611287a240",
          "labelIndex" : 1,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ ],
          "selectedRelationships" : [ "unmatched" ],
          "source" : {
            "comments" : "",
            "groupId" : "a3cf9980-cc63-37c8-b168-b353f709fef5",
            "id" : "ae7892c5-1d62-3a8d-a20b-94790b6773fe",
            "name" : "isFinished ?",
            "type" : "PROCESSOR"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "a3cf9980-cc63-37c8-b168-b353f709fef5",
            "id" : "759ae522-6192-3edb-9aee-7a3cbfeabdd8",
            "name" : "JoinEnrichment",
            "type" : "PROCESSOR"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "a3cf9980-cc63-37c8-b168-b353f709fef5",
          "identifier" : "6a4f4081-e0be-3969-ace5-76ae61fddd39",
          "labelIndex" : 1,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ "org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer" ],
          "selectedRelationships" : [ "unmatched" ],
          "source" : {
            "comments" : "",
            "groupId" : "a3cf9980-cc63-37c8-b168-b353f709fef5",
            "id" : "1ab4039a-15c8-34fc-a1ab-e58444fd30be",
            "name" : "separa medicamento de comp",
            "type" : "PROCESSOR"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "a3cf9980-cc63-37c8-b168-b353f709fef5",
            "id" : "1ab4039a-15c8-34fc-a1ab-e58444fd30be",
            "name" : "separa medicamento de comp",
            "type" : "PROCESSOR"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "a3cf9980-cc63-37c8-b168-b353f709fef5",
          "identifier" : "8c892eaf-92e8-34dd-8a21-6332c4e7dee9",
          "labelIndex" : 1,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ ],
          "selectedRelationships" : [ "unmatched" ],
          "source" : {
            "comments" : "",
            "groupId" : "a3cf9980-cc63-37c8-b168-b353f709fef5",
            "id" : "1af6fba6-f90c-3223-99bd-f32975c94b18",
            "name" : "separa medicamento de comp",
            "type" : "PROCESSOR"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ {
            "x" : 48.0,
            "y" : 1520.0
          } ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "a3cf9980-cc63-37c8-b168-b353f709fef5",
            "id" : "759ae522-6192-3edb-9aee-7a3cbfeabdd8",
            "name" : "JoinEnrichment",
            "type" : "PROCESSOR"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "a3cf9980-cc63-37c8-b168-b353f709fef5",
          "identifier" : "e37eb47d-2080-3321-8fe0-c6db84d21b03",
          "labelIndex" : 1,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ "org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer" ],
          "selectedRelationships" : [ "medicamento" ],
          "source" : {
            "comments" : "",
            "groupId" : "a3cf9980-cc63-37c8-b168-b353f709fef5",
            "id" : "1ab4039a-15c8-34fc-a1ab-e58444fd30be",
            "name" : "separa medicamento de comp",
            "type" : "PROCESSOR"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "a3cf9980-cc63-37c8-b168-b353f709fef5",
            "id" : "1af6fba6-f90c-3223-99bd-f32975c94b18",
            "name" : "separa medicamento de comp",
            "type" : "PROCESSOR"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "a3cf9980-cc63-37c8-b168-b353f709fef5",
          "identifier" : "7e5d91fd-94b4-3450-9bf4-2c8d1379e2db",
          "labelIndex" : 1,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ ],
          "selectedRelationships" : [ "success" ],
          "source" : {
            "comments" : "",
            "groupId" : "a3cf9980-cc63-37c8-b168-b353f709fef5",
            "id" : "0df92d13-ce6d-3173-afff-4398c3708b09",
            "name" : "Incrementa iteracao",
            "type" : "PROCESSOR"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "a3cf9980-cc63-37c8-b168-b353f709fef5",
            "id" : "d1a2c1b2-04c9-3a3a-9a41-f5c459fd08ab",
            "name" : "COUNT MEDS & COMP",
            "type" : "PROCESSOR"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "a3cf9980-cc63-37c8-b168-b353f709fef5",
          "identifier" : "08d23804-1c38-347e-9520-685ffa3283eb",
          "labelIndex" : 1,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ ],
          "selectedRelationships" : [ "success" ],
          "source" : {
            "comments" : "",
            "groupId" : "a3cf9980-cc63-37c8-b168-b353f709fef5",
            "id" : "3fec2b40-e22c-361a-a455-630f55a6769c",
            "name" : "Interacao = 0",
            "type" : "PROCESSOR"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "a3cf9980-cc63-37c8-b168-b353f709fef5",
            "id" : "0df92d13-ce6d-3173-afff-4398c3708b09",
            "name" : "Incrementa iteracao",
            "type" : "PROCESSOR"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "a3cf9980-cc63-37c8-b168-b353f709fef5",
          "identifier" : "fa83b15a-189f-35b3-943e-f7375038a97c",
          "labelIndex" : 1,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ "org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer" ],
          "selectedRelationships" : [ "" ],
          "source" : {
            "comments" : "",
            "groupId" : "a3cf9980-cc63-37c8-b168-b353f709fef5",
            "id" : "5dda8d71-6e0f-3531-b1e6-86e1525a55d3",
            "name" : "Funnel",
            "type" : "FUNNEL"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "a3cf9980-cc63-37c8-b168-b353f709fef5",
            "id" : "5dda8d71-6e0f-3531-b1e6-86e1525a55d3",
            "name" : "Funnel",
            "type" : "FUNNEL"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "a3cf9980-cc63-37c8-b168-b353f709fef5",
          "identifier" : "90af9326-535f-333c-886f-bf0fea519a4f",
          "labelIndex" : 1,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ "org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer" ],
          "selectedRelationships" : [ "failure" ],
          "source" : {
            "comments" : "",
            "groupId" : "a3cf9980-cc63-37c8-b168-b353f709fef5",
            "id" : "759ae522-6192-3edb-9aee-7a3cbfeabdd8",
            "name" : "JoinEnrichment",
            "type" : "PROCESSOR"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "a3cf9980-cc63-37c8-b168-b353f709fef5",
            "id" : "1ab4039a-15c8-34fc-a1ab-e58444fd30be",
            "name" : "separa medicamento de comp",
            "type" : "PROCESSOR"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "a3cf9980-cc63-37c8-b168-b353f709fef5",
          "identifier" : "166ffd0b-6ee5-31bf-b69b-4480068cccad",
          "labelIndex" : 1,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ ],
          "selectedRelationships" : [ "success" ],
          "source" : {
            "comments" : "",
            "groupId" : "a3cf9980-cc63-37c8-b168-b353f709fef5",
            "id" : "d1a2c1b2-04c9-3a3a-9a41-f5c459fd08ab",
            "name" : "COUNT MEDS & COMP",
            "type" : "PROCESSOR"
          },
          "zIndex" : 0
        } ],
        "controllerServices" : [ ],
        "defaultBackPressureDataSizeThreshold" : "1 GB",
        "defaultBackPressureObjectThreshold" : 10000,
        "defaultFlowFileExpiration" : "0 sec",
        "executionEngine" : "INHERITED",
        "flowFileConcurrency" : "UNBOUNDED",
        "flowFileOutboundPolicy" : "STREAM_WHEN_AVAILABLE",
        "funnels" : [ {
          "componentType" : "FUNNEL",
          "groupIdentifier" : "a3cf9980-cc63-37c8-b168-b353f709fef5",
          "identifier" : "5dda8d71-6e0f-3531-b1e6-86e1525a55d3",
          "position" : {
            "x" : 1264.0,
            "y" : 1648.0
          }
        }, {
          "componentType" : "FUNNEL",
          "groupIdentifier" : "a3cf9980-cc63-37c8-b168-b353f709fef5",
          "identifier" : "9ca09ac4-bbce-302e-af60-15fbd8230a8a",
          "position" : {
            "x" : 1856.0,
            "y" : 1872.0
          }
        }, {
          "componentType" : "FUNNEL",
          "groupIdentifier" : "a3cf9980-cc63-37c8-b168-b353f709fef5",
          "identifier" : "043cde2b-c22e-385f-82e5-ab855b9d648e",
          "position" : {
            "x" : 10.125,
            "y" : 2318.399299621582
          }
        } ],
        "groupIdentifier" : "c55c725c-4d6f-3881-82fc-6bea8b74c919",
        "identifier" : "a3cf9980-cc63-37c8-b168-b353f709fef5",
        "inputPorts" : [ {
          "allowRemoteAccess" : false,
          "componentType" : "INPUT_PORT",
          "concurrentlySchedulableTaskCount" : 1,
          "groupIdentifier" : "a3cf9980-cc63-37c8-b168-b353f709fef5",
          "identifier" : "4a14c42f-2a77-3780-8615-f419561b4b76",
          "name" : "Input",
          "portFunction" : "STANDARD",
          "position" : {
            "x" : -376.0,
            "y" : -104.0
          },
          "scheduledState" : "ENABLED",
          "type" : "INPUT_PORT"
        } ],
        "labels" : [ ],
        "maxConcurrentTasks" : 1,
        "name" : "Copy of Join",
        "outputPorts" : [ {
          "allowRemoteAccess" : false,
          "componentType" : "OUTPUT_PORT",
          "concurrentlySchedulableTaskCount" : 1,
          "groupIdentifier" : "a3cf9980-cc63-37c8-b168-b353f709fef5",
          "identifier" : "7ae68216-0d21-3b53-a7cc-faee3f4b2626",
          "name" : "Output",
          "portFunction" : "STANDARD",
          "position" : {
            "x" : -80.0,
            "y" : 2528.0
          },
          "scheduledState" : "ENABLED",
          "type" : "OUTPUT_PORT"
        } ],
        "parameterContextName" : "DEV",
        "position" : {
          "x" : 720.0,
          "y" : 624.0
        },
        "processGroups" : [ ],
        "processors" : [ {
          "autoTerminatedRelationships" : [ ],
          "backoffMechanism" : "PENALIZE_FLOWFILE",
          "bulletinLevel" : "WARN",
          "bundle" : {
            "artifact" : "nifi-standard-nar",
            "group" : "org.apache.nifi",
            "version" : "2.0.0"
          },
          "comments" : "",
          "componentType" : "PROCESSOR",
          "concurrentlySchedulableTaskCount" : 1,
          "executionNode" : "ALL",
          "groupIdentifier" : "a3cf9980-cc63-37c8-b168-b353f709fef5",
          "identifier" : "759ae522-6192-3edb-9aee-7a3cbfeabdd8",
          "maxBackoffPeriod" : "10 mins",
          "name" : "JoinEnrichment",
          "penaltyDuration" : "30 sec",
          "position" : {
            "x" : -472.0,
            "y" : 1792.0
          },
          "properties" : {
            "dbf-default-precision" : "10",
            "Join Strategy" : "Wrapper",
            "Insertion Record Path" : "/",
            "Timeout" : "2 sec",
            "Original Record Reader" : "b64ecb7e-25da-3d17-b641-5c2582c7a71a",
            "Record Writer" : "0fc90508-430b-387c-8226-4247f37ffa57",
            "Enrichment Record Reader" : "b64ecb7e-25da-3d17-b641-5c2582c7a71a",
            "dbf-default-scale" : "0",
            "Maximum number of Bins" : "10000",
            "SQL" : "SELECT original.*, enrichment.* \nFROM original \nLEFT OUTER JOIN enrichment \nON original.id = enrichment.id"
          },
          "propertyDescriptors" : {
            "dbf-default-precision" : {
              "displayName" : "Default Decimal Precision",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "dbf-default-precision",
              "sensitive" : false
            },
            "Join Strategy" : {
              "displayName" : "Join Strategy",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Join Strategy",
              "sensitive" : false
            },
            "Insertion Record Path" : {
              "displayName" : "Insertion Record Path",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Insertion Record Path",
              "sensitive" : false
            },
            "Timeout" : {
              "displayName" : "Timeout",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Timeout",
              "sensitive" : false
            },
            "Original Record Reader" : {
              "displayName" : "Original Record Reader",
              "dynamic" : false,
              "identifiesControllerService" : true,
              "name" : "Original Record Reader",
              "sensitive" : false
            },
            "Record Writer" : {
              "displayName" : "Record Writer",
              "dynamic" : false,
              "identifiesControllerService" : true,
              "name" : "Record Writer",
              "sensitive" : false
            },
            "Enrichment Record Reader" : {
              "displayName" : "Enrichment Record Reader",
              "dynamic" : false,
              "identifiesControllerService" : true,
              "name" : "Enrichment Record Reader",
              "sensitive" : false
            },
            "dbf-default-scale" : {
              "displayName" : "Default Decimal Scale",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "dbf-default-scale",
              "sensitive" : false
            },
            "Maximum number of Bins" : {
              "displayName" : "Maximum number of Bins",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Maximum number of Bins",
              "sensitive" : false
            },
            "SQL" : {
              "displayName" : "SQL",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "SQL",
              "sensitive" : false
            }
          },
          "retriedRelationships" : [ ],
          "retryCount" : 10,
          "runDurationMillis" : 0,
          "scheduledState" : "ENABLED",
          "schedulingPeriod" : "0 sec",
          "schedulingStrategy" : "TIMER_DRIVEN",
          "style" : { },
          "type" : "org.apache.nifi.processors.standard.JoinEnrichment",
          "yieldDuration" : "1 sec"
        }, {
          "autoTerminatedRelationships" : [ ],
          "backoffMechanism" : "PENALIZE_FLOWFILE",
          "bulletinLevel" : "WARN",
          "bundle" : {
            "artifact" : "nifi-standard-nar",
            "group" : "org.apache.nifi",
            "version" : "2.0.0"
          },
          "comments" : "",
          "componentType" : "PROCESSOR",
          "concurrentlySchedulableTaskCount" : 1,
          "executionNode" : "ALL",
          "groupIdentifier" : "a3cf9980-cc63-37c8-b168-b353f709fef5",
          "identifier" : "1ab4039a-15c8-34fc-a1ab-e58444fd30be",
          "maxBackoffPeriod" : "10 mins",
          "name" : "separa medicamento de comp",
          "penaltyDuration" : "30 sec",
          "position" : {
            "x" : -480.0,
            "y" : 1304.0
          },
          "properties" : {
            "Routing Strategy" : "Route to Property name",
            "medicamento" : "${enrichment.role:toString():contains('ORIGINAL')}"
          },
          "propertyDescriptors" : {
            "Routing Strategy" : {
              "displayName" : "Routing Strategy",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Routing Strategy",
              "sensitive" : false
            },
            "medicamento" : {
              "displayName" : "medicamento",
              "dynamic" : true,
              "identifiesControllerService" : false,
              "name" : "medicamento",
              "sensitive" : false
            }
          },
          "retriedRelationships" : [ ],
          "retryCount" : 10,
          "runDurationMillis" : 25,
          "scheduledState" : "ENABLED",
          "schedulingPeriod" : "0 sec",
          "schedulingStrategy" : "TIMER_DRIVEN",
          "style" : { },
          "type" : "org.apache.nifi.processors.standard.RouteOnAttribute",
          "yieldDuration" : "1 sec"
        }, {
          "autoTerminatedRelationships" : [ "failure" ],
          "backoffMechanism" : "PENALIZE_FLOWFILE",
          "bulletinLevel" : "WARN",
          "bundle" : {
            "artifact" : "nifi-groovyx-nar",
            "group" : "org.apache.nifi",
            "version" : "2.0.0"
          },
          "comments" : "",
          "componentType" : "PROCESSOR",
          "concurrentlySchedulableTaskCount" : 1,
          "executionNode" : "ALL",
          "groupIdentifier" : "a3cf9980-cc63-37c8-b168-b353f709fef5",
          "identifier" : "d1a2c1b2-04c9-3a3a-9a41-f5c459fd08ab",
          "maxBackoffPeriod" : "10 mins",
          "name" : "COUNT MEDS & COMP",
          "penaltyDuration" : "30 sec",
          "position" : {
            "x" : -472.0,
            "y" : 576.0
          },
          "properties" : {
            "groovyx-script-body" : "// Obter todos os FlowFiles da fila\ndef flowFiles = []\ndef flowFile = session.get()\n\n// Contadores para FlowFiles com _IS_PRODUCT\ndef countIsProductFalse = 0\ndef countIsProductTrue = 0\n\n// Enquanto houver FlowFiles, adiciona à lista e conta os FlowFiles com o atributo '_IS_PRODUCT'\nwhile (flowFile != null) {\n    flowFiles.add(flowFile)\n\n    // Verifica o valor do atributo '_IS_PRODUCT' e conta de acordo\n    def isProduct = flowFile.getAttribute('_IS_PRODUCT')\n    if (isProduct == 'false') {\n        countIsProductFalse++\n    } else if (isProduct == 'true') {\n        countIsProductTrue++\n    }\n\n    // Obter o próximo FlowFile\n    flowFile = session.get()\n}\n\n// Atribuir os valores de totalComp e totalMeds somente aos FlowFiles com '_IS_PRODUCT' == 'true'\nflowFiles.each { currentFlowFile ->\n    def isProduct = currentFlowFile.getAttribute('_IS_PRODUCT')\n\n    // Se o FlowFile tem _IS_PRODUCT = 'true', atribui os valores de totalComp e totalMeds\n    if (isProduct == 'true') {\n        // Atribui o número de FlowFiles com _IS_PRODUCT = 'false' (totalComp)\n        currentFlowFile = session.putAttribute(currentFlowFile, 'totalComp', countIsProductFalse.toString())\n        // Atribui o número de FlowFiles com _IS_PRODUCT = 'true' (totalMeds)\n        currentFlowFile = session.putAttribute(currentFlowFile, 'totalMeds', countIsProductTrue.toString())\n    }\n\n    // Transferir para o relacionamento de sucesso\n    session.transfer(currentFlowFile, REL_SUCCESS)\n}",
            "groovyx-failure-strategy" : "rollback"
          },
          "propertyDescriptors" : {
            "groovyx-script-body" : {
              "displayName" : "Script Body",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "groovyx-script-body",
              "sensitive" : false
            },
            "groovyx-failure-strategy" : {
              "displayName" : "Failure strategy",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "groovyx-failure-strategy",
              "sensitive" : false
            },
            "groovyx-additional-classpath" : {
              "displayName" : "Additional classpath",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "groovyx-additional-classpath",
              "sensitive" : false
            },
            "groovyx-script-file" : {
              "displayName" : "Script File",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "groovyx-script-file",
              "resourceDefinition" : {
                "cardinality" : "SINGLE",
                "resourceTypes" : [ "FILE" ]
              },
              "sensitive" : false
            }
          },
          "retriedRelationships" : [ ],
          "retryCount" : 10,
          "runDurationMillis" : 0,
          "scheduledState" : "ENABLED",
          "schedulingPeriod" : "0 sec",
          "schedulingStrategy" : "TIMER_DRIVEN",
          "style" : { },
          "type" : "org.apache.nifi.processors.groovyx.ExecuteGroovyScript",
          "yieldDuration" : "1 sec"
        }, {
          "autoTerminatedRelationships" : [ "failure" ],
          "backoffMechanism" : "PENALIZE_FLOWFILE",
          "bulletinLevel" : "WARN",
          "bundle" : {
            "artifact" : "nifi-groovyx-nar",
            "group" : "org.apache.nifi",
            "version" : "2.0.0"
          },
          "comments" : "",
          "componentType" : "PROCESSOR",
          "concurrentlySchedulableTaskCount" : 1,
          "executionNode" : "ALL",
          "groupIdentifier" : "a3cf9980-cc63-37c8-b168-b353f709fef5",
          "identifier" : "0df92d13-ce6d-3173-afff-4398c3708b09",
          "maxBackoffPeriod" : "10 mins",
          "name" : "Incrementa iteracao",
          "penaltyDuration" : "30 sec",
          "position" : {
            "x" : 945.8829511843696,
            "y" : 889.9643330171349
          },
          "properties" : {
            "groovyx-script-body" : "// Obtém o FlowFile da sessão\ndef flowFile = session.get()\nif (!flowFile) return // Se não houver FlowFile, sai do script\n\n// Recupera o valor atual do atributo 'iteracao' (se existir), ou define como 0\ndef iteracao = flowFile.getAttribute('iteracao')?.toInteger() ?: 0\n\n// Incrementa o valor de 'iteracao'\niteracao++\n\n// Atribui o valor incrementado de volta ao FlowFile\nflowFile = session.putAttribute(flowFile, 'iteracao', iteracao.toString())\n\n// Transferir para o relacionamento de sucesso\nsession.transfer(flowFile, REL_SUCCESS)",
            "groovyx-failure-strategy" : "rollback"
          },
          "propertyDescriptors" : {
            "groovyx-script-body" : {
              "displayName" : "Script Body",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "groovyx-script-body",
              "sensitive" : false
            },
            "groovyx-failure-strategy" : {
              "displayName" : "Failure strategy",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "groovyx-failure-strategy",
              "sensitive" : false
            },
            "groovyx-additional-classpath" : {
              "displayName" : "Additional classpath",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "groovyx-additional-classpath",
              "sensitive" : false
            },
            "groovyx-script-file" : {
              "displayName" : "Script File",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "groovyx-script-file",
              "resourceDefinition" : {
                "cardinality" : "SINGLE",
                "resourceTypes" : [ "FILE" ]
              },
              "sensitive" : false
            }
          },
          "retriedRelationships" : [ ],
          "retryCount" : 10,
          "runDurationMillis" : 0,
          "scheduledState" : "ENABLED",
          "schedulingPeriod" : "0 sec",
          "schedulingStrategy" : "TIMER_DRIVEN",
          "style" : { },
          "type" : "org.apache.nifi.processors.groovyx.ExecuteGroovyScript",
          "yieldDuration" : "1 sec"
        }, {
          "autoTerminatedRelationships" : [ ],
          "backoffMechanism" : "PENALIZE_FLOWFILE",
          "bulletinLevel" : "WARN",
          "bundle" : {
            "artifact" : "nifi-standard-nar",
            "group" : "org.apache.nifi",
            "version" : "2.0.0"
          },
          "comments" : "",
          "componentType" : "PROCESSOR",
          "concurrentlySchedulableTaskCount" : 1,
          "executionNode" : "ALL",
          "groupIdentifier" : "a3cf9980-cc63-37c8-b168-b353f709fef5",
          "identifier" : "ae7892c5-1d62-3a8d-a20b-94790b6773fe",
          "maxBackoffPeriod" : "10 mins",
          "name" : "isFinished ?",
          "penaltyDuration" : "30 sec",
          "position" : {
            "x" : 480.0,
            "y" : 1264.0
          },
          "properties" : {
            "Routing Strategy" : "Route to Property name",
            "isFinished" : "${iteracao:ge(${totalComp})}"
          },
          "propertyDescriptors" : {
            "Routing Strategy" : {
              "displayName" : "Routing Strategy",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Routing Strategy",
              "sensitive" : false
            },
            "isFinished" : {
              "displayName" : "isFinished",
              "dynamic" : true,
              "identifiesControllerService" : false,
              "name" : "isFinished",
              "sensitive" : false
            }
          },
          "retriedRelationships" : [ ],
          "retryCount" : 10,
          "runDurationMillis" : 25,
          "scheduledState" : "ENABLED",
          "schedulingPeriod" : "0 sec",
          "schedulingStrategy" : "TIMER_DRIVEN",
          "style" : { },
          "type" : "org.apache.nifi.processors.standard.RouteOnAttribute",
          "yieldDuration" : "1 sec"
        }, {
          "autoTerminatedRelationships" : [ ],
          "backoffMechanism" : "PENALIZE_FLOWFILE",
          "bulletinLevel" : "WARN",
          "bundle" : {
            "artifact" : "nifi-standard-nar",
            "group" : "org.apache.nifi",
            "version" : "2.0.0"
          },
          "comments" : "",
          "componentType" : "PROCESSOR",
          "concurrentlySchedulableTaskCount" : 1,
          "executionNode" : "ALL",
          "groupIdentifier" : "a3cf9980-cc63-37c8-b168-b353f709fef5",
          "identifier" : "1af6fba6-f90c-3223-99bd-f32975c94b18",
          "maxBackoffPeriod" : "10 mins",
          "name" : "separa medicamento de comp",
          "penaltyDuration" : "30 sec",
          "position" : {
            "x" : 328.0,
            "y" : 696.0
          },
          "properties" : {
            "Routing Strategy" : "Route to Property name",
            "medicamento" : "${enrichment.role:toString():contains('ORIGINAL')}"
          },
          "propertyDescriptors" : {
            "Routing Strategy" : {
              "displayName" : "Routing Strategy",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Routing Strategy",
              "sensitive" : false
            },
            "medicamento" : {
              "displayName" : "medicamento",
              "dynamic" : true,
              "identifiesControllerService" : false,
              "name" : "medicamento",
              "sensitive" : false
            }
          },
          "retriedRelationships" : [ ],
          "retryCount" : 10,
          "runDurationMillis" : 25,
          "scheduledState" : "ENABLED",
          "schedulingPeriod" : "0 sec",
          "schedulingStrategy" : "TIMER_DRIVEN",
          "style" : { },
          "type" : "org.apache.nifi.processors.standard.RouteOnAttribute",
          "yieldDuration" : "1 sec"
        }, {
          "autoTerminatedRelationships" : [ ],
          "backoffMechanism" : "PENALIZE_FLOWFILE",
          "bulletinLevel" : "WARN",
          "bundle" : {
            "artifact" : "nifi-update-attribute-nar",
            "group" : "org.apache.nifi",
            "version" : "2.0.0"
          },
          "comments" : "",
          "componentType" : "PROCESSOR",
          "concurrentlySchedulableTaskCount" : 1,
          "executionNode" : "ALL",
          "groupIdentifier" : "a3cf9980-cc63-37c8-b168-b353f709fef5",
          "identifier" : "34cbce50-81ab-3b28-ab5e-c982353acb4a",
          "maxBackoffPeriod" : "10 mins",
          "name" : "Verificou todos medicamentos",
          "penaltyDuration" : "30 sec",
          "position" : {
            "x" : -424.0,
            "y" : 2088.0
          },
          "properties" : {
            "Store State" : "Do not store state",
            "canonical-value-lookup-cache-size" : "100",
            "finished" : "true"
          },
          "propertyDescriptors" : {
            "Delete Attributes Expression" : {
              "displayName" : "Delete Attributes Expression",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Delete Attributes Expression",
              "sensitive" : false
            },
            "Store State" : {
              "displayName" : "Store State",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Store State",
              "sensitive" : false
            },
            "canonical-value-lookup-cache-size" : {
              "displayName" : "Cache Value Lookup Cache Size",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "canonical-value-lookup-cache-size",
              "sensitive" : false
            },
            "finished" : {
              "displayName" : "finished",
              "dynamic" : true,
              "identifiesControllerService" : false,
              "name" : "finished",
              "sensitive" : false
            },
            "Stateful Variables Initial Value" : {
              "displayName" : "Stateful Variables Initial Value",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Stateful Variables Initial Value",
              "sensitive" : false
            }
          },
          "retriedRelationships" : [ ],
          "retryCount" : 10,
          "runDurationMillis" : 25,
          "scheduledState" : "ENABLED",
          "schedulingPeriod" : "0 sec",
          "schedulingStrategy" : "TIMER_DRIVEN",
          "style" : { },
          "type" : "org.apache.nifi.processors.attributes.UpdateAttribute",
          "yieldDuration" : "1 sec"
        }, {
          "autoTerminatedRelationships" : [ ],
          "backoffMechanism" : "PENALIZE_FLOWFILE",
          "bulletinLevel" : "WARN",
          "bundle" : {
            "artifact" : "nifi-update-attribute-nar",
            "group" : "org.apache.nifi",
            "version" : "2.0.0"
          },
          "comments" : "",
          "componentType" : "PROCESSOR",
          "concurrentlySchedulableTaskCount" : 1,
          "executionNode" : "ALL",
          "groupIdentifier" : "a3cf9980-cc63-37c8-b168-b353f709fef5",
          "identifier" : "3fec2b40-e22c-361a-a455-630f55a6769c",
          "maxBackoffPeriod" : "10 mins",
          "name" : "Interacao = 0",
          "penaltyDuration" : "30 sec",
          "position" : {
            "x" : -432.0,
            "y" : 96.0
          },
          "properties" : {
            "iteracao" : "0",
            "Store State" : "Do not store state",
            "canonical-value-lookup-cache-size" : "100"
          },
          "propertyDescriptors" : {
            "Delete Attributes Expression" : {
              "displayName" : "Delete Attributes Expression",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Delete Attributes Expression",
              "sensitive" : false
            },
            "iteracao" : {
              "displayName" : "iteracao",
              "dynamic" : true,
              "identifiesControllerService" : false,
              "name" : "iteracao",
              "sensitive" : false
            },
            "Store State" : {
              "displayName" : "Store State",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Store State",
              "sensitive" : false
            },
            "canonical-value-lookup-cache-size" : {
              "displayName" : "Cache Value Lookup Cache Size",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "canonical-value-lookup-cache-size",
              "sensitive" : false
            },
            "Stateful Variables Initial Value" : {
              "displayName" : "Stateful Variables Initial Value",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Stateful Variables Initial Value",
              "sensitive" : false
            }
          },
          "retriedRelationships" : [ ],
          "retryCount" : 10,
          "runDurationMillis" : 25,
          "scheduledState" : "ENABLED",
          "schedulingPeriod" : "0 sec",
          "schedulingStrategy" : "TIMER_DRIVEN",
          "style" : { },
          "type" : "org.apache.nifi.processors.attributes.UpdateAttribute",
          "yieldDuration" : "1 sec"
        }, {
          "autoTerminatedRelationships" : [ ],
          "backoffMechanism" : "PENALIZE_FLOWFILE",
          "bulletinLevel" : "WARN",
          "bundle" : {
            "artifact" : "nifi-update-attribute-nar",
            "group" : "org.apache.nifi",
            "version" : "2.0.0"
          },
          "comments" : "",
          "componentType" : "PROCESSOR",
          "concurrentlySchedulableTaskCount" : 1,
          "executionNode" : "ALL",
          "groupIdentifier" : "a3cf9980-cc63-37c8-b168-b353f709fef5",
          "identifier" : "4bf05e0b-bca2-3f79-990c-e6ac2e71b7e1",
          "maxBackoffPeriod" : "10 mins",
          "name" : "Verificou todos medicamentos",
          "penaltyDuration" : "30 sec",
          "position" : {
            "x" : 144.0,
            "y" : 2016.0
          },
          "properties" : {
            "Store State" : "Do not store state",
            "canonical-value-lookup-cache-size" : "100",
            "finished" : "true"
          },
          "propertyDescriptors" : {
            "Delete Attributes Expression" : {
              "displayName" : "Delete Attributes Expression",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Delete Attributes Expression",
              "sensitive" : false
            },
            "Store State" : {
              "displayName" : "Store State",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Store State",
              "sensitive" : false
            },
            "canonical-value-lookup-cache-size" : {
              "displayName" : "Cache Value Lookup Cache Size",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "canonical-value-lookup-cache-size",
              "sensitive" : false
            },
            "finished" : {
              "displayName" : "finished",
              "dynamic" : true,
              "identifiesControllerService" : false,
              "name" : "finished",
              "sensitive" : false
            },
            "Stateful Variables Initial Value" : {
              "displayName" : "Stateful Variables Initial Value",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Stateful Variables Initial Value",
              "sensitive" : false
            }
          },
          "retriedRelationships" : [ ],
          "retryCount" : 10,
          "runDurationMillis" : 25,
          "scheduledState" : "ENABLED",
          "schedulingPeriod" : "0 sec",
          "schedulingStrategy" : "TIMER_DRIVEN",
          "style" : { },
          "type" : "org.apache.nifi.processors.attributes.UpdateAttribute",
          "yieldDuration" : "1 sec"
        }, {
          "autoTerminatedRelationships" : [ "medicamento" ],
          "backoffMechanism" : "PENALIZE_FLOWFILE",
          "bulletinLevel" : "WARN",
          "bundle" : {
            "artifact" : "nifi-standard-nar",
            "group" : "org.apache.nifi",
            "version" : "2.0.0"
          },
          "comments" : "",
          "componentType" : "PROCESSOR",
          "concurrentlySchedulableTaskCount" : 1,
          "executionNode" : "ALL",
          "groupIdentifier" : "a3cf9980-cc63-37c8-b168-b353f709fef5",
          "identifier" : "029a5d26-bdbd-3a1e-ab8b-a3a2e6e3d47f",
          "maxBackoffPeriod" : "10 mins",
          "name" : "APENAS_COMP",
          "penaltyDuration" : "30 sec",
          "position" : {
            "x" : 1608.0,
            "y" : 1360.0
          },
          "properties" : {
            "Routing Strategy" : "Route to Property name",
            "medicamento" : "${enrichment.role:toString():contains('ORIGINAL')}"
          },
          "propertyDescriptors" : {
            "Routing Strategy" : {
              "displayName" : "Routing Strategy",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Routing Strategy",
              "sensitive" : false
            },
            "medicamento" : {
              "displayName" : "medicamento",
              "dynamic" : true,
              "identifiesControllerService" : false,
              "name" : "medicamento",
              "sensitive" : false
            }
          },
          "retriedRelationships" : [ ],
          "retryCount" : 10,
          "runDurationMillis" : 25,
          "scheduledState" : "ENABLED",
          "schedulingPeriod" : "0 sec",
          "schedulingStrategy" : "TIMER_DRIVEN",
          "style" : { },
          "type" : "org.apache.nifi.processors.standard.RouteOnAttribute",
          "yieldDuration" : "1 sec"
        } ],
        "remoteProcessGroups" : [ ],
        "scheduledState" : "ENABLED",
        "statelessFlowTimeout" : "1 min"
      }, {
        "comments" : "",
        "componentType" : "PROCESS_GROUP",
        "connections" : [ {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "09ac79ef-94c0-3a0c-bc96-799f79c2facf",
            "id" : "8928c3e5-51aa-3749-b1d4-69a0cd39924f",
            "name" : "Incrementa iteracao",
            "type" : "PROCESSOR"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "09ac79ef-94c0-3a0c-bc96-799f79c2facf",
          "identifier" : "a6aa8063-08ae-3cbd-9796-9c4316a706dc",
          "labelIndex" : 1,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ "org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer" ],
          "selectedRelationships" : [ "" ],
          "source" : {
            "comments" : "",
            "groupId" : "09ac79ef-94c0-3a0c-bc96-799f79c2facf",
            "id" : "af2ec44a-0084-351e-ab52-ffda9c2077b5",
            "name" : "Funnel",
            "type" : "FUNNEL"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "09ac79ef-94c0-3a0c-bc96-799f79c2facf",
            "id" : "eefa0b96-5679-3590-aa30-65339b991768",
            "name" : "JoinEnrichment",
            "type" : "PROCESSOR"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "09ac79ef-94c0-3a0c-bc96-799f79c2facf",
          "identifier" : "090359a9-42c3-33bf-94c0-443eef09fb78",
          "labelIndex" : 1,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ "org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer" ],
          "selectedRelationships" : [ "unmatched" ],
          "source" : {
            "comments" : "",
            "groupId" : "09ac79ef-94c0-3a0c-bc96-799f79c2facf",
            "id" : "bf4cad02-dfc4-3df7-8f9e-547903ecf637",
            "name" : "separa medicamento de comp",
            "type" : "PROCESSOR"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "09ac79ef-94c0-3a0c-bc96-799f79c2facf",
            "id" : "5bf82a87-5021-39d3-bd65-c976b742dee3",
            "name" : "Funnel",
            "type" : "FUNNEL"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "09ac79ef-94c0-3a0c-bc96-799f79c2facf",
          "identifier" : "88a5da43-e209-31f1-9aa2-4f5eb8413df9",
          "labelIndex" : 1,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ ],
          "selectedRelationships" : [ "success" ],
          "source" : {
            "comments" : "",
            "groupId" : "09ac79ef-94c0-3a0c-bc96-799f79c2facf",
            "id" : "93153cd4-93df-3eae-88c8-93a8ba7df0c6",
            "name" : "Verificou todos medicamentos",
            "type" : "PROCESSOR"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "groupId" : "09ac79ef-94c0-3a0c-bc96-799f79c2facf",
            "id" : "8552b09e-c3a4-395c-bc3f-8bd4ea3cf0fb",
            "name" : "Output",
            "type" : "OUTPUT_PORT"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "09ac79ef-94c0-3a0c-bc96-799f79c2facf",
          "identifier" : "b537812f-e9d6-3354-a5fc-cbbf95b6f4bd",
          "labelIndex" : 1,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ ],
          "selectedRelationships" : [ "" ],
          "source" : {
            "comments" : "",
            "groupId" : "09ac79ef-94c0-3a0c-bc96-799f79c2facf",
            "id" : "5bf82a87-5021-39d3-bd65-c976b742dee3",
            "name" : "Funnel",
            "type" : "FUNNEL"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "09ac79ef-94c0-3a0c-bc96-799f79c2facf",
            "id" : "93153cd4-93df-3eae-88c8-93a8ba7df0c6",
            "name" : "Verificou todos medicamentos",
            "type" : "PROCESSOR"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "09ac79ef-94c0-3a0c-bc96-799f79c2facf",
          "identifier" : "41e632aa-358f-30ff-8603-f85c637b40ad",
          "labelIndex" : 1,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ "org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer" ],
          "selectedRelationships" : [ "isFinished" ],
          "source" : {
            "comments" : "",
            "groupId" : "09ac79ef-94c0-3a0c-bc96-799f79c2facf",
            "id" : "b5abd2bc-4964-3dc2-affa-5d42039e8d16",
            "name" : "isFinished ?",
            "type" : "PROCESSOR"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "09ac79ef-94c0-3a0c-bc96-799f79c2facf",
            "id" : "bf4cad02-dfc4-3df7-8f9e-547903ecf637",
            "name" : "separa medicamento de comp",
            "type" : "PROCESSOR"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "09ac79ef-94c0-3a0c-bc96-799f79c2facf",
          "identifier" : "cc582236-5727-3c4f-937f-4f16d6440c60",
          "labelIndex" : 1,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ ],
          "selectedRelationships" : [ "success" ],
          "source" : {
            "comments" : "",
            "groupId" : "09ac79ef-94c0-3a0c-bc96-799f79c2facf",
            "id" : "e8282188-caf6-3a82-953b-973697c148ba",
            "name" : "COUNT MEDS & COMP",
            "type" : "PROCESSOR"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "09ac79ef-94c0-3a0c-bc96-799f79c2facf",
            "id" : "5bf82a87-5021-39d3-bd65-c976b742dee3",
            "name" : "Funnel",
            "type" : "FUNNEL"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "09ac79ef-94c0-3a0c-bc96-799f79c2facf",
          "identifier" : "4b22fe12-8fa9-3bb2-b07e-ee95f35fd113",
          "labelIndex" : 1,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ ],
          "selectedRelationships" : [ "success" ],
          "source" : {
            "comments" : "",
            "groupId" : "09ac79ef-94c0-3a0c-bc96-799f79c2facf",
            "id" : "1b22b37b-aec2-3d2f-a0d8-6621c65b3824",
            "name" : "Verificou todos medicamentos",
            "type" : "PROCESSOR"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "09ac79ef-94c0-3a0c-bc96-799f79c2facf",
            "id" : "cc0da112-613f-378e-b13d-32f7512da1d7",
            "name" : "APENAS_COMP",
            "type" : "PROCESSOR"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "09ac79ef-94c0-3a0c-bc96-799f79c2facf",
          "identifier" : "52e380f3-d6be-3bae-b79a-e9d838f81079",
          "labelIndex" : 1,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ "org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer" ],
          "selectedRelationships" : [ "" ],
          "source" : {
            "comments" : "",
            "groupId" : "09ac79ef-94c0-3a0c-bc96-799f79c2facf",
            "id" : "26389fa4-e59f-30e4-80d3-325cf9473a00",
            "name" : "Funnel",
            "type" : "FUNNEL"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ {
            "x" : 768.0,
            "y" : 1696.0
          } ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "09ac79ef-94c0-3a0c-bc96-799f79c2facf",
            "id" : "af2ec44a-0084-351e-ab52-ffda9c2077b5",
            "name" : "Funnel",
            "type" : "FUNNEL"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "09ac79ef-94c0-3a0c-bc96-799f79c2facf",
          "identifier" : "97d614fd-6745-3f26-ac99-a3a72b826e4c",
          "labelIndex" : 1,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ "org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer" ],
          "selectedRelationships" : [ "timeout" ],
          "source" : {
            "comments" : "",
            "groupId" : "09ac79ef-94c0-3a0c-bc96-799f79c2facf",
            "id" : "eefa0b96-5679-3590-aa30-65339b991768",
            "name" : "JoinEnrichment",
            "type" : "PROCESSOR"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "09ac79ef-94c0-3a0c-bc96-799f79c2facf",
            "id" : "af2ec44a-0084-351e-ab52-ffda9c2077b5",
            "name" : "Funnel",
            "type" : "FUNNEL"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "09ac79ef-94c0-3a0c-bc96-799f79c2facf",
          "identifier" : "7df7f8c4-8429-370b-83c0-0315c8df1ddc",
          "labelIndex" : 1,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ "org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer" ],
          "selectedRelationships" : [ "failure" ],
          "source" : {
            "comments" : "",
            "groupId" : "09ac79ef-94c0-3a0c-bc96-799f79c2facf",
            "id" : "eefa0b96-5679-3590-aa30-65339b991768",
            "name" : "JoinEnrichment",
            "type" : "PROCESSOR"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "09ac79ef-94c0-3a0c-bc96-799f79c2facf",
            "id" : "e6623893-b122-366c-b3c5-a5043c003e99",
            "name" : "Interacao = 0",
            "type" : "PROCESSOR"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "09ac79ef-94c0-3a0c-bc96-799f79c2facf",
          "identifier" : "dd694896-e617-330b-b4c9-fc175de428bc",
          "labelIndex" : 1,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ ],
          "selectedRelationships" : [ "" ],
          "source" : {
            "groupId" : "09ac79ef-94c0-3a0c-bc96-799f79c2facf",
            "id" : "4c2f3d17-a82c-3abb-9e13-71e7a6f4a68b",
            "name" : "Input",
            "type" : "INPUT_PORT"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "09ac79ef-94c0-3a0c-bc96-799f79c2facf",
            "id" : "bf4cad02-dfc4-3df7-8f9e-547903ecf637",
            "name" : "separa medicamento de comp",
            "type" : "PROCESSOR"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "09ac79ef-94c0-3a0c-bc96-799f79c2facf",
          "identifier" : "f0305dd6-b40f-390b-ab7c-51902457f0e2",
          "labelIndex" : 1,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ ],
          "selectedRelationships" : [ "unmatched" ],
          "source" : {
            "comments" : "",
            "groupId" : "09ac79ef-94c0-3a0c-bc96-799f79c2facf",
            "id" : "8da6e43b-271c-3017-b98c-f615f1da3124",
            "name" : "separa medicamento de comp",
            "type" : "PROCESSOR"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "09ac79ef-94c0-3a0c-bc96-799f79c2facf",
            "id" : "b5abd2bc-4964-3dc2-affa-5d42039e8d16",
            "name" : "isFinished ?",
            "type" : "PROCESSOR"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "09ac79ef-94c0-3a0c-bc96-799f79c2facf",
          "identifier" : "49d295bc-784c-3865-8820-962090d820a5",
          "labelIndex" : 1,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ ],
          "selectedRelationships" : [ "medicamento" ],
          "source" : {
            "comments" : "",
            "groupId" : "09ac79ef-94c0-3a0c-bc96-799f79c2facf",
            "id" : "8da6e43b-271c-3017-b98c-f615f1da3124",
            "name" : "separa medicamento de comp",
            "type" : "PROCESSOR"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "09ac79ef-94c0-3a0c-bc96-799f79c2facf",
            "id" : "8da6e43b-271c-3017-b98c-f615f1da3124",
            "name" : "separa medicamento de comp",
            "type" : "PROCESSOR"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "09ac79ef-94c0-3a0c-bc96-799f79c2facf",
          "identifier" : "80d98497-1cf9-38be-9715-26f13cb9326b",
          "labelIndex" : 1,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ ],
          "selectedRelationships" : [ "success" ],
          "source" : {
            "comments" : "",
            "groupId" : "09ac79ef-94c0-3a0c-bc96-799f79c2facf",
            "id" : "8928c3e5-51aa-3749-b1d4-69a0cd39924f",
            "name" : "Incrementa iteracao",
            "type" : "PROCESSOR"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "09ac79ef-94c0-3a0c-bc96-799f79c2facf",
            "id" : "bf4cad02-dfc4-3df7-8f9e-547903ecf637",
            "name" : "separa medicamento de comp",
            "type" : "PROCESSOR"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "09ac79ef-94c0-3a0c-bc96-799f79c2facf",
          "identifier" : "ca204ef0-a711-3980-b7d2-ca71bb5da061",
          "labelIndex" : 1,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ ],
          "selectedRelationships" : [ "unmatched" ],
          "source" : {
            "comments" : "",
            "groupId" : "09ac79ef-94c0-3a0c-bc96-799f79c2facf",
            "id" : "b5abd2bc-4964-3dc2-affa-5d42039e8d16",
            "name" : "isFinished ?",
            "type" : "PROCESSOR"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ {
            "x" : 48.0,
            "y" : 1520.0
          } ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "09ac79ef-94c0-3a0c-bc96-799f79c2facf",
            "id" : "eefa0b96-5679-3590-aa30-65339b991768",
            "name" : "JoinEnrichment",
            "type" : "PROCESSOR"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "09ac79ef-94c0-3a0c-bc96-799f79c2facf",
          "identifier" : "d5258f1b-2533-32cd-9f1a-b4dabe1c0269",
          "labelIndex" : 1,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ "org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer" ],
          "selectedRelationships" : [ "medicamento" ],
          "source" : {
            "comments" : "",
            "groupId" : "09ac79ef-94c0-3a0c-bc96-799f79c2facf",
            "id" : "bf4cad02-dfc4-3df7-8f9e-547903ecf637",
            "name" : "separa medicamento de comp",
            "type" : "PROCESSOR"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "09ac79ef-94c0-3a0c-bc96-799f79c2facf",
            "id" : "1b22b37b-aec2-3d2f-a0d8-6621c65b3824",
            "name" : "Verificou todos medicamentos",
            "type" : "PROCESSOR"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "09ac79ef-94c0-3a0c-bc96-799f79c2facf",
          "identifier" : "258949b1-0f6c-3bde-9563-9313a70a96af",
          "labelIndex" : 1,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ ],
          "selectedRelationships" : [ "joined" ],
          "source" : {
            "comments" : "",
            "groupId" : "09ac79ef-94c0-3a0c-bc96-799f79c2facf",
            "id" : "eefa0b96-5679-3590-aa30-65339b991768",
            "name" : "JoinEnrichment",
            "type" : "PROCESSOR"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "09ac79ef-94c0-3a0c-bc96-799f79c2facf",
            "id" : "af2ec44a-0084-351e-ab52-ffda9c2077b5",
            "name" : "Funnel",
            "type" : "FUNNEL"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "09ac79ef-94c0-3a0c-bc96-799f79c2facf",
          "identifier" : "7fb24a4b-c403-349d-a568-cc1f6860c5d3",
          "labelIndex" : 1,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ "org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer" ],
          "selectedRelationships" : [ "unmatched" ],
          "source" : {
            "comments" : "",
            "groupId" : "09ac79ef-94c0-3a0c-bc96-799f79c2facf",
            "id" : "cc0da112-613f-378e-b13d-32f7512da1d7",
            "name" : "APENAS_COMP",
            "type" : "PROCESSOR"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "09ac79ef-94c0-3a0c-bc96-799f79c2facf",
            "id" : "e8282188-caf6-3a82-953b-973697c148ba",
            "name" : "COUNT MEDS & COMP",
            "type" : "PROCESSOR"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "09ac79ef-94c0-3a0c-bc96-799f79c2facf",
          "identifier" : "50ef7dbc-409c-3661-b2b0-cb6f76dc71fc",
          "labelIndex" : 1,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ ],
          "selectedRelationships" : [ "success" ],
          "source" : {
            "comments" : "",
            "groupId" : "09ac79ef-94c0-3a0c-bc96-799f79c2facf",
            "id" : "e6623893-b122-366c-b3c5-a5043c003e99",
            "name" : "Interacao = 0",
            "type" : "PROCESSOR"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "09ac79ef-94c0-3a0c-bc96-799f79c2facf",
            "id" : "26389fa4-e59f-30e4-80d3-325cf9473a00",
            "name" : "Funnel",
            "type" : "FUNNEL"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "09ac79ef-94c0-3a0c-bc96-799f79c2facf",
          "identifier" : "3bed7da3-48c0-3450-abf7-ee4f95de34eb",
          "labelIndex" : 1,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ "org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer" ],
          "selectedRelationships" : [ "original" ],
          "source" : {
            "comments" : "",
            "groupId" : "09ac79ef-94c0-3a0c-bc96-799f79c2facf",
            "id" : "eefa0b96-5679-3590-aa30-65339b991768",
            "name" : "JoinEnrichment",
            "type" : "PROCESSOR"
          },
          "zIndex" : 0
        } ],
        "controllerServices" : [ ],
        "defaultBackPressureDataSizeThreshold" : "1 GB",
        "defaultBackPressureObjectThreshold" : 10000,
        "defaultFlowFileExpiration" : "0 sec",
        "executionEngine" : "INHERITED",
        "flowFileConcurrency" : "UNBOUNDED",
        "flowFileOutboundPolicy" : "STREAM_WHEN_AVAILABLE",
        "funnels" : [ {
          "componentType" : "FUNNEL",
          "groupIdentifier" : "09ac79ef-94c0-3a0c-bc96-799f79c2facf",
          "identifier" : "af2ec44a-0084-351e-ab52-ffda9c2077b5",
          "position" : {
            "x" : 1264.0,
            "y" : 1648.0
          }
        }, {
          "componentType" : "FUNNEL",
          "groupIdentifier" : "09ac79ef-94c0-3a0c-bc96-799f79c2facf",
          "identifier" : "5bf82a87-5021-39d3-bd65-c976b742dee3",
          "position" : {
            "x" : 10.125,
            "y" : 2318.399299621582
          }
        }, {
          "componentType" : "FUNNEL",
          "groupIdentifier" : "09ac79ef-94c0-3a0c-bc96-799f79c2facf",
          "identifier" : "26389fa4-e59f-30e4-80d3-325cf9473a00",
          "position" : {
            "x" : 1856.0,
            "y" : 1872.0
          }
        } ],
        "groupIdentifier" : "c55c725c-4d6f-3881-82fc-6bea8b74c919",
        "identifier" : "09ac79ef-94c0-3a0c-bc96-799f79c2facf",
        "inputPorts" : [ {
          "allowRemoteAccess" : false,
          "componentType" : "INPUT_PORT",
          "concurrentlySchedulableTaskCount" : 1,
          "groupIdentifier" : "09ac79ef-94c0-3a0c-bc96-799f79c2facf",
          "identifier" : "4c2f3d17-a82c-3abb-9e13-71e7a6f4a68b",
          "name" : "Input",
          "portFunction" : "STANDARD",
          "position" : {
            "x" : -376.0,
            "y" : -104.0
          },
          "scheduledState" : "ENABLED",
          "type" : "INPUT_PORT"
        } ],
        "labels" : [ ],
        "maxConcurrentTasks" : 1,
        "name" : "Copy of Copy of Join",
        "outputPorts" : [ {
          "allowRemoteAccess" : false,
          "componentType" : "OUTPUT_PORT",
          "concurrentlySchedulableTaskCount" : 1,
          "groupIdentifier" : "09ac79ef-94c0-3a0c-bc96-799f79c2facf",
          "identifier" : "8552b09e-c3a4-395c-bc3f-8bd4ea3cf0fb",
          "name" : "Output",
          "portFunction" : "STANDARD",
          "position" : {
            "x" : -80.0,
            "y" : 2528.0
          },
          "scheduledState" : "ENABLED",
          "type" : "OUTPUT_PORT"
        } ],
        "parameterContextName" : "DEV",
        "position" : {
          "x" : -16.0,
          "y" : 648.0
        },
        "processGroups" : [ ],
        "processors" : [ {
          "autoTerminatedRelationships" : [ ],
          "backoffMechanism" : "PENALIZE_FLOWFILE",
          "bulletinLevel" : "WARN",
          "bundle" : {
            "artifact" : "nifi-standard-nar",
            "group" : "org.apache.nifi",
            "version" : "2.0.0"
          },
          "comments" : "",
          "componentType" : "PROCESSOR",
          "concurrentlySchedulableTaskCount" : 1,
          "executionNode" : "ALL",
          "groupIdentifier" : "09ac79ef-94c0-3a0c-bc96-799f79c2facf",
          "identifier" : "b5abd2bc-4964-3dc2-affa-5d42039e8d16",
          "maxBackoffPeriod" : "10 mins",
          "name" : "isFinished ?",
          "penaltyDuration" : "30 sec",
          "position" : {
            "x" : 480.0,
            "y" : 1264.0
          },
          "properties" : {
            "Routing Strategy" : "Route to Property name",
            "isFinished" : "${iteracao:ge(${totalComp})}"
          },
          "propertyDescriptors" : {
            "Routing Strategy" : {
              "displayName" : "Routing Strategy",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Routing Strategy",
              "sensitive" : false
            },
            "isFinished" : {
              "displayName" : "isFinished",
              "dynamic" : true,
              "identifiesControllerService" : false,
              "name" : "isFinished",
              "sensitive" : false
            }
          },
          "retriedRelationships" : [ ],
          "retryCount" : 10,
          "runDurationMillis" : 25,
          "scheduledState" : "ENABLED",
          "schedulingPeriod" : "0 sec",
          "schedulingStrategy" : "TIMER_DRIVEN",
          "style" : { },
          "type" : "org.apache.nifi.processors.standard.RouteOnAttribute",
          "yieldDuration" : "1 sec"
        }, {
          "autoTerminatedRelationships" : [ ],
          "backoffMechanism" : "PENALIZE_FLOWFILE",
          "bulletinLevel" : "WARN",
          "bundle" : {
            "artifact" : "nifi-update-attribute-nar",
            "group" : "org.apache.nifi",
            "version" : "2.0.0"
          },
          "comments" : "",
          "componentType" : "PROCESSOR",
          "concurrentlySchedulableTaskCount" : 1,
          "executionNode" : "ALL",
          "groupIdentifier" : "09ac79ef-94c0-3a0c-bc96-799f79c2facf",
          "identifier" : "1b22b37b-aec2-3d2f-a0d8-6621c65b3824",
          "maxBackoffPeriod" : "10 mins",
          "name" : "Verificou todos medicamentos",
          "penaltyDuration" : "30 sec",
          "position" : {
            "x" : -424.0,
            "y" : 2088.0
          },
          "properties" : {
            "Store State" : "Do not store state",
            "canonical-value-lookup-cache-size" : "100",
            "finished" : "true"
          },
          "propertyDescriptors" : {
            "Delete Attributes Expression" : {
              "displayName" : "Delete Attributes Expression",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Delete Attributes Expression",
              "sensitive" : false
            },
            "Store State" : {
              "displayName" : "Store State",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Store State",
              "sensitive" : false
            },
            "canonical-value-lookup-cache-size" : {
              "displayName" : "Cache Value Lookup Cache Size",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "canonical-value-lookup-cache-size",
              "sensitive" : false
            },
            "finished" : {
              "displayName" : "finished",
              "dynamic" : true,
              "identifiesControllerService" : false,
              "name" : "finished",
              "sensitive" : false
            },
            "Stateful Variables Initial Value" : {
              "displayName" : "Stateful Variables Initial Value",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Stateful Variables Initial Value",
              "sensitive" : false
            }
          },
          "retriedRelationships" : [ ],
          "retryCount" : 10,
          "runDurationMillis" : 25,
          "scheduledState" : "ENABLED",
          "schedulingPeriod" : "0 sec",
          "schedulingStrategy" : "TIMER_DRIVEN",
          "style" : { },
          "type" : "org.apache.nifi.processors.attributes.UpdateAttribute",
          "yieldDuration" : "1 sec"
        }, {
          "autoTerminatedRelationships" : [ "failure" ],
          "backoffMechanism" : "PENALIZE_FLOWFILE",
          "bulletinLevel" : "WARN",
          "bundle" : {
            "artifact" : "nifi-groovyx-nar",
            "group" : "org.apache.nifi",
            "version" : "2.0.0"
          },
          "comments" : "",
          "componentType" : "PROCESSOR",
          "concurrentlySchedulableTaskCount" : 1,
          "executionNode" : "ALL",
          "groupIdentifier" : "09ac79ef-94c0-3a0c-bc96-799f79c2facf",
          "identifier" : "e8282188-caf6-3a82-953b-973697c148ba",
          "maxBackoffPeriod" : "10 mins",
          "name" : "COUNT MEDS & COMP",
          "penaltyDuration" : "30 sec",
          "position" : {
            "x" : -472.0,
            "y" : 576.0
          },
          "properties" : {
            "groovyx-script-body" : "// Obter todos os FlowFiles da fila\ndef flowFiles = []\ndef flowFile = session.get()\n\n// Contadores para FlowFiles com _IS_PRODUCT\ndef countIsProductFalse = 0\ndef countIsProductTrue = 0\n\n// Enquanto houver FlowFiles, adiciona à lista e conta os FlowFiles com o atributo '_IS_PRODUCT'\nwhile (flowFile != null) {\n    flowFiles.add(flowFile)\n\n    // Verifica o valor do atributo '_IS_PRODUCT' e conta de acordo\n    def isProduct = flowFile.getAttribute('_IS_PRODUCT')\n    if (isProduct == 'false') {\n        countIsProductFalse++\n    } else if (isProduct == 'true') {\n        countIsProductTrue++\n    }\n\n    // Obter o próximo FlowFile\n    flowFile = session.get()\n}\n\n// Atribuir os valores de totalComp e totalMeds somente aos FlowFiles com '_IS_PRODUCT' == 'true'\nflowFiles.each { currentFlowFile ->\n    def isProduct = currentFlowFile.getAttribute('_IS_PRODUCT')\n\n    // Se o FlowFile tem _IS_PRODUCT = 'true', atribui os valores de totalComp e totalMeds\n    if (isProduct == 'true') {\n        // Atribui o número de FlowFiles com _IS_PRODUCT = 'false' (totalComp)\n        currentFlowFile = session.putAttribute(currentFlowFile, 'totalComp', countIsProductFalse.toString())\n        // Atribui o número de FlowFiles com _IS_PRODUCT = 'true' (totalMeds)\n        currentFlowFile = session.putAttribute(currentFlowFile, 'totalMeds', countIsProductTrue.toString())\n    }\n\n    // Transferir para o relacionamento de sucesso\n    session.transfer(currentFlowFile, REL_SUCCESS)\n}",
            "groovyx-failure-strategy" : "rollback"
          },
          "propertyDescriptors" : {
            "groovyx-script-body" : {
              "displayName" : "Script Body",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "groovyx-script-body",
              "sensitive" : false
            },
            "groovyx-failure-strategy" : {
              "displayName" : "Failure strategy",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "groovyx-failure-strategy",
              "sensitive" : false
            },
            "groovyx-additional-classpath" : {
              "displayName" : "Additional classpath",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "groovyx-additional-classpath",
              "sensitive" : false
            },
            "groovyx-script-file" : {
              "displayName" : "Script File",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "groovyx-script-file",
              "resourceDefinition" : {
                "cardinality" : "SINGLE",
                "resourceTypes" : [ "FILE" ]
              },
              "sensitive" : false
            }
          },
          "retriedRelationships" : [ ],
          "retryCount" : 10,
          "runDurationMillis" : 0,
          "scheduledState" : "ENABLED",
          "schedulingPeriod" : "0 sec",
          "schedulingStrategy" : "TIMER_DRIVEN",
          "style" : { },
          "type" : "org.apache.nifi.processors.groovyx.ExecuteGroovyScript",
          "yieldDuration" : "1 sec"
        }, {
          "autoTerminatedRelationships" : [ ],
          "backoffMechanism" : "PENALIZE_FLOWFILE",
          "bulletinLevel" : "WARN",
          "bundle" : {
            "artifact" : "nifi-standard-nar",
            "group" : "org.apache.nifi",
            "version" : "2.0.0"
          },
          "comments" : "",
          "componentType" : "PROCESSOR",
          "concurrentlySchedulableTaskCount" : 1,
          "executionNode" : "ALL",
          "groupIdentifier" : "09ac79ef-94c0-3a0c-bc96-799f79c2facf",
          "identifier" : "8da6e43b-271c-3017-b98c-f615f1da3124",
          "maxBackoffPeriod" : "10 mins",
          "name" : "separa medicamento de comp",
          "penaltyDuration" : "30 sec",
          "position" : {
            "x" : 328.0,
            "y" : 696.0
          },
          "properties" : {
            "Routing Strategy" : "Route to Property name",
            "medicamento" : "${enrichment.role:toString():contains('ORIGINAL')}"
          },
          "propertyDescriptors" : {
            "Routing Strategy" : {
              "displayName" : "Routing Strategy",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Routing Strategy",
              "sensitive" : false
            },
            "medicamento" : {
              "displayName" : "medicamento",
              "dynamic" : true,
              "identifiesControllerService" : false,
              "name" : "medicamento",
              "sensitive" : false
            }
          },
          "retriedRelationships" : [ ],
          "retryCount" : 10,
          "runDurationMillis" : 25,
          "scheduledState" : "ENABLED",
          "schedulingPeriod" : "0 sec",
          "schedulingStrategy" : "TIMER_DRIVEN",
          "style" : { },
          "type" : "org.apache.nifi.processors.standard.RouteOnAttribute",
          "yieldDuration" : "1 sec"
        }, {
          "autoTerminatedRelationships" : [ ],
          "backoffMechanism" : "PENALIZE_FLOWFILE",
          "bulletinLevel" : "WARN",
          "bundle" : {
            "artifact" : "nifi-standard-nar",
            "group" : "org.apache.nifi",
            "version" : "2.0.0"
          },
          "comments" : "",
          "componentType" : "PROCESSOR",
          "concurrentlySchedulableTaskCount" : 1,
          "executionNode" : "ALL",
          "groupIdentifier" : "09ac79ef-94c0-3a0c-bc96-799f79c2facf",
          "identifier" : "bf4cad02-dfc4-3df7-8f9e-547903ecf637",
          "maxBackoffPeriod" : "10 mins",
          "name" : "separa medicamento de comp",
          "penaltyDuration" : "30 sec",
          "position" : {
            "x" : -480.0,
            "y" : 1304.0
          },
          "properties" : {
            "Routing Strategy" : "Route to Property name",
            "medicamento" : "${enrichment.role:toString():contains('ORIGINAL')}"
          },
          "propertyDescriptors" : {
            "Routing Strategy" : {
              "displayName" : "Routing Strategy",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Routing Strategy",
              "sensitive" : false
            },
            "medicamento" : {
              "displayName" : "medicamento",
              "dynamic" : true,
              "identifiesControllerService" : false,
              "name" : "medicamento",
              "sensitive" : false
            }
          },
          "retriedRelationships" : [ ],
          "retryCount" : 10,
          "runDurationMillis" : 25,
          "scheduledState" : "ENABLED",
          "schedulingPeriod" : "0 sec",
          "schedulingStrategy" : "TIMER_DRIVEN",
          "style" : { },
          "type" : "org.apache.nifi.processors.standard.RouteOnAttribute",
          "yieldDuration" : "1 sec"
        }, {
          "autoTerminatedRelationships" : [ "medicamento" ],
          "backoffMechanism" : "PENALIZE_FLOWFILE",
          "bulletinLevel" : "WARN",
          "bundle" : {
            "artifact" : "nifi-standard-nar",
            "group" : "org.apache.nifi",
            "version" : "2.0.0"
          },
          "comments" : "",
          "componentType" : "PROCESSOR",
          "concurrentlySchedulableTaskCount" : 1,
          "executionNode" : "ALL",
          "groupIdentifier" : "09ac79ef-94c0-3a0c-bc96-799f79c2facf",
          "identifier" : "cc0da112-613f-378e-b13d-32f7512da1d7",
          "maxBackoffPeriod" : "10 mins",
          "name" : "APENAS_COMP",
          "penaltyDuration" : "30 sec",
          "position" : {
            "x" : 1608.0,
            "y" : 1360.0
          },
          "properties" : {
            "Routing Strategy" : "Route to Property name",
            "medicamento" : "${enrichment.role:toString():contains('ORIGINAL')}"
          },
          "propertyDescriptors" : {
            "Routing Strategy" : {
              "displayName" : "Routing Strategy",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Routing Strategy",
              "sensitive" : false
            },
            "medicamento" : {
              "displayName" : "medicamento",
              "dynamic" : true,
              "identifiesControllerService" : false,
              "name" : "medicamento",
              "sensitive" : false
            }
          },
          "retriedRelationships" : [ ],
          "retryCount" : 10,
          "runDurationMillis" : 25,
          "scheduledState" : "ENABLED",
          "schedulingPeriod" : "0 sec",
          "schedulingStrategy" : "TIMER_DRIVEN",
          "style" : { },
          "type" : "org.apache.nifi.processors.standard.RouteOnAttribute",
          "yieldDuration" : "1 sec"
        }, {
          "autoTerminatedRelationships" : [ "failure" ],
          "backoffMechanism" : "PENALIZE_FLOWFILE",
          "bulletinLevel" : "WARN",
          "bundle" : {
            "artifact" : "nifi-groovyx-nar",
            "group" : "org.apache.nifi",
            "version" : "2.0.0"
          },
          "comments" : "",
          "componentType" : "PROCESSOR",
          "concurrentlySchedulableTaskCount" : 1,
          "executionNode" : "ALL",
          "groupIdentifier" : "09ac79ef-94c0-3a0c-bc96-799f79c2facf",
          "identifier" : "8928c3e5-51aa-3749-b1d4-69a0cd39924f",
          "maxBackoffPeriod" : "10 mins",
          "name" : "Incrementa iteracao",
          "penaltyDuration" : "30 sec",
          "position" : {
            "x" : 945.8829511843696,
            "y" : 889.9643330171349
          },
          "properties" : {
            "groovyx-script-body" : "// Obtém o FlowFile da sessão\ndef flowFile = session.get()\nif (!flowFile) return // Se não houver FlowFile, sai do script\n\n// Recupera o valor atual do atributo 'iteracao' (se existir), ou define como 0\ndef iteracao = flowFile.getAttribute('iteracao')?.toInteger() ?: 0\n\n// Incrementa o valor de 'iteracao'\niteracao++\n\n// Atribui o valor incrementado de volta ao FlowFile\nflowFile = session.putAttribute(flowFile, 'iteracao', iteracao.toString())\n\n// Transferir para o relacionamento de sucesso\nsession.transfer(flowFile, REL_SUCCESS)",
            "groovyx-failure-strategy" : "rollback"
          },
          "propertyDescriptors" : {
            "groovyx-script-body" : {
              "displayName" : "Script Body",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "groovyx-script-body",
              "sensitive" : false
            },
            "groovyx-failure-strategy" : {
              "displayName" : "Failure strategy",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "groovyx-failure-strategy",
              "sensitive" : false
            },
            "groovyx-additional-classpath" : {
              "displayName" : "Additional classpath",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "groovyx-additional-classpath",
              "sensitive" : false
            },
            "groovyx-script-file" : {
              "displayName" : "Script File",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "groovyx-script-file",
              "resourceDefinition" : {
                "cardinality" : "SINGLE",
                "resourceTypes" : [ "FILE" ]
              },
              "sensitive" : false
            }
          },
          "retriedRelationships" : [ ],
          "retryCount" : 10,
          "runDurationMillis" : 0,
          "scheduledState" : "ENABLED",
          "schedulingPeriod" : "0 sec",
          "schedulingStrategy" : "TIMER_DRIVEN",
          "style" : { },
          "type" : "org.apache.nifi.processors.groovyx.ExecuteGroovyScript",
          "yieldDuration" : "1 sec"
        }, {
          "autoTerminatedRelationships" : [ ],
          "backoffMechanism" : "PENALIZE_FLOWFILE",
          "bulletinLevel" : "WARN",
          "bundle" : {
            "artifact" : "nifi-update-attribute-nar",
            "group" : "org.apache.nifi",
            "version" : "2.0.0"
          },
          "comments" : "",
          "componentType" : "PROCESSOR",
          "concurrentlySchedulableTaskCount" : 1,
          "executionNode" : "ALL",
          "groupIdentifier" : "09ac79ef-94c0-3a0c-bc96-799f79c2facf",
          "identifier" : "e6623893-b122-366c-b3c5-a5043c003e99",
          "maxBackoffPeriod" : "10 mins",
          "name" : "Interacao = 0",
          "penaltyDuration" : "30 sec",
          "position" : {
            "x" : -432.0,
            "y" : 96.0
          },
          "properties" : {
            "iteracao" : "0",
            "Store State" : "Do not store state",
            "canonical-value-lookup-cache-size" : "100"
          },
          "propertyDescriptors" : {
            "Delete Attributes Expression" : {
              "displayName" : "Delete Attributes Expression",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Delete Attributes Expression",
              "sensitive" : false
            },
            "iteracao" : {
              "displayName" : "iteracao",
              "dynamic" : true,
              "identifiesControllerService" : false,
              "name" : "iteracao",
              "sensitive" : false
            },
            "Store State" : {
              "displayName" : "Store State",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Store State",
              "sensitive" : false
            },
            "canonical-value-lookup-cache-size" : {
              "displayName" : "Cache Value Lookup Cache Size",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "canonical-value-lookup-cache-size",
              "sensitive" : false
            },
            "Stateful Variables Initial Value" : {
              "displayName" : "Stateful Variables Initial Value",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Stateful Variables Initial Value",
              "sensitive" : false
            }
          },
          "retriedRelationships" : [ ],
          "retryCount" : 10,
          "runDurationMillis" : 25,
          "scheduledState" : "ENABLED",
          "schedulingPeriod" : "0 sec",
          "schedulingStrategy" : "TIMER_DRIVEN",
          "style" : { },
          "type" : "org.apache.nifi.processors.attributes.UpdateAttribute",
          "yieldDuration" : "1 sec"
        }, {
          "autoTerminatedRelationships" : [ ],
          "backoffMechanism" : "PENALIZE_FLOWFILE",
          "bulletinLevel" : "WARN",
          "bundle" : {
            "artifact" : "nifi-standard-nar",
            "group" : "org.apache.nifi",
            "version" : "2.0.0"
          },
          "comments" : "",
          "componentType" : "PROCESSOR",
          "concurrentlySchedulableTaskCount" : 1,
          "executionNode" : "ALL",
          "groupIdentifier" : "09ac79ef-94c0-3a0c-bc96-799f79c2facf",
          "identifier" : "eefa0b96-5679-3590-aa30-65339b991768",
          "maxBackoffPeriod" : "10 mins",
          "name" : "JoinEnrichment",
          "penaltyDuration" : "30 sec",
          "position" : {
            "x" : -472.0,
            "y" : 1792.0
          },
          "properties" : {
            "dbf-default-precision" : "10",
            "Join Strategy" : "Wrapper",
            "Insertion Record Path" : "/",
            "Timeout" : "2 sec",
            "Original Record Reader" : "b64ecb7e-25da-3d17-b641-5c2582c7a71a",
            "Record Writer" : "0fc90508-430b-387c-8226-4247f37ffa57",
            "Enrichment Record Reader" : "b64ecb7e-25da-3d17-b641-5c2582c7a71a",
            "dbf-default-scale" : "0",
            "Maximum number of Bins" : "10000",
            "SQL" : "SELECT original.*, enrichment.* \nFROM original \nLEFT OUTER JOIN enrichment \nON original.id = enrichment.id"
          },
          "propertyDescriptors" : {
            "dbf-default-precision" : {
              "displayName" : "Default Decimal Precision",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "dbf-default-precision",
              "sensitive" : false
            },
            "Join Strategy" : {
              "displayName" : "Join Strategy",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Join Strategy",
              "sensitive" : false
            },
            "Insertion Record Path" : {
              "displayName" : "Insertion Record Path",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Insertion Record Path",
              "sensitive" : false
            },
            "Timeout" : {
              "displayName" : "Timeout",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Timeout",
              "sensitive" : false
            },
            "Original Record Reader" : {
              "displayName" : "Original Record Reader",
              "dynamic" : false,
              "identifiesControllerService" : true,
              "name" : "Original Record Reader",
              "sensitive" : false
            },
            "Record Writer" : {
              "displayName" : "Record Writer",
              "dynamic" : false,
              "identifiesControllerService" : true,
              "name" : "Record Writer",
              "sensitive" : false
            },
            "Enrichment Record Reader" : {
              "displayName" : "Enrichment Record Reader",
              "dynamic" : false,
              "identifiesControllerService" : true,
              "name" : "Enrichment Record Reader",
              "sensitive" : false
            },
            "dbf-default-scale" : {
              "displayName" : "Default Decimal Scale",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "dbf-default-scale",
              "sensitive" : false
            },
            "Maximum number of Bins" : {
              "displayName" : "Maximum number of Bins",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Maximum number of Bins",
              "sensitive" : false
            },
            "SQL" : {
              "displayName" : "SQL",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "SQL",
              "sensitive" : false
            }
          },
          "retriedRelationships" : [ ],
          "retryCount" : 10,
          "runDurationMillis" : 0,
          "scheduledState" : "ENABLED",
          "schedulingPeriod" : "0 sec",
          "schedulingStrategy" : "TIMER_DRIVEN",
          "style" : { },
          "type" : "org.apache.nifi.processors.standard.JoinEnrichment",
          "yieldDuration" : "1 sec"
        }, {
          "autoTerminatedRelationships" : [ ],
          "backoffMechanism" : "PENALIZE_FLOWFILE",
          "bulletinLevel" : "WARN",
          "bundle" : {
            "artifact" : "nifi-update-attribute-nar",
            "group" : "org.apache.nifi",
            "version" : "2.0.0"
          },
          "comments" : "",
          "componentType" : "PROCESSOR",
          "concurrentlySchedulableTaskCount" : 1,
          "executionNode" : "ALL",
          "groupIdentifier" : "09ac79ef-94c0-3a0c-bc96-799f79c2facf",
          "identifier" : "93153cd4-93df-3eae-88c8-93a8ba7df0c6",
          "maxBackoffPeriod" : "10 mins",
          "name" : "Verificou todos medicamentos",
          "penaltyDuration" : "30 sec",
          "position" : {
            "x" : 144.0,
            "y" : 2016.0
          },
          "properties" : {
            "Store State" : "Do not store state",
            "canonical-value-lookup-cache-size" : "100",
            "finished" : "true"
          },
          "propertyDescriptors" : {
            "Delete Attributes Expression" : {
              "displayName" : "Delete Attributes Expression",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Delete Attributes Expression",
              "sensitive" : false
            },
            "Store State" : {
              "displayName" : "Store State",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Store State",
              "sensitive" : false
            },
            "canonical-value-lookup-cache-size" : {
              "displayName" : "Cache Value Lookup Cache Size",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "canonical-value-lookup-cache-size",
              "sensitive" : false
            },
            "finished" : {
              "displayName" : "finished",
              "dynamic" : true,
              "identifiesControllerService" : false,
              "name" : "finished",
              "sensitive" : false
            },
            "Stateful Variables Initial Value" : {
              "displayName" : "Stateful Variables Initial Value",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Stateful Variables Initial Value",
              "sensitive" : false
            }
          },
          "retriedRelationships" : [ ],
          "retryCount" : 10,
          "runDurationMillis" : 25,
          "scheduledState" : "ENABLED",
          "schedulingPeriod" : "0 sec",
          "schedulingStrategy" : "TIMER_DRIVEN",
          "style" : { },
          "type" : "org.apache.nifi.processors.attributes.UpdateAttribute",
          "yieldDuration" : "1 sec"
        } ],
        "remoteProcessGroups" : [ ],
        "scheduledState" : "ENABLED",
        "statelessFlowTimeout" : "1 min"
      } ],
      "processors" : [ {
        "autoTerminatedRelationships" : [ "unmatched" ],
        "backoffMechanism" : "PENALIZE_FLOWFILE",
        "bulletinLevel" : "WARN",
        "bundle" : {
          "artifact" : "nifi-standard-nar",
          "group" : "org.apache.nifi",
          "version" : "2.0.0"
        },
        "comments" : "",
        "componentType" : "PROCESSOR",
        "concurrentlySchedulableTaskCount" : 1,
        "executionNode" : "ALL",
        "groupIdentifier" : "c55c725c-4d6f-3881-82fc-6bea8b74c919",
        "identifier" : "fce14479-c39f-3cd1-84e8-88d2c584b80b",
        "maxBackoffPeriod" : "10 mins",
        "name" : "Animal status NULL",
        "penaltyDuration" : "30 sec",
        "position" : {
          "x" : -656.0,
          "y" : -384.0
        },
        "properties" : {
          "Routing Strategy" : "Route to Property name",
          "ANIMAL_STATUS_NULL" : "${animal_status:toString():isEmpty()}"
        },
        "propertyDescriptors" : {
          "Routing Strategy" : {
            "displayName" : "Routing Strategy",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Routing Strategy",
            "sensitive" : false
          },
          "ANIMAL_STATUS_NULL" : {
            "displayName" : "ANIMAL_STATUS_NULL",
            "dynamic" : true,
            "identifiesControllerService" : false,
            "name" : "ANIMAL_STATUS_NULL",
            "sensitive" : false
          }
        },
        "retriedRelationships" : [ ],
        "retryCount" : 10,
        "runDurationMillis" : 25,
        "scheduledState" : "ENABLED",
        "schedulingPeriod" : "0 sec",
        "schedulingStrategy" : "TIMER_DRIVEN",
        "style" : { },
        "type" : "org.apache.nifi.processors.standard.RouteOnAttribute",
        "yieldDuration" : "1 sec"
      }, {
        "autoTerminatedRelationships" : [ "unmatched" ],
        "backoffMechanism" : "PENALIZE_FLOWFILE",
        "bulletinLevel" : "WARN",
        "bundle" : {
          "artifact" : "nifi-standard-nar",
          "group" : "org.apache.nifi",
          "version" : "2.0.0"
        },
        "comments" : "",
        "componentType" : "PROCESSOR",
        "concurrentlySchedulableTaskCount" : 1,
        "executionNode" : "ALL",
        "groupIdentifier" : "c55c725c-4d6f-3881-82fc-6bea8b74c919",
        "identifier" : "97c2c7e8-a205-37fc-9e39-b9cf9d3813b4",
        "maxBackoffPeriod" : "10 mins",
        "name" : "Animal status",
        "penaltyDuration" : "30 sec",
        "position" : {
          "x" : 464.0,
          "y" : 64.0
        },
        "properties" : {
          "DRY_COW" : "${animal_status:toString():contains('DRY_COW')}",
          "Routing Strategy" : "Route to Property name",
          "BROILERS" : "${animal_status:toString():contains('BROILERS')}",
          "CATTLE" : "${animal_status:toString():contains('CATTLE')}",
          "LACTATING" : "${animal_status:toString():contains('LACTATING')}"
        },
        "propertyDescriptors" : {
          "DRY_COW" : {
            "displayName" : "DRY_COW",
            "dynamic" : true,
            "identifiesControllerService" : false,
            "name" : "DRY_COW",
            "sensitive" : false
          },
          "Routing Strategy" : {
            "displayName" : "Routing Strategy",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Routing Strategy",
            "sensitive" : false
          },
          "BROILERS" : {
            "displayName" : "BROILERS",
            "dynamic" : true,
            "identifiesControllerService" : false,
            "name" : "BROILERS",
            "sensitive" : false
          },
          "CATTLE" : {
            "displayName" : "CATTLE",
            "dynamic" : true,
            "identifiesControllerService" : false,
            "name" : "CATTLE",
            "sensitive" : false
          },
          "LACTATING" : {
            "displayName" : "LACTATING",
            "dynamic" : true,
            "identifiesControllerService" : false,
            "name" : "LACTATING",
            "sensitive" : false
          }
        },
        "retriedRelationships" : [ ],
        "retryCount" : 10,
        "runDurationMillis" : 25,
        "scheduledState" : "ENABLED",
        "schedulingPeriod" : "0 sec",
        "schedulingStrategy" : "TIMER_DRIVEN",
        "style" : { },
        "type" : "org.apache.nifi.processors.standard.RouteOnAttribute",
        "yieldDuration" : "1 sec"
      } ],
      "remoteProcessGroups" : [ ],
      "scheduledState" : "ENABLED",
      "statelessFlowTimeout" : "1 min"
    }, {
      "comments" : "",
      "componentType" : "PROCESS_GROUP",
      "connections" : [ {
        "backPressureDataSizeThreshold" : "1 GB",
        "backPressureObjectThreshold" : 10000,
        "bends" : [ ],
        "componentType" : "CONNECTION",
        "destination" : {
          "groupId" : "1b06d76b-c051-3e5e-8c75-accd5ee0045b",
          "id" : "ca432bf0-ebd2-35b5-984e-0747ffa55cee",
          "name" : "Input",
          "type" : "INPUT_PORT"
        },
        "flowFileExpiration" : "0 sec",
        "groupIdentifier" : "592c6b23-e212-35de-b21e-e9bd75285c33",
        "identifier" : "362bdab7-ffdf-3838-8722-48dc0c38d8fa",
        "labelIndex" : 0,
        "loadBalanceCompression" : "DO_NOT_COMPRESS",
        "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
        "name" : "",
        "partitioningAttribute" : "",
        "prioritizers" : [ ],
        "selectedRelationships" : [ "BROILERS" ],
        "source" : {
          "comments" : "",
          "groupId" : "592c6b23-e212-35de-b21e-e9bd75285c33",
          "id" : "46f7f591-5b46-3cef-9f65-2a7ed9786033",
          "name" : "Animal status",
          "type" : "PROCESSOR"
        },
        "zIndex" : 0
      }, {
        "backPressureDataSizeThreshold" : "1 GB",
        "backPressureObjectThreshold" : 10000,
        "bends" : [ ],
        "componentType" : "CONNECTION",
        "destination" : {
          "groupId" : "8bf515c8-b747-3a58-8de3-91a81b8c9a69",
          "id" : "50f1173b-f19e-3a5a-97a4-e15abb0b4ef4",
          "name" : "Input",
          "type" : "INPUT_PORT"
        },
        "flowFileExpiration" : "0 sec",
        "groupIdentifier" : "592c6b23-e212-35de-b21e-e9bd75285c33",
        "identifier" : "a255573e-da4b-3391-a30f-2e115c5f6d30",
        "labelIndex" : 0,
        "loadBalanceCompression" : "DO_NOT_COMPRESS",
        "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
        "name" : "",
        "partitioningAttribute" : "",
        "prioritizers" : [ ],
        "selectedRelationships" : [ "CATTLE" ],
        "source" : {
          "comments" : "",
          "groupId" : "592c6b23-e212-35de-b21e-e9bd75285c33",
          "id" : "46f7f591-5b46-3cef-9f65-2a7ed9786033",
          "name" : "Animal status",
          "type" : "PROCESSOR"
        },
        "zIndex" : 0
      }, {
        "backPressureDataSizeThreshold" : "1 GB",
        "backPressureObjectThreshold" : 10000,
        "bends" : [ ],
        "componentType" : "CONNECTION",
        "destination" : {
          "groupId" : "592c6b23-e212-35de-b21e-e9bd75285c33",
          "id" : "3b31a627-7248-3e42-83f2-e6a58736f9be",
          "name" : "OUTPUT",
          "type" : "OUTPUT_PORT"
        },
        "flowFileExpiration" : "0 sec",
        "groupIdentifier" : "592c6b23-e212-35de-b21e-e9bd75285c33",
        "identifier" : "093350d1-0b5b-3909-bd1b-1be588068022",
        "labelIndex" : 0,
        "loadBalanceCompression" : "DO_NOT_COMPRESS",
        "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
        "name" : "",
        "partitioningAttribute" : "",
        "prioritizers" : [ ],
        "selectedRelationships" : [ "" ],
        "source" : {
          "groupId" : "e938c9d1-2e57-35bd-9737-c3e6e0b587cb",
          "id" : "da0f34f3-bb8c-36d4-ab5c-0c739f13fc05",
          "name" : "Output",
          "type" : "OUTPUT_PORT"
        },
        "zIndex" : 0
      }, {
        "backPressureDataSizeThreshold" : "1 GB",
        "backPressureObjectThreshold" : 10000,
        "bends" : [ ],
        "componentType" : "CONNECTION",
        "destination" : {
          "groupId" : "4feb7681-3790-33a5-91e8-591bb42b9fe6",
          "id" : "ea84bd17-aa4c-3aa2-9576-3399f6023056",
          "name" : "input",
          "type" : "INPUT_PORT"
        },
        "flowFileExpiration" : "0 sec",
        "groupIdentifier" : "592c6b23-e212-35de-b21e-e9bd75285c33",
        "identifier" : "c0cfb984-ce4a-3a9c-8e6b-0ade01593579",
        "labelIndex" : 0,
        "loadBalanceCompression" : "DO_NOT_COMPRESS",
        "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
        "name" : "",
        "partitioningAttribute" : "",
        "prioritizers" : [ ],
        "selectedRelationships" : [ "ANIMAL_STATUS_NULL" ],
        "source" : {
          "comments" : "",
          "groupId" : "592c6b23-e212-35de-b21e-e9bd75285c33",
          "id" : "5159a077-1801-32a3-8e0c-33dccc44f8b2",
          "name" : "Animal status NULL",
          "type" : "PROCESSOR"
        },
        "zIndex" : 0
      }, {
        "backPressureDataSizeThreshold" : "1 GB",
        "backPressureObjectThreshold" : 10000,
        "bends" : [ ],
        "componentType" : "CONNECTION",
        "destination" : {
          "comments" : "",
          "groupId" : "592c6b23-e212-35de-b21e-e9bd75285c33",
          "id" : "46f7f591-5b46-3cef-9f65-2a7ed9786033",
          "name" : "Animal status",
          "type" : "PROCESSOR"
        },
        "flowFileExpiration" : "0 sec",
        "groupIdentifier" : "592c6b23-e212-35de-b21e-e9bd75285c33",
        "identifier" : "a3b6e5c8-8597-344d-8c3d-194d5e9da35c",
        "labelIndex" : 0,
        "loadBalanceCompression" : "DO_NOT_COMPRESS",
        "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
        "name" : "",
        "partitioningAttribute" : "",
        "prioritizers" : [ ],
        "selectedRelationships" : [ "" ],
        "source" : {
          "groupId" : "4feb7681-3790-33a5-91e8-591bb42b9fe6",
          "id" : "67cd1455-3949-32bd-9d1a-5d3d6f227cb3",
          "name" : "output",
          "type" : "OUTPUT_PORT"
        },
        "zIndex" : 0
      }, {
        "backPressureDataSizeThreshold" : "1 GB",
        "backPressureObjectThreshold" : 10000,
        "bends" : [ ],
        "componentType" : "CONNECTION",
        "destination" : {
          "groupId" : "592c6b23-e212-35de-b21e-e9bd75285c33",
          "id" : "3b31a627-7248-3e42-83f2-e6a58736f9be",
          "name" : "OUTPUT",
          "type" : "OUTPUT_PORT"
        },
        "flowFileExpiration" : "0 sec",
        "groupIdentifier" : "592c6b23-e212-35de-b21e-e9bd75285c33",
        "identifier" : "283a1b9d-abef-3587-8038-458b85b62401",
        "labelIndex" : 0,
        "loadBalanceCompression" : "DO_NOT_COMPRESS",
        "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
        "name" : "",
        "partitioningAttribute" : "",
        "prioritizers" : [ ],
        "selectedRelationships" : [ "" ],
        "source" : {
          "groupId" : "1b06d76b-c051-3e5e-8c75-accd5ee0045b",
          "id" : "4a869087-8795-39fa-a950-8b7588e8ce8b",
          "name" : "Output",
          "type" : "OUTPUT_PORT"
        },
        "zIndex" : 0
      }, {
        "backPressureDataSizeThreshold" : "1 GB",
        "backPressureObjectThreshold" : 10000,
        "bends" : [ ],
        "componentType" : "CONNECTION",
        "destination" : {
          "groupId" : "e938c9d1-2e57-35bd-9737-c3e6e0b587cb",
          "id" : "6c27bc10-879c-308a-a3ed-801f8254fbc8",
          "name" : "Input",
          "type" : "INPUT_PORT"
        },
        "flowFileExpiration" : "0 sec",
        "groupIdentifier" : "592c6b23-e212-35de-b21e-e9bd75285c33",
        "identifier" : "214dd337-5a50-321f-8ecc-45dc0a142471",
        "labelIndex" : 0,
        "loadBalanceCompression" : "DO_NOT_COMPRESS",
        "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
        "name" : "",
        "partitioningAttribute" : "",
        "prioritizers" : [ ],
        "selectedRelationships" : [ "LACTATING" ],
        "source" : {
          "comments" : "",
          "groupId" : "592c6b23-e212-35de-b21e-e9bd75285c33",
          "id" : "46f7f591-5b46-3cef-9f65-2a7ed9786033",
          "name" : "Animal status",
          "type" : "PROCESSOR"
        },
        "zIndex" : 0
      }, {
        "backPressureDataSizeThreshold" : "1 GB",
        "backPressureObjectThreshold" : 10000,
        "bends" : [ ],
        "componentType" : "CONNECTION",
        "destination" : {
          "groupId" : "592c6b23-e212-35de-b21e-e9bd75285c33",
          "id" : "3b31a627-7248-3e42-83f2-e6a58736f9be",
          "name" : "OUTPUT",
          "type" : "OUTPUT_PORT"
        },
        "flowFileExpiration" : "0 sec",
        "groupIdentifier" : "592c6b23-e212-35de-b21e-e9bd75285c33",
        "identifier" : "27cd254e-285d-3404-965d-320b79c62abc",
        "labelIndex" : 0,
        "loadBalanceCompression" : "DO_NOT_COMPRESS",
        "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
        "name" : "",
        "partitioningAttribute" : "",
        "prioritizers" : [ ],
        "selectedRelationships" : [ "" ],
        "source" : {
          "groupId" : "41182f5e-12b3-3198-b8ec-e55103fa277f",
          "id" : "82eb9306-7a31-3c82-845b-d6511d58a413",
          "name" : "Output",
          "type" : "OUTPUT_PORT"
        },
        "zIndex" : 0
      }, {
        "backPressureDataSizeThreshold" : "1 GB",
        "backPressureObjectThreshold" : 10000,
        "bends" : [ ],
        "componentType" : "CONNECTION",
        "destination" : {
          "comments" : "",
          "groupId" : "592c6b23-e212-35de-b21e-e9bd75285c33",
          "id" : "46f7f591-5b46-3cef-9f65-2a7ed9786033",
          "name" : "Animal status",
          "type" : "PROCESSOR"
        },
        "flowFileExpiration" : "0 sec",
        "groupIdentifier" : "592c6b23-e212-35de-b21e-e9bd75285c33",
        "identifier" : "02f654da-d249-3034-817b-8e9d4d347a12",
        "labelIndex" : 0,
        "loadBalanceCompression" : "DO_NOT_COMPRESS",
        "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
        "name" : "",
        "partitioningAttribute" : "",
        "prioritizers" : [ ],
        "selectedRelationships" : [ "" ],
        "source" : {
          "groupId" : "592c6b23-e212-35de-b21e-e9bd75285c33",
          "id" : "93e2769c-afc2-3c1e-88d8-28b1e754d475",
          "name" : "INPUT",
          "type" : "INPUT_PORT"
        },
        "zIndex" : 0
      }, {
        "backPressureDataSizeThreshold" : "1 GB",
        "backPressureObjectThreshold" : 10000,
        "bends" : [ ],
        "componentType" : "CONNECTION",
        "destination" : {
          "comments" : "",
          "groupId" : "592c6b23-e212-35de-b21e-e9bd75285c33",
          "id" : "5159a077-1801-32a3-8e0c-33dccc44f8b2",
          "name" : "Animal status NULL",
          "type" : "PROCESSOR"
        },
        "flowFileExpiration" : "0 sec",
        "groupIdentifier" : "592c6b23-e212-35de-b21e-e9bd75285c33",
        "identifier" : "f14f0873-9358-3338-ac59-132931bdb3e7",
        "labelIndex" : 0,
        "loadBalanceCompression" : "DO_NOT_COMPRESS",
        "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
        "name" : "",
        "partitioningAttribute" : "",
        "prioritizers" : [ ],
        "selectedRelationships" : [ "" ],
        "source" : {
          "groupId" : "592c6b23-e212-35de-b21e-e9bd75285c33",
          "id" : "93e2769c-afc2-3c1e-88d8-28b1e754d475",
          "name" : "INPUT",
          "type" : "INPUT_PORT"
        },
        "zIndex" : 0
      }, {
        "backPressureDataSizeThreshold" : "1 GB",
        "backPressureObjectThreshold" : 10000,
        "bends" : [ ],
        "componentType" : "CONNECTION",
        "destination" : {
          "groupId" : "41182f5e-12b3-3198-b8ec-e55103fa277f",
          "id" : "818c1f2e-bc4e-308a-b3c7-3fc03aa6021e",
          "name" : "Input",
          "type" : "INPUT_PORT"
        },
        "flowFileExpiration" : "0 sec",
        "groupIdentifier" : "592c6b23-e212-35de-b21e-e9bd75285c33",
        "identifier" : "79afa0c7-8f37-3f88-9567-75dad9f5dc92",
        "labelIndex" : 0,
        "loadBalanceCompression" : "DO_NOT_COMPRESS",
        "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
        "name" : "",
        "partitioningAttribute" : "",
        "prioritizers" : [ ],
        "selectedRelationships" : [ "DRY_COW" ],
        "source" : {
          "comments" : "",
          "groupId" : "592c6b23-e212-35de-b21e-e9bd75285c33",
          "id" : "46f7f591-5b46-3cef-9f65-2a7ed9786033",
          "name" : "Animal status",
          "type" : "PROCESSOR"
        },
        "zIndex" : 0
      }, {
        "backPressureDataSizeThreshold" : "1 GB",
        "backPressureObjectThreshold" : 10000,
        "bends" : [ ],
        "componentType" : "CONNECTION",
        "destination" : {
          "groupId" : "592c6b23-e212-35de-b21e-e9bd75285c33",
          "id" : "3b31a627-7248-3e42-83f2-e6a58736f9be",
          "name" : "OUTPUT",
          "type" : "OUTPUT_PORT"
        },
        "flowFileExpiration" : "0 sec",
        "groupIdentifier" : "592c6b23-e212-35de-b21e-e9bd75285c33",
        "identifier" : "2068a7b6-0252-3e73-8cfd-5127d54292e4",
        "labelIndex" : 0,
        "loadBalanceCompression" : "DO_NOT_COMPRESS",
        "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
        "name" : "",
        "partitioningAttribute" : "",
        "prioritizers" : [ ],
        "selectedRelationships" : [ "" ],
        "source" : {
          "groupId" : "8bf515c8-b747-3a58-8de3-91a81b8c9a69",
          "id" : "dfdd7f99-5054-3438-b73e-ce114e53b7bb",
          "name" : "Output",
          "type" : "OUTPUT_PORT"
        },
        "zIndex" : 0
      } ],
      "controllerServices" : [ ],
      "defaultBackPressureDataSizeThreshold" : "1 GB",
      "defaultBackPressureObjectThreshold" : 10000,
      "defaultFlowFileExpiration" : "0 sec",
      "executionEngine" : "INHERITED",
      "flowFileConcurrency" : "UNBOUNDED",
      "flowFileOutboundPolicy" : "STREAM_WHEN_AVAILABLE",
      "funnels" : [ ],
      "groupIdentifier" : "flow-contents-group",
      "identifier" : "592c6b23-e212-35de-b21e-e9bd75285c33",
      "inputPorts" : [ {
        "allowRemoteAccess" : false,
        "componentType" : "INPUT_PORT",
        "concurrentlySchedulableTaskCount" : 1,
        "groupIdentifier" : "592c6b23-e212-35de-b21e-e9bd75285c33",
        "identifier" : "93e2769c-afc2-3c1e-88d8-28b1e754d475",
        "name" : "INPUT",
        "portFunction" : "STANDARD",
        "position" : {
          "x" : -384.0,
          "y" : -768.0
        },
        "scheduledState" : "ENABLED",
        "type" : "INPUT_PORT"
      } ],
      "labels" : [ ],
      "maxConcurrentTasks" : 1,
      "name" : "MEDS SIMPLES",
      "outputPorts" : [ {
        "allowRemoteAccess" : false,
        "componentType" : "OUTPUT_PORT",
        "concurrentlySchedulableTaskCount" : 1,
        "groupIdentifier" : "592c6b23-e212-35de-b21e-e9bd75285c33",
        "identifier" : "3b31a627-7248-3e42-83f2-e6a58736f9be",
        "name" : "OUTPUT",
        "portFunction" : "STANDARD",
        "position" : {
          "x" : 216.0,
          "y" : 1216.0
        },
        "scheduledState" : "ENABLED",
        "type" : "OUTPUT_PORT"
      } ],
      "parameterContextName" : "DEV",
      "position" : {
        "x" : -808.0,
        "y" : 2032.0
      },
      "processGroups" : [ {
        "comments" : "",
        "componentType" : "PROCESS_GROUP",
        "connections" : [ {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "e938c9d1-2e57-35bd-9737-c3e6e0b587cb",
            "id" : "9d7d895a-b2a2-34ca-8a3b-502f36ed4263",
            "name" : "Incrementa iteracao",
            "type" : "PROCESSOR"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "e938c9d1-2e57-35bd-9737-c3e6e0b587cb",
          "identifier" : "3900e144-4172-39fe-8fa6-f36654dc05d1",
          "labelIndex" : 1,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ "org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer" ],
          "selectedRelationships" : [ "" ],
          "source" : {
            "comments" : "",
            "groupId" : "e938c9d1-2e57-35bd-9737-c3e6e0b587cb",
            "id" : "f9b1b913-155e-37fe-b928-804b0646d8b6",
            "name" : "Funnel",
            "type" : "FUNNEL"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "e938c9d1-2e57-35bd-9737-c3e6e0b587cb",
            "id" : "4d01772e-9b88-323d-b864-70c152b00210",
            "name" : "Verificou todos medicamentos",
            "type" : "PROCESSOR"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "e938c9d1-2e57-35bd-9737-c3e6e0b587cb",
          "identifier" : "d18eead5-d2d6-3a72-9a06-28cdaafc2e22",
          "labelIndex" : 1,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ "org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer" ],
          "selectedRelationships" : [ "isFinished" ],
          "source" : {
            "comments" : "",
            "groupId" : "e938c9d1-2e57-35bd-9737-c3e6e0b587cb",
            "id" : "f27d44fb-d6bd-3552-a853-799dda19e815",
            "name" : "isFinished ?",
            "type" : "PROCESSOR"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "e938c9d1-2e57-35bd-9737-c3e6e0b587cb",
            "id" : "f9b1b913-155e-37fe-b928-804b0646d8b6",
            "name" : "Funnel",
            "type" : "FUNNEL"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "e938c9d1-2e57-35bd-9737-c3e6e0b587cb",
          "identifier" : "7aca8118-0039-3e3c-80a2-c7d4544d9578",
          "labelIndex" : 1,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ "org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer" ],
          "selectedRelationships" : [ "unmatched" ],
          "source" : {
            "comments" : "",
            "groupId" : "e938c9d1-2e57-35bd-9737-c3e6e0b587cb",
            "id" : "33ce0def-964c-3930-a21d-74b726900e1b",
            "name" : "APENAS_COMP",
            "type" : "PROCESSOR"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "e938c9d1-2e57-35bd-9737-c3e6e0b587cb",
            "id" : "76fd5ece-16d5-35ca-a338-00a25987cda9",
            "name" : "Interacao = 0",
            "type" : "PROCESSOR"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "e938c9d1-2e57-35bd-9737-c3e6e0b587cb",
          "identifier" : "94e3f4e1-53c6-394f-acb0-fc32fb7f28d4",
          "labelIndex" : 1,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ ],
          "selectedRelationships" : [ "" ],
          "source" : {
            "groupId" : "e938c9d1-2e57-35bd-9737-c3e6e0b587cb",
            "id" : "6c27bc10-879c-308a-a3ed-801f8254fbc8",
            "name" : "Input",
            "type" : "INPUT_PORT"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "groupId" : "e938c9d1-2e57-35bd-9737-c3e6e0b587cb",
            "id" : "da0f34f3-bb8c-36d4-ab5c-0c739f13fc05",
            "name" : "Output",
            "type" : "OUTPUT_PORT"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "e938c9d1-2e57-35bd-9737-c3e6e0b587cb",
          "identifier" : "366ee496-f3cc-3b46-8748-f463dda3d43f",
          "labelIndex" : 1,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ ],
          "selectedRelationships" : [ "" ],
          "source" : {
            "comments" : "",
            "groupId" : "e938c9d1-2e57-35bd-9737-c3e6e0b587cb",
            "id" : "166c7e7d-c742-3e8a-b4ba-669688af7bc7",
            "name" : "Funnel",
            "type" : "FUNNEL"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "e938c9d1-2e57-35bd-9737-c3e6e0b587cb",
            "id" : "d675d0bf-15e6-3df7-b228-6bbf61004065",
            "name" : "separa medicamento de comp",
            "type" : "PROCESSOR"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "e938c9d1-2e57-35bd-9737-c3e6e0b587cb",
          "identifier" : "b6f30ab5-c2db-3ba1-be78-422c2b279c4e",
          "labelIndex" : 1,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ ],
          "selectedRelationships" : [ "success" ],
          "source" : {
            "comments" : "",
            "groupId" : "e938c9d1-2e57-35bd-9737-c3e6e0b587cb",
            "id" : "09217611-f987-337a-a903-cbe886065499",
            "name" : "COUNT MEDS & COMP",
            "type" : "PROCESSOR"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ {
            "x" : 48.0,
            "y" : 1520.0
          } ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "e938c9d1-2e57-35bd-9737-c3e6e0b587cb",
            "id" : "f15be645-68b2-3944-8c06-b6c14a64f406",
            "name" : "JoinEnrichment",
            "type" : "PROCESSOR"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "e938c9d1-2e57-35bd-9737-c3e6e0b587cb",
          "identifier" : "d131fd22-b0f1-35e1-835a-bf80b3cb685a",
          "labelIndex" : 1,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ "org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer" ],
          "selectedRelationships" : [ "medicamento" ],
          "source" : {
            "comments" : "",
            "groupId" : "e938c9d1-2e57-35bd-9737-c3e6e0b587cb",
            "id" : "d675d0bf-15e6-3df7-b228-6bbf61004065",
            "name" : "separa medicamento de comp",
            "type" : "PROCESSOR"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "e938c9d1-2e57-35bd-9737-c3e6e0b587cb",
            "id" : "f27d44fb-d6bd-3552-a853-799dda19e815",
            "name" : "isFinished ?",
            "type" : "PROCESSOR"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "e938c9d1-2e57-35bd-9737-c3e6e0b587cb",
          "identifier" : "0c92dbb4-2049-3e65-a2b5-3bc159a0fb42",
          "labelIndex" : 1,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ ],
          "selectedRelationships" : [ "medicamento" ],
          "source" : {
            "comments" : "",
            "groupId" : "e938c9d1-2e57-35bd-9737-c3e6e0b587cb",
            "id" : "4fe803a6-3a37-31c8-b72d-29b64396c097",
            "name" : "separa medicamento de comp",
            "type" : "PROCESSOR"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "e938c9d1-2e57-35bd-9737-c3e6e0b587cb",
            "id" : "f15be645-68b2-3944-8c06-b6c14a64f406",
            "name" : "JoinEnrichment",
            "type" : "PROCESSOR"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "e938c9d1-2e57-35bd-9737-c3e6e0b587cb",
          "identifier" : "d133f332-6f9d-3cc7-9a82-536e11a89d15",
          "labelIndex" : 1,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ "org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer" ],
          "selectedRelationships" : [ "unmatched" ],
          "source" : {
            "comments" : "",
            "groupId" : "e938c9d1-2e57-35bd-9737-c3e6e0b587cb",
            "id" : "d675d0bf-15e6-3df7-b228-6bbf61004065",
            "name" : "separa medicamento de comp",
            "type" : "PROCESSOR"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "e938c9d1-2e57-35bd-9737-c3e6e0b587cb",
            "id" : "f9b1b913-155e-37fe-b928-804b0646d8b6",
            "name" : "Funnel",
            "type" : "FUNNEL"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "e938c9d1-2e57-35bd-9737-c3e6e0b587cb",
          "identifier" : "b99a61a7-04f8-3d30-9270-140ef8a93c01",
          "labelIndex" : 1,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ "org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer" ],
          "selectedRelationships" : [ "failure" ],
          "source" : {
            "comments" : "",
            "groupId" : "e938c9d1-2e57-35bd-9737-c3e6e0b587cb",
            "id" : "f15be645-68b2-3944-8c06-b6c14a64f406",
            "name" : "JoinEnrichment",
            "type" : "PROCESSOR"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ {
            "x" : 768.0,
            "y" : 1696.0
          } ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "e938c9d1-2e57-35bd-9737-c3e6e0b587cb",
            "id" : "f9b1b913-155e-37fe-b928-804b0646d8b6",
            "name" : "Funnel",
            "type" : "FUNNEL"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "e938c9d1-2e57-35bd-9737-c3e6e0b587cb",
          "identifier" : "3501bc99-52b9-3b50-9352-ef8afb8c5c12",
          "labelIndex" : 1,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ "org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer" ],
          "selectedRelationships" : [ "timeout" ],
          "source" : {
            "comments" : "",
            "groupId" : "e938c9d1-2e57-35bd-9737-c3e6e0b587cb",
            "id" : "f15be645-68b2-3944-8c06-b6c14a64f406",
            "name" : "JoinEnrichment",
            "type" : "PROCESSOR"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "e938c9d1-2e57-35bd-9737-c3e6e0b587cb",
            "id" : "d675d0bf-15e6-3df7-b228-6bbf61004065",
            "name" : "separa medicamento de comp",
            "type" : "PROCESSOR"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "e938c9d1-2e57-35bd-9737-c3e6e0b587cb",
          "identifier" : "ffc9845e-95e1-3845-be0d-02ba867d0054",
          "labelIndex" : 1,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ ],
          "selectedRelationships" : [ "unmatched" ],
          "source" : {
            "comments" : "",
            "groupId" : "e938c9d1-2e57-35bd-9737-c3e6e0b587cb",
            "id" : "4fe803a6-3a37-31c8-b72d-29b64396c097",
            "name" : "separa medicamento de comp",
            "type" : "PROCESSOR"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "e938c9d1-2e57-35bd-9737-c3e6e0b587cb",
            "id" : "166c7e7d-c742-3e8a-b4ba-669688af7bc7",
            "name" : "Funnel",
            "type" : "FUNNEL"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "e938c9d1-2e57-35bd-9737-c3e6e0b587cb",
          "identifier" : "61e4452f-b137-39a0-8afb-8ee2853f4b23",
          "labelIndex" : 1,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ ],
          "selectedRelationships" : [ "success" ],
          "source" : {
            "comments" : "",
            "groupId" : "e938c9d1-2e57-35bd-9737-c3e6e0b587cb",
            "id" : "27a4ea45-1100-361f-a8c1-09b545880dc5",
            "name" : "Verificou todos medicamentos",
            "type" : "PROCESSOR"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "e938c9d1-2e57-35bd-9737-c3e6e0b587cb",
            "id" : "33ce0def-964c-3930-a21d-74b726900e1b",
            "name" : "APENAS_COMP",
            "type" : "PROCESSOR"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "e938c9d1-2e57-35bd-9737-c3e6e0b587cb",
          "identifier" : "25cb8559-932d-38dd-8e8f-6d42e7b11603",
          "labelIndex" : 1,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ "org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer" ],
          "selectedRelationships" : [ "" ],
          "source" : {
            "comments" : "",
            "groupId" : "e938c9d1-2e57-35bd-9737-c3e6e0b587cb",
            "id" : "945a9650-0f6e-31e5-ada7-3b026af2d043",
            "name" : "Funnel",
            "type" : "FUNNEL"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "e938c9d1-2e57-35bd-9737-c3e6e0b587cb",
            "id" : "166c7e7d-c742-3e8a-b4ba-669688af7bc7",
            "name" : "Funnel",
            "type" : "FUNNEL"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "e938c9d1-2e57-35bd-9737-c3e6e0b587cb",
          "identifier" : "3aec8ad7-a7e5-3333-9d30-5b7f97215b2a",
          "labelIndex" : 1,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ ],
          "selectedRelationships" : [ "success" ],
          "source" : {
            "comments" : "",
            "groupId" : "e938c9d1-2e57-35bd-9737-c3e6e0b587cb",
            "id" : "4d01772e-9b88-323d-b864-70c152b00210",
            "name" : "Verificou todos medicamentos",
            "type" : "PROCESSOR"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "e938c9d1-2e57-35bd-9737-c3e6e0b587cb",
            "id" : "945a9650-0f6e-31e5-ada7-3b026af2d043",
            "name" : "Funnel",
            "type" : "FUNNEL"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "e938c9d1-2e57-35bd-9737-c3e6e0b587cb",
          "identifier" : "d4a6bad9-ebfb-3aa3-b6aa-6cc98ec8ea5c",
          "labelIndex" : 1,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ "org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer" ],
          "selectedRelationships" : [ "original" ],
          "source" : {
            "comments" : "",
            "groupId" : "e938c9d1-2e57-35bd-9737-c3e6e0b587cb",
            "id" : "f15be645-68b2-3944-8c06-b6c14a64f406",
            "name" : "JoinEnrichment",
            "type" : "PROCESSOR"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "e938c9d1-2e57-35bd-9737-c3e6e0b587cb",
            "id" : "d675d0bf-15e6-3df7-b228-6bbf61004065",
            "name" : "separa medicamento de comp",
            "type" : "PROCESSOR"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "e938c9d1-2e57-35bd-9737-c3e6e0b587cb",
          "identifier" : "d5e524d8-c4ba-3cba-a4f5-706c05ff0298",
          "labelIndex" : 1,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ ],
          "selectedRelationships" : [ "unmatched" ],
          "source" : {
            "comments" : "",
            "groupId" : "e938c9d1-2e57-35bd-9737-c3e6e0b587cb",
            "id" : "f27d44fb-d6bd-3552-a853-799dda19e815",
            "name" : "isFinished ?",
            "type" : "PROCESSOR"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "e938c9d1-2e57-35bd-9737-c3e6e0b587cb",
            "id" : "09217611-f987-337a-a903-cbe886065499",
            "name" : "COUNT MEDS & COMP",
            "type" : "PROCESSOR"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "e938c9d1-2e57-35bd-9737-c3e6e0b587cb",
          "identifier" : "bd2d8ae1-1766-3266-a678-1227bcc6f444",
          "labelIndex" : 1,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ ],
          "selectedRelationships" : [ "success" ],
          "source" : {
            "comments" : "",
            "groupId" : "e938c9d1-2e57-35bd-9737-c3e6e0b587cb",
            "id" : "76fd5ece-16d5-35ca-a338-00a25987cda9",
            "name" : "Interacao = 0",
            "type" : "PROCESSOR"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "e938c9d1-2e57-35bd-9737-c3e6e0b587cb",
            "id" : "27a4ea45-1100-361f-a8c1-09b545880dc5",
            "name" : "Verificou todos medicamentos",
            "type" : "PROCESSOR"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "e938c9d1-2e57-35bd-9737-c3e6e0b587cb",
          "identifier" : "4832cfc4-702e-33a8-baad-a7b0a1ef84c8",
          "labelIndex" : 1,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ ],
          "selectedRelationships" : [ "joined" ],
          "source" : {
            "comments" : "",
            "groupId" : "e938c9d1-2e57-35bd-9737-c3e6e0b587cb",
            "id" : "f15be645-68b2-3944-8c06-b6c14a64f406",
            "name" : "JoinEnrichment",
            "type" : "PROCESSOR"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "e938c9d1-2e57-35bd-9737-c3e6e0b587cb",
            "id" : "4fe803a6-3a37-31c8-b72d-29b64396c097",
            "name" : "separa medicamento de comp",
            "type" : "PROCESSOR"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "e938c9d1-2e57-35bd-9737-c3e6e0b587cb",
          "identifier" : "647edae6-3da2-3441-8d84-b519d6da2915",
          "labelIndex" : 1,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ ],
          "selectedRelationships" : [ "success" ],
          "source" : {
            "comments" : "",
            "groupId" : "e938c9d1-2e57-35bd-9737-c3e6e0b587cb",
            "id" : "9d7d895a-b2a2-34ca-8a3b-502f36ed4263",
            "name" : "Incrementa iteracao",
            "type" : "PROCESSOR"
          },
          "zIndex" : 0
        } ],
        "controllerServices" : [ ],
        "defaultBackPressureDataSizeThreshold" : "1 GB",
        "defaultBackPressureObjectThreshold" : 10000,
        "defaultFlowFileExpiration" : "0 sec",
        "executionEngine" : "INHERITED",
        "flowFileConcurrency" : "UNBOUNDED",
        "flowFileOutboundPolicy" : "STREAM_WHEN_AVAILABLE",
        "funnels" : [ {
          "componentType" : "FUNNEL",
          "groupIdentifier" : "e938c9d1-2e57-35bd-9737-c3e6e0b587cb",
          "identifier" : "945a9650-0f6e-31e5-ada7-3b026af2d043",
          "position" : {
            "x" : 1856.0,
            "y" : 1872.0
          }
        }, {
          "componentType" : "FUNNEL",
          "groupIdentifier" : "e938c9d1-2e57-35bd-9737-c3e6e0b587cb",
          "identifier" : "166c7e7d-c742-3e8a-b4ba-669688af7bc7",
          "position" : {
            "x" : 10.125,
            "y" : 2318.399299621582
          }
        }, {
          "componentType" : "FUNNEL",
          "groupIdentifier" : "e938c9d1-2e57-35bd-9737-c3e6e0b587cb",
          "identifier" : "f9b1b913-155e-37fe-b928-804b0646d8b6",
          "position" : {
            "x" : 1264.0,
            "y" : 1648.0
          }
        } ],
        "groupIdentifier" : "592c6b23-e212-35de-b21e-e9bd75285c33",
        "identifier" : "e938c9d1-2e57-35bd-9737-c3e6e0b587cb",
        "inputPorts" : [ {
          "allowRemoteAccess" : false,
          "componentType" : "INPUT_PORT",
          "concurrentlySchedulableTaskCount" : 1,
          "groupIdentifier" : "e938c9d1-2e57-35bd-9737-c3e6e0b587cb",
          "identifier" : "6c27bc10-879c-308a-a3ed-801f8254fbc8",
          "name" : "Input",
          "portFunction" : "STANDARD",
          "position" : {
            "x" : -376.0,
            "y" : -104.0
          },
          "scheduledState" : "ENABLED",
          "type" : "INPUT_PORT"
        } ],
        "labels" : [ ],
        "maxConcurrentTasks" : 1,
        "name" : "Copy of Copy of Copy of Copy of Join",
        "outputPorts" : [ {
          "allowRemoteAccess" : false,
          "componentType" : "OUTPUT_PORT",
          "concurrentlySchedulableTaskCount" : 1,
          "groupIdentifier" : "e938c9d1-2e57-35bd-9737-c3e6e0b587cb",
          "identifier" : "da0f34f3-bb8c-36d4-ab5c-0c739f13fc05",
          "name" : "Output",
          "portFunction" : "STANDARD",
          "position" : {
            "x" : -80.0,
            "y" : 2528.0
          },
          "scheduledState" : "ENABLED",
          "type" : "OUTPUT_PORT"
        } ],
        "parameterContextName" : "DEV",
        "position" : {
          "x" : 1064.0,
          "y" : 528.0
        },
        "processGroups" : [ ],
        "processors" : [ {
          "autoTerminatedRelationships" : [ ],
          "backoffMechanism" : "PENALIZE_FLOWFILE",
          "bulletinLevel" : "WARN",
          "bundle" : {
            "artifact" : "nifi-update-attribute-nar",
            "group" : "org.apache.nifi",
            "version" : "2.0.0"
          },
          "comments" : "",
          "componentType" : "PROCESSOR",
          "concurrentlySchedulableTaskCount" : 1,
          "executionNode" : "ALL",
          "groupIdentifier" : "e938c9d1-2e57-35bd-9737-c3e6e0b587cb",
          "identifier" : "4d01772e-9b88-323d-b864-70c152b00210",
          "maxBackoffPeriod" : "10 mins",
          "name" : "Verificou todos medicamentos",
          "penaltyDuration" : "30 sec",
          "position" : {
            "x" : 144.0,
            "y" : 2016.0
          },
          "properties" : {
            "Store State" : "Do not store state",
            "canonical-value-lookup-cache-size" : "100",
            "finished" : "true"
          },
          "propertyDescriptors" : {
            "Delete Attributes Expression" : {
              "displayName" : "Delete Attributes Expression",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Delete Attributes Expression",
              "sensitive" : false
            },
            "Store State" : {
              "displayName" : "Store State",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Store State",
              "sensitive" : false
            },
            "canonical-value-lookup-cache-size" : {
              "displayName" : "Cache Value Lookup Cache Size",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "canonical-value-lookup-cache-size",
              "sensitive" : false
            },
            "finished" : {
              "displayName" : "finished",
              "dynamic" : true,
              "identifiesControllerService" : false,
              "name" : "finished",
              "sensitive" : false
            },
            "Stateful Variables Initial Value" : {
              "displayName" : "Stateful Variables Initial Value",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Stateful Variables Initial Value",
              "sensitive" : false
            }
          },
          "retriedRelationships" : [ ],
          "retryCount" : 10,
          "runDurationMillis" : 25,
          "scheduledState" : "ENABLED",
          "schedulingPeriod" : "0 sec",
          "schedulingStrategy" : "TIMER_DRIVEN",
          "style" : { },
          "type" : "org.apache.nifi.processors.attributes.UpdateAttribute",
          "yieldDuration" : "1 sec"
        }, {
          "autoTerminatedRelationships" : [ ],
          "backoffMechanism" : "PENALIZE_FLOWFILE",
          "bulletinLevel" : "WARN",
          "bundle" : {
            "artifact" : "nifi-standard-nar",
            "group" : "org.apache.nifi",
            "version" : "2.0.0"
          },
          "comments" : "",
          "componentType" : "PROCESSOR",
          "concurrentlySchedulableTaskCount" : 1,
          "executionNode" : "ALL",
          "groupIdentifier" : "e938c9d1-2e57-35bd-9737-c3e6e0b587cb",
          "identifier" : "4fe803a6-3a37-31c8-b72d-29b64396c097",
          "maxBackoffPeriod" : "10 mins",
          "name" : "separa medicamento de comp",
          "penaltyDuration" : "30 sec",
          "position" : {
            "x" : 328.0,
            "y" : 696.0
          },
          "properties" : {
            "Routing Strategy" : "Route to Property name",
            "medicamento" : "${enrichment.role:toString():contains('ORIGINAL')}"
          },
          "propertyDescriptors" : {
            "Routing Strategy" : {
              "displayName" : "Routing Strategy",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Routing Strategy",
              "sensitive" : false
            },
            "medicamento" : {
              "displayName" : "medicamento",
              "dynamic" : true,
              "identifiesControllerService" : false,
              "name" : "medicamento",
              "sensitive" : false
            }
          },
          "retriedRelationships" : [ ],
          "retryCount" : 10,
          "runDurationMillis" : 25,
          "scheduledState" : "ENABLED",
          "schedulingPeriod" : "0 sec",
          "schedulingStrategy" : "TIMER_DRIVEN",
          "style" : { },
          "type" : "org.apache.nifi.processors.standard.RouteOnAttribute",
          "yieldDuration" : "1 sec"
        }, {
          "autoTerminatedRelationships" : [ ],
          "backoffMechanism" : "PENALIZE_FLOWFILE",
          "bulletinLevel" : "WARN",
          "bundle" : {
            "artifact" : "nifi-standard-nar",
            "group" : "org.apache.nifi",
            "version" : "2.0.0"
          },
          "comments" : "",
          "componentType" : "PROCESSOR",
          "concurrentlySchedulableTaskCount" : 1,
          "executionNode" : "ALL",
          "groupIdentifier" : "e938c9d1-2e57-35bd-9737-c3e6e0b587cb",
          "identifier" : "f15be645-68b2-3944-8c06-b6c14a64f406",
          "maxBackoffPeriod" : "10 mins",
          "name" : "JoinEnrichment",
          "penaltyDuration" : "30 sec",
          "position" : {
            "x" : -472.0,
            "y" : 1792.0
          },
          "properties" : {
            "dbf-default-precision" : "10",
            "Join Strategy" : "Wrapper",
            "Insertion Record Path" : "/",
            "Timeout" : "2 sec",
            "Original Record Reader" : "b64ecb7e-25da-3d17-b641-5c2582c7a71a",
            "Record Writer" : "0fc90508-430b-387c-8226-4247f37ffa57",
            "Enrichment Record Reader" : "b64ecb7e-25da-3d17-b641-5c2582c7a71a",
            "dbf-default-scale" : "0",
            "Maximum number of Bins" : "10000",
            "SQL" : "SELECT original.*, enrichment.* \nFROM original \nLEFT OUTER JOIN enrichment \nON original.id = enrichment.id"
          },
          "propertyDescriptors" : {
            "dbf-default-precision" : {
              "displayName" : "Default Decimal Precision",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "dbf-default-precision",
              "sensitive" : false
            },
            "Join Strategy" : {
              "displayName" : "Join Strategy",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Join Strategy",
              "sensitive" : false
            },
            "Insertion Record Path" : {
              "displayName" : "Insertion Record Path",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Insertion Record Path",
              "sensitive" : false
            },
            "Timeout" : {
              "displayName" : "Timeout",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Timeout",
              "sensitive" : false
            },
            "Original Record Reader" : {
              "displayName" : "Original Record Reader",
              "dynamic" : false,
              "identifiesControllerService" : true,
              "name" : "Original Record Reader",
              "sensitive" : false
            },
            "Record Writer" : {
              "displayName" : "Record Writer",
              "dynamic" : false,
              "identifiesControllerService" : true,
              "name" : "Record Writer",
              "sensitive" : false
            },
            "Enrichment Record Reader" : {
              "displayName" : "Enrichment Record Reader",
              "dynamic" : false,
              "identifiesControllerService" : true,
              "name" : "Enrichment Record Reader",
              "sensitive" : false
            },
            "dbf-default-scale" : {
              "displayName" : "Default Decimal Scale",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "dbf-default-scale",
              "sensitive" : false
            },
            "Maximum number of Bins" : {
              "displayName" : "Maximum number of Bins",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Maximum number of Bins",
              "sensitive" : false
            },
            "SQL" : {
              "displayName" : "SQL",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "SQL",
              "sensitive" : false
            }
          },
          "retriedRelationships" : [ ],
          "retryCount" : 10,
          "runDurationMillis" : 0,
          "scheduledState" : "ENABLED",
          "schedulingPeriod" : "0 sec",
          "schedulingStrategy" : "TIMER_DRIVEN",
          "style" : { },
          "type" : "org.apache.nifi.processors.standard.JoinEnrichment",
          "yieldDuration" : "1 sec"
        }, {
          "autoTerminatedRelationships" : [ ],
          "backoffMechanism" : "PENALIZE_FLOWFILE",
          "bulletinLevel" : "WARN",
          "bundle" : {
            "artifact" : "nifi-update-attribute-nar",
            "group" : "org.apache.nifi",
            "version" : "2.0.0"
          },
          "comments" : "",
          "componentType" : "PROCESSOR",
          "concurrentlySchedulableTaskCount" : 1,
          "executionNode" : "ALL",
          "groupIdentifier" : "e938c9d1-2e57-35bd-9737-c3e6e0b587cb",
          "identifier" : "27a4ea45-1100-361f-a8c1-09b545880dc5",
          "maxBackoffPeriod" : "10 mins",
          "name" : "Verificou todos medicamentos",
          "penaltyDuration" : "30 sec",
          "position" : {
            "x" : -424.0,
            "y" : 2088.0
          },
          "properties" : {
            "Store State" : "Do not store state",
            "canonical-value-lookup-cache-size" : "100",
            "finished" : "true"
          },
          "propertyDescriptors" : {
            "Delete Attributes Expression" : {
              "displayName" : "Delete Attributes Expression",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Delete Attributes Expression",
              "sensitive" : false
            },
            "Store State" : {
              "displayName" : "Store State",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Store State",
              "sensitive" : false
            },
            "canonical-value-lookup-cache-size" : {
              "displayName" : "Cache Value Lookup Cache Size",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "canonical-value-lookup-cache-size",
              "sensitive" : false
            },
            "finished" : {
              "displayName" : "finished",
              "dynamic" : true,
              "identifiesControllerService" : false,
              "name" : "finished",
              "sensitive" : false
            },
            "Stateful Variables Initial Value" : {
              "displayName" : "Stateful Variables Initial Value",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Stateful Variables Initial Value",
              "sensitive" : false
            }
          },
          "retriedRelationships" : [ ],
          "retryCount" : 10,
          "runDurationMillis" : 25,
          "scheduledState" : "ENABLED",
          "schedulingPeriod" : "0 sec",
          "schedulingStrategy" : "TIMER_DRIVEN",
          "style" : { },
          "type" : "org.apache.nifi.processors.attributes.UpdateAttribute",
          "yieldDuration" : "1 sec"
        }, {
          "autoTerminatedRelationships" : [ ],
          "backoffMechanism" : "PENALIZE_FLOWFILE",
          "bulletinLevel" : "WARN",
          "bundle" : {
            "artifact" : "nifi-update-attribute-nar",
            "group" : "org.apache.nifi",
            "version" : "2.0.0"
          },
          "comments" : "",
          "componentType" : "PROCESSOR",
          "concurrentlySchedulableTaskCount" : 1,
          "executionNode" : "ALL",
          "groupIdentifier" : "e938c9d1-2e57-35bd-9737-c3e6e0b587cb",
          "identifier" : "76fd5ece-16d5-35ca-a338-00a25987cda9",
          "maxBackoffPeriod" : "10 mins",
          "name" : "Interacao = 0",
          "penaltyDuration" : "30 sec",
          "position" : {
            "x" : -432.0,
            "y" : 96.0
          },
          "properties" : {
            "iteracao" : "0",
            "Store State" : "Do not store state",
            "canonical-value-lookup-cache-size" : "100"
          },
          "propertyDescriptors" : {
            "Delete Attributes Expression" : {
              "displayName" : "Delete Attributes Expression",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Delete Attributes Expression",
              "sensitive" : false
            },
            "iteracao" : {
              "displayName" : "iteracao",
              "dynamic" : true,
              "identifiesControllerService" : false,
              "name" : "iteracao",
              "sensitive" : false
            },
            "Store State" : {
              "displayName" : "Store State",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Store State",
              "sensitive" : false
            },
            "canonical-value-lookup-cache-size" : {
              "displayName" : "Cache Value Lookup Cache Size",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "canonical-value-lookup-cache-size",
              "sensitive" : false
            },
            "Stateful Variables Initial Value" : {
              "displayName" : "Stateful Variables Initial Value",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Stateful Variables Initial Value",
              "sensitive" : false
            }
          },
          "retriedRelationships" : [ ],
          "retryCount" : 10,
          "runDurationMillis" : 25,
          "scheduledState" : "ENABLED",
          "schedulingPeriod" : "0 sec",
          "schedulingStrategy" : "TIMER_DRIVEN",
          "style" : { },
          "type" : "org.apache.nifi.processors.attributes.UpdateAttribute",
          "yieldDuration" : "1 sec"
        }, {
          "autoTerminatedRelationships" : [ "failure" ],
          "backoffMechanism" : "PENALIZE_FLOWFILE",
          "bulletinLevel" : "WARN",
          "bundle" : {
            "artifact" : "nifi-groovyx-nar",
            "group" : "org.apache.nifi",
            "version" : "2.0.0"
          },
          "comments" : "",
          "componentType" : "PROCESSOR",
          "concurrentlySchedulableTaskCount" : 1,
          "executionNode" : "ALL",
          "groupIdentifier" : "e938c9d1-2e57-35bd-9737-c3e6e0b587cb",
          "identifier" : "9d7d895a-b2a2-34ca-8a3b-502f36ed4263",
          "maxBackoffPeriod" : "10 mins",
          "name" : "Incrementa iteracao",
          "penaltyDuration" : "30 sec",
          "position" : {
            "x" : 945.8829511843696,
            "y" : 889.9643330171349
          },
          "properties" : {
            "groovyx-script-body" : "// Obtém o FlowFile da sessão\ndef flowFile = session.get()\nif (!flowFile) return // Se não houver FlowFile, sai do script\n\n// Recupera o valor atual do atributo 'iteracao' (se existir), ou define como 0\ndef iteracao = flowFile.getAttribute('iteracao')?.toInteger() ?: 0\n\n// Incrementa o valor de 'iteracao'\niteracao++\n\n// Atribui o valor incrementado de volta ao FlowFile\nflowFile = session.putAttribute(flowFile, 'iteracao', iteracao.toString())\n\n// Transferir para o relacionamento de sucesso\nsession.transfer(flowFile, REL_SUCCESS)",
            "groovyx-failure-strategy" : "rollback"
          },
          "propertyDescriptors" : {
            "groovyx-script-body" : {
              "displayName" : "Script Body",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "groovyx-script-body",
              "sensitive" : false
            },
            "groovyx-failure-strategy" : {
              "displayName" : "Failure strategy",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "groovyx-failure-strategy",
              "sensitive" : false
            },
            "groovyx-additional-classpath" : {
              "displayName" : "Additional classpath",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "groovyx-additional-classpath",
              "sensitive" : false
            },
            "groovyx-script-file" : {
              "displayName" : "Script File",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "groovyx-script-file",
              "resourceDefinition" : {
                "cardinality" : "SINGLE",
                "resourceTypes" : [ "FILE" ]
              },
              "sensitive" : false
            }
          },
          "retriedRelationships" : [ ],
          "retryCount" : 10,
          "runDurationMillis" : 0,
          "scheduledState" : "ENABLED",
          "schedulingPeriod" : "0 sec",
          "schedulingStrategy" : "TIMER_DRIVEN",
          "style" : { },
          "type" : "org.apache.nifi.processors.groovyx.ExecuteGroovyScript",
          "yieldDuration" : "1 sec"
        }, {
          "autoTerminatedRelationships" : [ "failure" ],
          "backoffMechanism" : "PENALIZE_FLOWFILE",
          "bulletinLevel" : "WARN",
          "bundle" : {
            "artifact" : "nifi-groovyx-nar",
            "group" : "org.apache.nifi",
            "version" : "2.0.0"
          },
          "comments" : "",
          "componentType" : "PROCESSOR",
          "concurrentlySchedulableTaskCount" : 1,
          "executionNode" : "ALL",
          "groupIdentifier" : "e938c9d1-2e57-35bd-9737-c3e6e0b587cb",
          "identifier" : "09217611-f987-337a-a903-cbe886065499",
          "maxBackoffPeriod" : "10 mins",
          "name" : "COUNT MEDS & COMP",
          "penaltyDuration" : "30 sec",
          "position" : {
            "x" : -472.0,
            "y" : 576.0
          },
          "properties" : {
            "groovyx-script-body" : "// Obter todos os FlowFiles da fila\ndef flowFiles = []\ndef flowFile = session.get()\n\n// Contadores para FlowFiles com _IS_PRODUCT\ndef countIsProductFalse = 0\ndef countIsProductTrue = 0\n\n// Enquanto houver FlowFiles, adiciona à lista e conta os FlowFiles com o atributo '_IS_PRODUCT'\nwhile (flowFile != null) {\n    flowFiles.add(flowFile)\n\n    // Verifica o valor do atributo '_IS_PRODUCT' e conta de acordo\n    def isProduct = flowFile.getAttribute('_IS_PRODUCT')\n    if (isProduct == 'false') {\n        countIsProductFalse++\n    } else if (isProduct == 'true') {\n        countIsProductTrue++\n    }\n\n    // Obter o próximo FlowFile\n    flowFile = session.get()\n}\n\n// Atribuir os valores de totalComp e totalMeds somente aos FlowFiles com '_IS_PRODUCT' == 'true'\nflowFiles.each { currentFlowFile ->\n    def isProduct = currentFlowFile.getAttribute('_IS_PRODUCT')\n\n    // Se o FlowFile tem _IS_PRODUCT = 'true', atribui os valores de totalComp e totalMeds\n    if (isProduct == 'true') {\n        // Atribui o número de FlowFiles com _IS_PRODUCT = 'false' (totalComp)\n        currentFlowFile = session.putAttribute(currentFlowFile, 'totalComp', countIsProductFalse.toString())\n        // Atribui o número de FlowFiles com _IS_PRODUCT = 'true' (totalMeds)\n        currentFlowFile = session.putAttribute(currentFlowFile, 'totalMeds', countIsProductTrue.toString())\n    }\n\n    // Transferir para o relacionamento de sucesso\n    session.transfer(currentFlowFile, REL_SUCCESS)\n}",
            "groovyx-failure-strategy" : "rollback"
          },
          "propertyDescriptors" : {
            "groovyx-script-body" : {
              "displayName" : "Script Body",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "groovyx-script-body",
              "sensitive" : false
            },
            "groovyx-failure-strategy" : {
              "displayName" : "Failure strategy",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "groovyx-failure-strategy",
              "sensitive" : false
            },
            "groovyx-additional-classpath" : {
              "displayName" : "Additional classpath",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "groovyx-additional-classpath",
              "sensitive" : false
            },
            "groovyx-script-file" : {
              "displayName" : "Script File",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "groovyx-script-file",
              "resourceDefinition" : {
                "cardinality" : "SINGLE",
                "resourceTypes" : [ "FILE" ]
              },
              "sensitive" : false
            }
          },
          "retriedRelationships" : [ ],
          "retryCount" : 10,
          "runDurationMillis" : 0,
          "scheduledState" : "ENABLED",
          "schedulingPeriod" : "0 sec",
          "schedulingStrategy" : "TIMER_DRIVEN",
          "style" : { },
          "type" : "org.apache.nifi.processors.groovyx.ExecuteGroovyScript",
          "yieldDuration" : "1 sec"
        }, {
          "autoTerminatedRelationships" : [ ],
          "backoffMechanism" : "PENALIZE_FLOWFILE",
          "bulletinLevel" : "WARN",
          "bundle" : {
            "artifact" : "nifi-standard-nar",
            "group" : "org.apache.nifi",
            "version" : "2.0.0"
          },
          "comments" : "",
          "componentType" : "PROCESSOR",
          "concurrentlySchedulableTaskCount" : 1,
          "executionNode" : "ALL",
          "groupIdentifier" : "e938c9d1-2e57-35bd-9737-c3e6e0b587cb",
          "identifier" : "f27d44fb-d6bd-3552-a853-799dda19e815",
          "maxBackoffPeriod" : "10 mins",
          "name" : "isFinished ?",
          "penaltyDuration" : "30 sec",
          "position" : {
            "x" : 480.0,
            "y" : 1264.0
          },
          "properties" : {
            "Routing Strategy" : "Route to Property name",
            "isFinished" : "${iteracao:ge(${totalComp})}"
          },
          "propertyDescriptors" : {
            "Routing Strategy" : {
              "displayName" : "Routing Strategy",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Routing Strategy",
              "sensitive" : false
            },
            "isFinished" : {
              "displayName" : "isFinished",
              "dynamic" : true,
              "identifiesControllerService" : false,
              "name" : "isFinished",
              "sensitive" : false
            }
          },
          "retriedRelationships" : [ ],
          "retryCount" : 10,
          "runDurationMillis" : 25,
          "scheduledState" : "ENABLED",
          "schedulingPeriod" : "0 sec",
          "schedulingStrategy" : "TIMER_DRIVEN",
          "style" : { },
          "type" : "org.apache.nifi.processors.standard.RouteOnAttribute",
          "yieldDuration" : "1 sec"
        }, {
          "autoTerminatedRelationships" : [ ],
          "backoffMechanism" : "PENALIZE_FLOWFILE",
          "bulletinLevel" : "WARN",
          "bundle" : {
            "artifact" : "nifi-standard-nar",
            "group" : "org.apache.nifi",
            "version" : "2.0.0"
          },
          "comments" : "",
          "componentType" : "PROCESSOR",
          "concurrentlySchedulableTaskCount" : 1,
          "executionNode" : "ALL",
          "groupIdentifier" : "e938c9d1-2e57-35bd-9737-c3e6e0b587cb",
          "identifier" : "d675d0bf-15e6-3df7-b228-6bbf61004065",
          "maxBackoffPeriod" : "10 mins",
          "name" : "separa medicamento de comp",
          "penaltyDuration" : "30 sec",
          "position" : {
            "x" : -480.0,
            "y" : 1304.0
          },
          "properties" : {
            "Routing Strategy" : "Route to Property name",
            "medicamento" : "${enrichment.role:toString():contains('ORIGINAL')}"
          },
          "propertyDescriptors" : {
            "Routing Strategy" : {
              "displayName" : "Routing Strategy",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Routing Strategy",
              "sensitive" : false
            },
            "medicamento" : {
              "displayName" : "medicamento",
              "dynamic" : true,
              "identifiesControllerService" : false,
              "name" : "medicamento",
              "sensitive" : false
            }
          },
          "retriedRelationships" : [ ],
          "retryCount" : 10,
          "runDurationMillis" : 25,
          "scheduledState" : "ENABLED",
          "schedulingPeriod" : "0 sec",
          "schedulingStrategy" : "TIMER_DRIVEN",
          "style" : { },
          "type" : "org.apache.nifi.processors.standard.RouteOnAttribute",
          "yieldDuration" : "1 sec"
        }, {
          "autoTerminatedRelationships" : [ "medicamento" ],
          "backoffMechanism" : "PENALIZE_FLOWFILE",
          "bulletinLevel" : "WARN",
          "bundle" : {
            "artifact" : "nifi-standard-nar",
            "group" : "org.apache.nifi",
            "version" : "2.0.0"
          },
          "comments" : "",
          "componentType" : "PROCESSOR",
          "concurrentlySchedulableTaskCount" : 1,
          "executionNode" : "ALL",
          "groupIdentifier" : "e938c9d1-2e57-35bd-9737-c3e6e0b587cb",
          "identifier" : "33ce0def-964c-3930-a21d-74b726900e1b",
          "maxBackoffPeriod" : "10 mins",
          "name" : "APENAS_COMP",
          "penaltyDuration" : "30 sec",
          "position" : {
            "x" : 1608.0,
            "y" : 1360.0
          },
          "properties" : {
            "Routing Strategy" : "Route to Property name",
            "medicamento" : "${enrichment.role:toString():contains('ORIGINAL')}"
          },
          "propertyDescriptors" : {
            "Routing Strategy" : {
              "displayName" : "Routing Strategy",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Routing Strategy",
              "sensitive" : false
            },
            "medicamento" : {
              "displayName" : "medicamento",
              "dynamic" : true,
              "identifiesControllerService" : false,
              "name" : "medicamento",
              "sensitive" : false
            }
          },
          "retriedRelationships" : [ ],
          "retryCount" : 10,
          "runDurationMillis" : 25,
          "scheduledState" : "ENABLED",
          "schedulingPeriod" : "0 sec",
          "schedulingStrategy" : "TIMER_DRIVEN",
          "style" : { },
          "type" : "org.apache.nifi.processors.standard.RouteOnAttribute",
          "yieldDuration" : "1 sec"
        } ],
        "remoteProcessGroups" : [ ],
        "scheduledState" : "ENABLED",
        "statelessFlowTimeout" : "1 min"
      }, {
        "comments" : "",
        "componentType" : "PROCESS_GROUP",
        "connections" : [ {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "41182f5e-12b3-3198-b8ec-e55103fa277f",
            "id" : "6c9b9e49-618e-3f01-82d3-b25591fd55ed",
            "name" : "Incrementa iteracao",
            "type" : "PROCESSOR"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "41182f5e-12b3-3198-b8ec-e55103fa277f",
          "identifier" : "f0a77d31-ac64-3827-a1b1-044c5183a41e",
          "labelIndex" : 1,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ "org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer" ],
          "selectedRelationships" : [ "" ],
          "source" : {
            "comments" : "",
            "groupId" : "41182f5e-12b3-3198-b8ec-e55103fa277f",
            "id" : "2418c7ed-8df3-318c-8fa4-633ca2c347aa",
            "name" : "Funnel",
            "type" : "FUNNEL"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "41182f5e-12b3-3198-b8ec-e55103fa277f",
            "id" : "7ed527f6-b345-3fa8-80e5-a02d9b8957b7",
            "name" : "APENAS_COMP",
            "type" : "PROCESSOR"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "41182f5e-12b3-3198-b8ec-e55103fa277f",
          "identifier" : "6765e1fe-af41-3f37-8f84-40bd4160b4d8",
          "labelIndex" : 1,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ "org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer" ],
          "selectedRelationships" : [ "" ],
          "source" : {
            "comments" : "",
            "groupId" : "41182f5e-12b3-3198-b8ec-e55103fa277f",
            "id" : "048c5e25-594f-37ae-821d-f4c44739763a",
            "name" : "Funnel",
            "type" : "FUNNEL"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "41182f5e-12b3-3198-b8ec-e55103fa277f",
            "id" : "59287e63-e1dc-3eb3-85f5-90df3fa2a7fd",
            "name" : "separa medicamento de comp",
            "type" : "PROCESSOR"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "41182f5e-12b3-3198-b8ec-e55103fa277f",
          "identifier" : "62809a74-aac5-388c-9449-b8b5bb069f9b",
          "labelIndex" : 1,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ ],
          "selectedRelationships" : [ "success" ],
          "source" : {
            "comments" : "",
            "groupId" : "41182f5e-12b3-3198-b8ec-e55103fa277f",
            "id" : "f999b879-9b62-3ebb-87af-8b6cb95f3bae",
            "name" : "COUNT MEDS & COMP",
            "type" : "PROCESSOR"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "41182f5e-12b3-3198-b8ec-e55103fa277f",
            "id" : "5f1744a2-9d4c-331a-a5df-465eb363dc7f",
            "name" : "Funnel",
            "type" : "FUNNEL"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "41182f5e-12b3-3198-b8ec-e55103fa277f",
          "identifier" : "df0494bc-7936-33c9-a27d-75aeaf280dc2",
          "labelIndex" : 1,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ ],
          "selectedRelationships" : [ "success" ],
          "source" : {
            "comments" : "",
            "groupId" : "41182f5e-12b3-3198-b8ec-e55103fa277f",
            "id" : "b55980a1-e52f-399c-ab1d-46373674b8de",
            "name" : "Verificou todos medicamentos",
            "type" : "PROCESSOR"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "41182f5e-12b3-3198-b8ec-e55103fa277f",
            "id" : "5f1744a2-9d4c-331a-a5df-465eb363dc7f",
            "name" : "Funnel",
            "type" : "FUNNEL"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "41182f5e-12b3-3198-b8ec-e55103fa277f",
          "identifier" : "8221d814-5354-37f7-a6ca-06f07636dc91",
          "labelIndex" : 1,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ ],
          "selectedRelationships" : [ "success" ],
          "source" : {
            "comments" : "",
            "groupId" : "41182f5e-12b3-3198-b8ec-e55103fa277f",
            "id" : "c8a558dd-78fa-31c3-bbcd-1a63281cc019",
            "name" : "Verificou todos medicamentos",
            "type" : "PROCESSOR"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ {
            "x" : 768.0,
            "y" : 1696.0
          } ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "41182f5e-12b3-3198-b8ec-e55103fa277f",
            "id" : "2418c7ed-8df3-318c-8fa4-633ca2c347aa",
            "name" : "Funnel",
            "type" : "FUNNEL"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "41182f5e-12b3-3198-b8ec-e55103fa277f",
          "identifier" : "1ad4b67b-913e-3249-b930-d05019765efa",
          "labelIndex" : 1,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ "org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer" ],
          "selectedRelationships" : [ "timeout" ],
          "source" : {
            "comments" : "",
            "groupId" : "41182f5e-12b3-3198-b8ec-e55103fa277f",
            "id" : "d62a2dd2-749f-3d3c-9a4e-6dc5ff55e051",
            "name" : "JoinEnrichment",
            "type" : "PROCESSOR"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "41182f5e-12b3-3198-b8ec-e55103fa277f",
            "id" : "d62a2dd2-749f-3d3c-9a4e-6dc5ff55e051",
            "name" : "JoinEnrichment",
            "type" : "PROCESSOR"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "41182f5e-12b3-3198-b8ec-e55103fa277f",
          "identifier" : "832ee5c2-74a2-3503-98ad-29e818a8d029",
          "labelIndex" : 1,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ "org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer" ],
          "selectedRelationships" : [ "unmatched" ],
          "source" : {
            "comments" : "",
            "groupId" : "41182f5e-12b3-3198-b8ec-e55103fa277f",
            "id" : "59287e63-e1dc-3eb3-85f5-90df3fa2a7fd",
            "name" : "separa medicamento de comp",
            "type" : "PROCESSOR"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "41182f5e-12b3-3198-b8ec-e55103fa277f",
            "id" : "ae707066-f575-34ce-a8d3-0d7728568ca3",
            "name" : "isFinished ?",
            "type" : "PROCESSOR"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "41182f5e-12b3-3198-b8ec-e55103fa277f",
          "identifier" : "0dce1220-f903-38c2-90bc-c2de6cabd732",
          "labelIndex" : 1,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ ],
          "selectedRelationships" : [ "medicamento" ],
          "source" : {
            "comments" : "",
            "groupId" : "41182f5e-12b3-3198-b8ec-e55103fa277f",
            "id" : "f4ca316c-ae16-3db6-aae6-6f3a01657411",
            "name" : "separa medicamento de comp",
            "type" : "PROCESSOR"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "41182f5e-12b3-3198-b8ec-e55103fa277f",
            "id" : "ae4ba276-5b64-3176-a7da-11d113513f22",
            "name" : "Interacao = 0",
            "type" : "PROCESSOR"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "41182f5e-12b3-3198-b8ec-e55103fa277f",
          "identifier" : "b73dcc08-f5cd-32af-a246-cbc6a7fcf18b",
          "labelIndex" : 1,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ ],
          "selectedRelationships" : [ "" ],
          "source" : {
            "groupId" : "41182f5e-12b3-3198-b8ec-e55103fa277f",
            "id" : "818c1f2e-bc4e-308a-b3c7-3fc03aa6021e",
            "name" : "Input",
            "type" : "INPUT_PORT"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "41182f5e-12b3-3198-b8ec-e55103fa277f",
            "id" : "2418c7ed-8df3-318c-8fa4-633ca2c347aa",
            "name" : "Funnel",
            "type" : "FUNNEL"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "41182f5e-12b3-3198-b8ec-e55103fa277f",
          "identifier" : "d0cd66b0-ee0b-3618-977b-7cf9a4c70be1",
          "labelIndex" : 1,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ "org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer" ],
          "selectedRelationships" : [ "failure" ],
          "source" : {
            "comments" : "",
            "groupId" : "41182f5e-12b3-3198-b8ec-e55103fa277f",
            "id" : "d62a2dd2-749f-3d3c-9a4e-6dc5ff55e051",
            "name" : "JoinEnrichment",
            "type" : "PROCESSOR"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "groupId" : "41182f5e-12b3-3198-b8ec-e55103fa277f",
            "id" : "82eb9306-7a31-3c82-845b-d6511d58a413",
            "name" : "Output",
            "type" : "OUTPUT_PORT"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "41182f5e-12b3-3198-b8ec-e55103fa277f",
          "identifier" : "a77f67d7-3a30-3088-9d18-ed9a2d870546",
          "labelIndex" : 1,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ ],
          "selectedRelationships" : [ "" ],
          "source" : {
            "comments" : "",
            "groupId" : "41182f5e-12b3-3198-b8ec-e55103fa277f",
            "id" : "5f1744a2-9d4c-331a-a5df-465eb363dc7f",
            "name" : "Funnel",
            "type" : "FUNNEL"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "41182f5e-12b3-3198-b8ec-e55103fa277f",
            "id" : "f999b879-9b62-3ebb-87af-8b6cb95f3bae",
            "name" : "COUNT MEDS & COMP",
            "type" : "PROCESSOR"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "41182f5e-12b3-3198-b8ec-e55103fa277f",
          "identifier" : "866fdb8a-15e7-371d-901f-72f97b0e9491",
          "labelIndex" : 1,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ ],
          "selectedRelationships" : [ "success" ],
          "source" : {
            "comments" : "",
            "groupId" : "41182f5e-12b3-3198-b8ec-e55103fa277f",
            "id" : "ae4ba276-5b64-3176-a7da-11d113513f22",
            "name" : "Interacao = 0",
            "type" : "PROCESSOR"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "41182f5e-12b3-3198-b8ec-e55103fa277f",
            "id" : "2418c7ed-8df3-318c-8fa4-633ca2c347aa",
            "name" : "Funnel",
            "type" : "FUNNEL"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "41182f5e-12b3-3198-b8ec-e55103fa277f",
          "identifier" : "5b54bce3-b973-3086-8c79-9fae5997ad48",
          "labelIndex" : 1,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ "org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer" ],
          "selectedRelationships" : [ "unmatched" ],
          "source" : {
            "comments" : "",
            "groupId" : "41182f5e-12b3-3198-b8ec-e55103fa277f",
            "id" : "7ed527f6-b345-3fa8-80e5-a02d9b8957b7",
            "name" : "APENAS_COMP",
            "type" : "PROCESSOR"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "41182f5e-12b3-3198-b8ec-e55103fa277f",
            "id" : "59287e63-e1dc-3eb3-85f5-90df3fa2a7fd",
            "name" : "separa medicamento de comp",
            "type" : "PROCESSOR"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "41182f5e-12b3-3198-b8ec-e55103fa277f",
          "identifier" : "6a0e1eab-dc7a-372b-a138-080b043f8b59",
          "labelIndex" : 1,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ ],
          "selectedRelationships" : [ "unmatched" ],
          "source" : {
            "comments" : "",
            "groupId" : "41182f5e-12b3-3198-b8ec-e55103fa277f",
            "id" : "f4ca316c-ae16-3db6-aae6-6f3a01657411",
            "name" : "separa medicamento de comp",
            "type" : "PROCESSOR"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "41182f5e-12b3-3198-b8ec-e55103fa277f",
            "id" : "048c5e25-594f-37ae-821d-f4c44739763a",
            "name" : "Funnel",
            "type" : "FUNNEL"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "41182f5e-12b3-3198-b8ec-e55103fa277f",
          "identifier" : "34196279-3b1a-39bc-b476-4c936f59e987",
          "labelIndex" : 1,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ "org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer" ],
          "selectedRelationships" : [ "original" ],
          "source" : {
            "comments" : "",
            "groupId" : "41182f5e-12b3-3198-b8ec-e55103fa277f",
            "id" : "d62a2dd2-749f-3d3c-9a4e-6dc5ff55e051",
            "name" : "JoinEnrichment",
            "type" : "PROCESSOR"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ {
            "x" : 48.0,
            "y" : 1520.0
          } ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "41182f5e-12b3-3198-b8ec-e55103fa277f",
            "id" : "d62a2dd2-749f-3d3c-9a4e-6dc5ff55e051",
            "name" : "JoinEnrichment",
            "type" : "PROCESSOR"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "41182f5e-12b3-3198-b8ec-e55103fa277f",
          "identifier" : "08e8dc71-cdde-396a-8c60-6d1991090557",
          "labelIndex" : 1,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ "org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer" ],
          "selectedRelationships" : [ "medicamento" ],
          "source" : {
            "comments" : "",
            "groupId" : "41182f5e-12b3-3198-b8ec-e55103fa277f",
            "id" : "59287e63-e1dc-3eb3-85f5-90df3fa2a7fd",
            "name" : "separa medicamento de comp",
            "type" : "PROCESSOR"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "41182f5e-12b3-3198-b8ec-e55103fa277f",
            "id" : "59287e63-e1dc-3eb3-85f5-90df3fa2a7fd",
            "name" : "separa medicamento de comp",
            "type" : "PROCESSOR"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "41182f5e-12b3-3198-b8ec-e55103fa277f",
          "identifier" : "c086d61e-e06d-3d25-b34a-69c1e0b03f98",
          "labelIndex" : 1,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ ],
          "selectedRelationships" : [ "unmatched" ],
          "source" : {
            "comments" : "",
            "groupId" : "41182f5e-12b3-3198-b8ec-e55103fa277f",
            "id" : "ae707066-f575-34ce-a8d3-0d7728568ca3",
            "name" : "isFinished ?",
            "type" : "PROCESSOR"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "41182f5e-12b3-3198-b8ec-e55103fa277f",
            "id" : "f4ca316c-ae16-3db6-aae6-6f3a01657411",
            "name" : "separa medicamento de comp",
            "type" : "PROCESSOR"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "41182f5e-12b3-3198-b8ec-e55103fa277f",
          "identifier" : "0b17ce13-d294-39ad-973b-c7f67a4fa3a5",
          "labelIndex" : 1,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ ],
          "selectedRelationships" : [ "success" ],
          "source" : {
            "comments" : "",
            "groupId" : "41182f5e-12b3-3198-b8ec-e55103fa277f",
            "id" : "6c9b9e49-618e-3f01-82d3-b25591fd55ed",
            "name" : "Incrementa iteracao",
            "type" : "PROCESSOR"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "41182f5e-12b3-3198-b8ec-e55103fa277f",
            "id" : "b55980a1-e52f-399c-ab1d-46373674b8de",
            "name" : "Verificou todos medicamentos",
            "type" : "PROCESSOR"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "41182f5e-12b3-3198-b8ec-e55103fa277f",
          "identifier" : "3d313077-20af-3211-a2b0-8f188c651e95",
          "labelIndex" : 1,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ "org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer" ],
          "selectedRelationships" : [ "isFinished" ],
          "source" : {
            "comments" : "",
            "groupId" : "41182f5e-12b3-3198-b8ec-e55103fa277f",
            "id" : "ae707066-f575-34ce-a8d3-0d7728568ca3",
            "name" : "isFinished ?",
            "type" : "PROCESSOR"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "41182f5e-12b3-3198-b8ec-e55103fa277f",
            "id" : "c8a558dd-78fa-31c3-bbcd-1a63281cc019",
            "name" : "Verificou todos medicamentos",
            "type" : "PROCESSOR"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "41182f5e-12b3-3198-b8ec-e55103fa277f",
          "identifier" : "439d09d5-82ac-359f-a0b1-9d5331d35e2e",
          "labelIndex" : 1,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ ],
          "selectedRelationships" : [ "joined" ],
          "source" : {
            "comments" : "",
            "groupId" : "41182f5e-12b3-3198-b8ec-e55103fa277f",
            "id" : "d62a2dd2-749f-3d3c-9a4e-6dc5ff55e051",
            "name" : "JoinEnrichment",
            "type" : "PROCESSOR"
          },
          "zIndex" : 0
        } ],
        "controllerServices" : [ ],
        "defaultBackPressureDataSizeThreshold" : "1 GB",
        "defaultBackPressureObjectThreshold" : 10000,
        "defaultFlowFileExpiration" : "0 sec",
        "executionEngine" : "INHERITED",
        "flowFileConcurrency" : "UNBOUNDED",
        "flowFileOutboundPolicy" : "STREAM_WHEN_AVAILABLE",
        "funnels" : [ {
          "componentType" : "FUNNEL",
          "groupIdentifier" : "41182f5e-12b3-3198-b8ec-e55103fa277f",
          "identifier" : "048c5e25-594f-37ae-821d-f4c44739763a",
          "position" : {
            "x" : 1856.0,
            "y" : 1872.0
          }
        }, {
          "componentType" : "FUNNEL",
          "groupIdentifier" : "41182f5e-12b3-3198-b8ec-e55103fa277f",
          "identifier" : "5f1744a2-9d4c-331a-a5df-465eb363dc7f",
          "position" : {
            "x" : 10.125,
            "y" : 2318.399299621582
          }
        }, {
          "componentType" : "FUNNEL",
          "groupIdentifier" : "41182f5e-12b3-3198-b8ec-e55103fa277f",
          "identifier" : "2418c7ed-8df3-318c-8fa4-633ca2c347aa",
          "position" : {
            "x" : 1264.0,
            "y" : 1648.0
          }
        } ],
        "groupIdentifier" : "592c6b23-e212-35de-b21e-e9bd75285c33",
        "identifier" : "41182f5e-12b3-3198-b8ec-e55103fa277f",
        "inputPorts" : [ {
          "allowRemoteAccess" : false,
          "componentType" : "INPUT_PORT",
          "concurrentlySchedulableTaskCount" : 1,
          "groupIdentifier" : "41182f5e-12b3-3198-b8ec-e55103fa277f",
          "identifier" : "818c1f2e-bc4e-308a-b3c7-3fc03aa6021e",
          "name" : "Input",
          "portFunction" : "STANDARD",
          "position" : {
            "x" : -376.0,
            "y" : -104.0
          },
          "scheduledState" : "ENABLED",
          "type" : "INPUT_PORT"
        } ],
        "labels" : [ ],
        "maxConcurrentTasks" : 1,
        "name" : "Copy of Copy of Copy of Copy of Copy of Join",
        "outputPorts" : [ {
          "allowRemoteAccess" : false,
          "componentType" : "OUTPUT_PORT",
          "concurrentlySchedulableTaskCount" : 1,
          "groupIdentifier" : "41182f5e-12b3-3198-b8ec-e55103fa277f",
          "identifier" : "82eb9306-7a31-3c82-845b-d6511d58a413",
          "name" : "Output",
          "portFunction" : "STANDARD",
          "position" : {
            "x" : -80.0,
            "y" : 2528.0
          },
          "scheduledState" : "ENABLED",
          "type" : "OUTPUT_PORT"
        } ],
        "parameterContextName" : "DEV",
        "position" : {
          "x" : 304.0,
          "y" : 536.0
        },
        "processGroups" : [ ],
        "processors" : [ {
          "autoTerminatedRelationships" : [ ],
          "backoffMechanism" : "PENALIZE_FLOWFILE",
          "bulletinLevel" : "WARN",
          "bundle" : {
            "artifact" : "nifi-standard-nar",
            "group" : "org.apache.nifi",
            "version" : "2.0.0"
          },
          "comments" : "",
          "componentType" : "PROCESSOR",
          "concurrentlySchedulableTaskCount" : 1,
          "executionNode" : "ALL",
          "groupIdentifier" : "41182f5e-12b3-3198-b8ec-e55103fa277f",
          "identifier" : "d62a2dd2-749f-3d3c-9a4e-6dc5ff55e051",
          "maxBackoffPeriod" : "10 mins",
          "name" : "JoinEnrichment",
          "penaltyDuration" : "30 sec",
          "position" : {
            "x" : -472.0,
            "y" : 1792.0
          },
          "properties" : {
            "dbf-default-precision" : "10",
            "Join Strategy" : "Wrapper",
            "Insertion Record Path" : "/",
            "Timeout" : "2 sec",
            "Original Record Reader" : "b64ecb7e-25da-3d17-b641-5c2582c7a71a",
            "Record Writer" : "0fc90508-430b-387c-8226-4247f37ffa57",
            "Enrichment Record Reader" : "b64ecb7e-25da-3d17-b641-5c2582c7a71a",
            "dbf-default-scale" : "0",
            "Maximum number of Bins" : "10000",
            "SQL" : "SELECT original.*, enrichment.* \nFROM original \nLEFT OUTER JOIN enrichment \nON original.id = enrichment.id"
          },
          "propertyDescriptors" : {
            "dbf-default-precision" : {
              "displayName" : "Default Decimal Precision",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "dbf-default-precision",
              "sensitive" : false
            },
            "Join Strategy" : {
              "displayName" : "Join Strategy",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Join Strategy",
              "sensitive" : false
            },
            "Insertion Record Path" : {
              "displayName" : "Insertion Record Path",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Insertion Record Path",
              "sensitive" : false
            },
            "Timeout" : {
              "displayName" : "Timeout",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Timeout",
              "sensitive" : false
            },
            "Original Record Reader" : {
              "displayName" : "Original Record Reader",
              "dynamic" : false,
              "identifiesControllerService" : true,
              "name" : "Original Record Reader",
              "sensitive" : false
            },
            "Record Writer" : {
              "displayName" : "Record Writer",
              "dynamic" : false,
              "identifiesControllerService" : true,
              "name" : "Record Writer",
              "sensitive" : false
            },
            "Enrichment Record Reader" : {
              "displayName" : "Enrichment Record Reader",
              "dynamic" : false,
              "identifiesControllerService" : true,
              "name" : "Enrichment Record Reader",
              "sensitive" : false
            },
            "dbf-default-scale" : {
              "displayName" : "Default Decimal Scale",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "dbf-default-scale",
              "sensitive" : false
            },
            "Maximum number of Bins" : {
              "displayName" : "Maximum number of Bins",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Maximum number of Bins",
              "sensitive" : false
            },
            "SQL" : {
              "displayName" : "SQL",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "SQL",
              "sensitive" : false
            }
          },
          "retriedRelationships" : [ ],
          "retryCount" : 10,
          "runDurationMillis" : 0,
          "scheduledState" : "ENABLED",
          "schedulingPeriod" : "0 sec",
          "schedulingStrategy" : "TIMER_DRIVEN",
          "style" : { },
          "type" : "org.apache.nifi.processors.standard.JoinEnrichment",
          "yieldDuration" : "1 sec"
        }, {
          "autoTerminatedRelationships" : [ ],
          "backoffMechanism" : "PENALIZE_FLOWFILE",
          "bulletinLevel" : "WARN",
          "bundle" : {
            "artifact" : "nifi-update-attribute-nar",
            "group" : "org.apache.nifi",
            "version" : "2.0.0"
          },
          "comments" : "",
          "componentType" : "PROCESSOR",
          "concurrentlySchedulableTaskCount" : 1,
          "executionNode" : "ALL",
          "groupIdentifier" : "41182f5e-12b3-3198-b8ec-e55103fa277f",
          "identifier" : "ae4ba276-5b64-3176-a7da-11d113513f22",
          "maxBackoffPeriod" : "10 mins",
          "name" : "Interacao = 0",
          "penaltyDuration" : "30 sec",
          "position" : {
            "x" : -432.0,
            "y" : 96.0
          },
          "properties" : {
            "iteracao" : "0",
            "Store State" : "Do not store state",
            "canonical-value-lookup-cache-size" : "100"
          },
          "propertyDescriptors" : {
            "Delete Attributes Expression" : {
              "displayName" : "Delete Attributes Expression",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Delete Attributes Expression",
              "sensitive" : false
            },
            "iteracao" : {
              "displayName" : "iteracao",
              "dynamic" : true,
              "identifiesControllerService" : false,
              "name" : "iteracao",
              "sensitive" : false
            },
            "Store State" : {
              "displayName" : "Store State",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Store State",
              "sensitive" : false
            },
            "canonical-value-lookup-cache-size" : {
              "displayName" : "Cache Value Lookup Cache Size",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "canonical-value-lookup-cache-size",
              "sensitive" : false
            },
            "Stateful Variables Initial Value" : {
              "displayName" : "Stateful Variables Initial Value",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Stateful Variables Initial Value",
              "sensitive" : false
            }
          },
          "retriedRelationships" : [ ],
          "retryCount" : 10,
          "runDurationMillis" : 25,
          "scheduledState" : "ENABLED",
          "schedulingPeriod" : "0 sec",
          "schedulingStrategy" : "TIMER_DRIVEN",
          "style" : { },
          "type" : "org.apache.nifi.processors.attributes.UpdateAttribute",
          "yieldDuration" : "1 sec"
        }, {
          "autoTerminatedRelationships" : [ ],
          "backoffMechanism" : "PENALIZE_FLOWFILE",
          "bulletinLevel" : "WARN",
          "bundle" : {
            "artifact" : "nifi-update-attribute-nar",
            "group" : "org.apache.nifi",
            "version" : "2.0.0"
          },
          "comments" : "",
          "componentType" : "PROCESSOR",
          "concurrentlySchedulableTaskCount" : 1,
          "executionNode" : "ALL",
          "groupIdentifier" : "41182f5e-12b3-3198-b8ec-e55103fa277f",
          "identifier" : "b55980a1-e52f-399c-ab1d-46373674b8de",
          "maxBackoffPeriod" : "10 mins",
          "name" : "Verificou todos medicamentos",
          "penaltyDuration" : "30 sec",
          "position" : {
            "x" : 144.0,
            "y" : 2016.0
          },
          "properties" : {
            "Store State" : "Do not store state",
            "canonical-value-lookup-cache-size" : "100",
            "finished" : "true"
          },
          "propertyDescriptors" : {
            "Delete Attributes Expression" : {
              "displayName" : "Delete Attributes Expression",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Delete Attributes Expression",
              "sensitive" : false
            },
            "Store State" : {
              "displayName" : "Store State",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Store State",
              "sensitive" : false
            },
            "canonical-value-lookup-cache-size" : {
              "displayName" : "Cache Value Lookup Cache Size",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "canonical-value-lookup-cache-size",
              "sensitive" : false
            },
            "finished" : {
              "displayName" : "finished",
              "dynamic" : true,
              "identifiesControllerService" : false,
              "name" : "finished",
              "sensitive" : false
            },
            "Stateful Variables Initial Value" : {
              "displayName" : "Stateful Variables Initial Value",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Stateful Variables Initial Value",
              "sensitive" : false
            }
          },
          "retriedRelationships" : [ ],
          "retryCount" : 10,
          "runDurationMillis" : 25,
          "scheduledState" : "ENABLED",
          "schedulingPeriod" : "0 sec",
          "schedulingStrategy" : "TIMER_DRIVEN",
          "style" : { },
          "type" : "org.apache.nifi.processors.attributes.UpdateAttribute",
          "yieldDuration" : "1 sec"
        }, {
          "autoTerminatedRelationships" : [ ],
          "backoffMechanism" : "PENALIZE_FLOWFILE",
          "bulletinLevel" : "WARN",
          "bundle" : {
            "artifact" : "nifi-standard-nar",
            "group" : "org.apache.nifi",
            "version" : "2.0.0"
          },
          "comments" : "",
          "componentType" : "PROCESSOR",
          "concurrentlySchedulableTaskCount" : 1,
          "executionNode" : "ALL",
          "groupIdentifier" : "41182f5e-12b3-3198-b8ec-e55103fa277f",
          "identifier" : "ae707066-f575-34ce-a8d3-0d7728568ca3",
          "maxBackoffPeriod" : "10 mins",
          "name" : "isFinished ?",
          "penaltyDuration" : "30 sec",
          "position" : {
            "x" : 480.0,
            "y" : 1264.0
          },
          "properties" : {
            "Routing Strategy" : "Route to Property name",
            "isFinished" : "${iteracao:ge(${totalComp})}"
          },
          "propertyDescriptors" : {
            "Routing Strategy" : {
              "displayName" : "Routing Strategy",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Routing Strategy",
              "sensitive" : false
            },
            "isFinished" : {
              "displayName" : "isFinished",
              "dynamic" : true,
              "identifiesControllerService" : false,
              "name" : "isFinished",
              "sensitive" : false
            }
          },
          "retriedRelationships" : [ ],
          "retryCount" : 10,
          "runDurationMillis" : 25,
          "scheduledState" : "ENABLED",
          "schedulingPeriod" : "0 sec",
          "schedulingStrategy" : "TIMER_DRIVEN",
          "style" : { },
          "type" : "org.apache.nifi.processors.standard.RouteOnAttribute",
          "yieldDuration" : "1 sec"
        }, {
          "autoTerminatedRelationships" : [ ],
          "backoffMechanism" : "PENALIZE_FLOWFILE",
          "bulletinLevel" : "WARN",
          "bundle" : {
            "artifact" : "nifi-standard-nar",
            "group" : "org.apache.nifi",
            "version" : "2.0.0"
          },
          "comments" : "",
          "componentType" : "PROCESSOR",
          "concurrentlySchedulableTaskCount" : 1,
          "executionNode" : "ALL",
          "groupIdentifier" : "41182f5e-12b3-3198-b8ec-e55103fa277f",
          "identifier" : "f4ca316c-ae16-3db6-aae6-6f3a01657411",
          "maxBackoffPeriod" : "10 mins",
          "name" : "separa medicamento de comp",
          "penaltyDuration" : "30 sec",
          "position" : {
            "x" : 328.0,
            "y" : 696.0
          },
          "properties" : {
            "Routing Strategy" : "Route to Property name",
            "medicamento" : "${enrichment.role:toString():contains('ORIGINAL')}"
          },
          "propertyDescriptors" : {
            "Routing Strategy" : {
              "displayName" : "Routing Strategy",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Routing Strategy",
              "sensitive" : false
            },
            "medicamento" : {
              "displayName" : "medicamento",
              "dynamic" : true,
              "identifiesControllerService" : false,
              "name" : "medicamento",
              "sensitive" : false
            }
          },
          "retriedRelationships" : [ ],
          "retryCount" : 10,
          "runDurationMillis" : 25,
          "scheduledState" : "ENABLED",
          "schedulingPeriod" : "0 sec",
          "schedulingStrategy" : "TIMER_DRIVEN",
          "style" : { },
          "type" : "org.apache.nifi.processors.standard.RouteOnAttribute",
          "yieldDuration" : "1 sec"
        }, {
          "autoTerminatedRelationships" : [ "failure" ],
          "backoffMechanism" : "PENALIZE_FLOWFILE",
          "bulletinLevel" : "WARN",
          "bundle" : {
            "artifact" : "nifi-groovyx-nar",
            "group" : "org.apache.nifi",
            "version" : "2.0.0"
          },
          "comments" : "",
          "componentType" : "PROCESSOR",
          "concurrentlySchedulableTaskCount" : 1,
          "executionNode" : "ALL",
          "groupIdentifier" : "41182f5e-12b3-3198-b8ec-e55103fa277f",
          "identifier" : "6c9b9e49-618e-3f01-82d3-b25591fd55ed",
          "maxBackoffPeriod" : "10 mins",
          "name" : "Incrementa iteracao",
          "penaltyDuration" : "30 sec",
          "position" : {
            "x" : 945.8829511843696,
            "y" : 889.9643330171349
          },
          "properties" : {
            "groovyx-script-body" : "// Obtém o FlowFile da sessão\ndef flowFile = session.get()\nif (!flowFile) return // Se não houver FlowFile, sai do script\n\n// Recupera o valor atual do atributo 'iteracao' (se existir), ou define como 0\ndef iteracao = flowFile.getAttribute('iteracao')?.toInteger() ?: 0\n\n// Incrementa o valor de 'iteracao'\niteracao++\n\n// Atribui o valor incrementado de volta ao FlowFile\nflowFile = session.putAttribute(flowFile, 'iteracao', iteracao.toString())\n\n// Transferir para o relacionamento de sucesso\nsession.transfer(flowFile, REL_SUCCESS)",
            "groovyx-failure-strategy" : "rollback"
          },
          "propertyDescriptors" : {
            "groovyx-script-body" : {
              "displayName" : "Script Body",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "groovyx-script-body",
              "sensitive" : false
            },
            "groovyx-failure-strategy" : {
              "displayName" : "Failure strategy",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "groovyx-failure-strategy",
              "sensitive" : false
            },
            "groovyx-additional-classpath" : {
              "displayName" : "Additional classpath",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "groovyx-additional-classpath",
              "sensitive" : false
            },
            "groovyx-script-file" : {
              "displayName" : "Script File",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "groovyx-script-file",
              "resourceDefinition" : {
                "cardinality" : "SINGLE",
                "resourceTypes" : [ "FILE" ]
              },
              "sensitive" : false
            }
          },
          "retriedRelationships" : [ ],
          "retryCount" : 10,
          "runDurationMillis" : 0,
          "scheduledState" : "ENABLED",
          "schedulingPeriod" : "0 sec",
          "schedulingStrategy" : "TIMER_DRIVEN",
          "style" : { },
          "type" : "org.apache.nifi.processors.groovyx.ExecuteGroovyScript",
          "yieldDuration" : "1 sec"
        }, {
          "autoTerminatedRelationships" : [ ],
          "backoffMechanism" : "PENALIZE_FLOWFILE",
          "bulletinLevel" : "WARN",
          "bundle" : {
            "artifact" : "nifi-update-attribute-nar",
            "group" : "org.apache.nifi",
            "version" : "2.0.0"
          },
          "comments" : "",
          "componentType" : "PROCESSOR",
          "concurrentlySchedulableTaskCount" : 1,
          "executionNode" : "ALL",
          "groupIdentifier" : "41182f5e-12b3-3198-b8ec-e55103fa277f",
          "identifier" : "c8a558dd-78fa-31c3-bbcd-1a63281cc019",
          "maxBackoffPeriod" : "10 mins",
          "name" : "Verificou todos medicamentos",
          "penaltyDuration" : "30 sec",
          "position" : {
            "x" : -424.0,
            "y" : 2088.0
          },
          "properties" : {
            "Store State" : "Do not store state",
            "canonical-value-lookup-cache-size" : "100",
            "finished" : "true"
          },
          "propertyDescriptors" : {
            "Delete Attributes Expression" : {
              "displayName" : "Delete Attributes Expression",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Delete Attributes Expression",
              "sensitive" : false
            },
            "Store State" : {
              "displayName" : "Store State",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Store State",
              "sensitive" : false
            },
            "canonical-value-lookup-cache-size" : {
              "displayName" : "Cache Value Lookup Cache Size",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "canonical-value-lookup-cache-size",
              "sensitive" : false
            },
            "finished" : {
              "displayName" : "finished",
              "dynamic" : true,
              "identifiesControllerService" : false,
              "name" : "finished",
              "sensitive" : false
            },
            "Stateful Variables Initial Value" : {
              "displayName" : "Stateful Variables Initial Value",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Stateful Variables Initial Value",
              "sensitive" : false
            }
          },
          "retriedRelationships" : [ ],
          "retryCount" : 10,
          "runDurationMillis" : 25,
          "scheduledState" : "ENABLED",
          "schedulingPeriod" : "0 sec",
          "schedulingStrategy" : "TIMER_DRIVEN",
          "style" : { },
          "type" : "org.apache.nifi.processors.attributes.UpdateAttribute",
          "yieldDuration" : "1 sec"
        }, {
          "autoTerminatedRelationships" : [ "failure" ],
          "backoffMechanism" : "PENALIZE_FLOWFILE",
          "bulletinLevel" : "WARN",
          "bundle" : {
            "artifact" : "nifi-groovyx-nar",
            "group" : "org.apache.nifi",
            "version" : "2.0.0"
          },
          "comments" : "",
          "componentType" : "PROCESSOR",
          "concurrentlySchedulableTaskCount" : 1,
          "executionNode" : "ALL",
          "groupIdentifier" : "41182f5e-12b3-3198-b8ec-e55103fa277f",
          "identifier" : "f999b879-9b62-3ebb-87af-8b6cb95f3bae",
          "maxBackoffPeriod" : "10 mins",
          "name" : "COUNT MEDS & COMP",
          "penaltyDuration" : "30 sec",
          "position" : {
            "x" : -472.0,
            "y" : 576.0
          },
          "properties" : {
            "groovyx-script-body" : "// Obter todos os FlowFiles da fila\ndef flowFiles = []\ndef flowFile = session.get()\n\n// Contadores para FlowFiles com _IS_PRODUCT\ndef countIsProductFalse = 0\ndef countIsProductTrue = 0\n\n// Enquanto houver FlowFiles, adiciona à lista e conta os FlowFiles com o atributo '_IS_PRODUCT'\nwhile (flowFile != null) {\n    flowFiles.add(flowFile)\n\n    // Verifica o valor do atributo '_IS_PRODUCT' e conta de acordo\n    def isProduct = flowFile.getAttribute('_IS_PRODUCT')\n    if (isProduct == 'false') {\n        countIsProductFalse++\n    } else if (isProduct == 'true') {\n        countIsProductTrue++\n    }\n\n    // Obter o próximo FlowFile\n    flowFile = session.get()\n}\n\n// Atribuir os valores de totalComp e totalMeds somente aos FlowFiles com '_IS_PRODUCT' == 'true'\nflowFiles.each { currentFlowFile ->\n    def isProduct = currentFlowFile.getAttribute('_IS_PRODUCT')\n\n    // Se o FlowFile tem _IS_PRODUCT = 'true', atribui os valores de totalComp e totalMeds\n    if (isProduct == 'true') {\n        // Atribui o número de FlowFiles com _IS_PRODUCT = 'false' (totalComp)\n        currentFlowFile = session.putAttribute(currentFlowFile, 'totalComp', countIsProductFalse.toString())\n        // Atribui o número de FlowFiles com _IS_PRODUCT = 'true' (totalMeds)\n        currentFlowFile = session.putAttribute(currentFlowFile, 'totalMeds', countIsProductTrue.toString())\n    }\n\n    // Transferir para o relacionamento de sucesso\n    session.transfer(currentFlowFile, REL_SUCCESS)\n}",
            "groovyx-failure-strategy" : "rollback"
          },
          "propertyDescriptors" : {
            "groovyx-script-body" : {
              "displayName" : "Script Body",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "groovyx-script-body",
              "sensitive" : false
            },
            "groovyx-failure-strategy" : {
              "displayName" : "Failure strategy",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "groovyx-failure-strategy",
              "sensitive" : false
            },
            "groovyx-additional-classpath" : {
              "displayName" : "Additional classpath",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "groovyx-additional-classpath",
              "sensitive" : false
            },
            "groovyx-script-file" : {
              "displayName" : "Script File",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "groovyx-script-file",
              "resourceDefinition" : {
                "cardinality" : "SINGLE",
                "resourceTypes" : [ "FILE" ]
              },
              "sensitive" : false
            }
          },
          "retriedRelationships" : [ ],
          "retryCount" : 10,
          "runDurationMillis" : 0,
          "scheduledState" : "ENABLED",
          "schedulingPeriod" : "0 sec",
          "schedulingStrategy" : "TIMER_DRIVEN",
          "style" : { },
          "type" : "org.apache.nifi.processors.groovyx.ExecuteGroovyScript",
          "yieldDuration" : "1 sec"
        }, {
          "autoTerminatedRelationships" : [ "medicamento" ],
          "backoffMechanism" : "PENALIZE_FLOWFILE",
          "bulletinLevel" : "WARN",
          "bundle" : {
            "artifact" : "nifi-standard-nar",
            "group" : "org.apache.nifi",
            "version" : "2.0.0"
          },
          "comments" : "",
          "componentType" : "PROCESSOR",
          "concurrentlySchedulableTaskCount" : 1,
          "executionNode" : "ALL",
          "groupIdentifier" : "41182f5e-12b3-3198-b8ec-e55103fa277f",
          "identifier" : "7ed527f6-b345-3fa8-80e5-a02d9b8957b7",
          "maxBackoffPeriod" : "10 mins",
          "name" : "APENAS_COMP",
          "penaltyDuration" : "30 sec",
          "position" : {
            "x" : 1608.0,
            "y" : 1360.0
          },
          "properties" : {
            "Routing Strategy" : "Route to Property name",
            "medicamento" : "${enrichment.role:toString():contains('ORIGINAL')}"
          },
          "propertyDescriptors" : {
            "Routing Strategy" : {
              "displayName" : "Routing Strategy",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Routing Strategy",
              "sensitive" : false
            },
            "medicamento" : {
              "displayName" : "medicamento",
              "dynamic" : true,
              "identifiesControllerService" : false,
              "name" : "medicamento",
              "sensitive" : false
            }
          },
          "retriedRelationships" : [ ],
          "retryCount" : 10,
          "runDurationMillis" : 25,
          "scheduledState" : "ENABLED",
          "schedulingPeriod" : "0 sec",
          "schedulingStrategy" : "TIMER_DRIVEN",
          "style" : { },
          "type" : "org.apache.nifi.processors.standard.RouteOnAttribute",
          "yieldDuration" : "1 sec"
        }, {
          "autoTerminatedRelationships" : [ ],
          "backoffMechanism" : "PENALIZE_FLOWFILE",
          "bulletinLevel" : "WARN",
          "bundle" : {
            "artifact" : "nifi-standard-nar",
            "group" : "org.apache.nifi",
            "version" : "2.0.0"
          },
          "comments" : "",
          "componentType" : "PROCESSOR",
          "concurrentlySchedulableTaskCount" : 1,
          "executionNode" : "ALL",
          "groupIdentifier" : "41182f5e-12b3-3198-b8ec-e55103fa277f",
          "identifier" : "59287e63-e1dc-3eb3-85f5-90df3fa2a7fd",
          "maxBackoffPeriod" : "10 mins",
          "name" : "separa medicamento de comp",
          "penaltyDuration" : "30 sec",
          "position" : {
            "x" : -480.0,
            "y" : 1304.0
          },
          "properties" : {
            "Routing Strategy" : "Route to Property name",
            "medicamento" : "${enrichment.role:toString():contains('ORIGINAL')}"
          },
          "propertyDescriptors" : {
            "Routing Strategy" : {
              "displayName" : "Routing Strategy",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Routing Strategy",
              "sensitive" : false
            },
            "medicamento" : {
              "displayName" : "medicamento",
              "dynamic" : true,
              "identifiesControllerService" : false,
              "name" : "medicamento",
              "sensitive" : false
            }
          },
          "retriedRelationships" : [ ],
          "retryCount" : 10,
          "runDurationMillis" : 25,
          "scheduledState" : "ENABLED",
          "schedulingPeriod" : "0 sec",
          "schedulingStrategy" : "TIMER_DRIVEN",
          "style" : { },
          "type" : "org.apache.nifi.processors.standard.RouteOnAttribute",
          "yieldDuration" : "1 sec"
        } ],
        "remoteProcessGroups" : [ ],
        "scheduledState" : "ENABLED",
        "statelessFlowTimeout" : "1 min"
      }, {
        "comments" : "",
        "componentType" : "PROCESS_GROUP",
        "connections" : [ {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "1b06d76b-c051-3e5e-8c75-accd5ee0045b",
            "id" : "d6ad90e3-b2fb-37d0-8d44-05ce4a97cfb6",
            "name" : "Funnel",
            "type" : "FUNNEL"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "1b06d76b-c051-3e5e-8c75-accd5ee0045b",
          "identifier" : "9eea5cb7-cf23-33cc-a087-f4f37945da3d",
          "labelIndex" : 1,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ "org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer" ],
          "selectedRelationships" : [ "failure" ],
          "source" : {
            "comments" : "",
            "groupId" : "1b06d76b-c051-3e5e-8c75-accd5ee0045b",
            "id" : "ba6cf34b-da00-3d30-8dd2-49e74489c285",
            "name" : "JoinEnrichment",
            "type" : "PROCESSOR"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "1b06d76b-c051-3e5e-8c75-accd5ee0045b",
            "id" : "18dae908-feb3-3fda-b27c-4f1e7c8634a6",
            "name" : "separa medicamento de comp",
            "type" : "PROCESSOR"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "1b06d76b-c051-3e5e-8c75-accd5ee0045b",
          "identifier" : "5dd897c3-9bec-3481-81a8-fd7233865c3d",
          "labelIndex" : 1,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ ],
          "selectedRelationships" : [ "success" ],
          "source" : {
            "comments" : "",
            "groupId" : "1b06d76b-c051-3e5e-8c75-accd5ee0045b",
            "id" : "2d86176a-ba4d-3e6f-a9bd-c8cd2eed753a",
            "name" : "COUNT MEDS & COMP",
            "type" : "PROCESSOR"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "1b06d76b-c051-3e5e-8c75-accd5ee0045b",
            "id" : "f788b5c3-b183-310b-9158-4d9921e081f8",
            "name" : "Verificou todos medicamentos",
            "type" : "PROCESSOR"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "1b06d76b-c051-3e5e-8c75-accd5ee0045b",
          "identifier" : "2c9d479f-2599-3823-b32e-7458cb215301",
          "labelIndex" : 1,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ "org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer" ],
          "selectedRelationships" : [ "isFinished" ],
          "source" : {
            "comments" : "",
            "groupId" : "1b06d76b-c051-3e5e-8c75-accd5ee0045b",
            "id" : "cbf66897-4e09-3a0c-9774-0c43991185eb",
            "name" : "isFinished ?",
            "type" : "PROCESSOR"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "1b06d76b-c051-3e5e-8c75-accd5ee0045b",
            "id" : "18dae908-feb3-3fda-b27c-4f1e7c8634a6",
            "name" : "separa medicamento de comp",
            "type" : "PROCESSOR"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "1b06d76b-c051-3e5e-8c75-accd5ee0045b",
          "identifier" : "452366a6-539c-3711-ba30-87e198e14099",
          "labelIndex" : 1,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ ],
          "selectedRelationships" : [ "unmatched" ],
          "source" : {
            "comments" : "",
            "groupId" : "1b06d76b-c051-3e5e-8c75-accd5ee0045b",
            "id" : "5ed4c3ad-604d-3bbf-abc0-ada8a7156374",
            "name" : "separa medicamento de comp",
            "type" : "PROCESSOR"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "groupId" : "1b06d76b-c051-3e5e-8c75-accd5ee0045b",
            "id" : "4a869087-8795-39fa-a950-8b7588e8ce8b",
            "name" : "Output",
            "type" : "OUTPUT_PORT"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "1b06d76b-c051-3e5e-8c75-accd5ee0045b",
          "identifier" : "0b1118b1-c9e1-367a-bffe-a76bb927618a",
          "labelIndex" : 1,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ ],
          "selectedRelationships" : [ "" ],
          "source" : {
            "comments" : "",
            "groupId" : "1b06d76b-c051-3e5e-8c75-accd5ee0045b",
            "id" : "8c58a94c-322b-3838-a2d6-d41a27a16570",
            "name" : "Funnel",
            "type" : "FUNNEL"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "1b06d76b-c051-3e5e-8c75-accd5ee0045b",
            "id" : "18dae908-feb3-3fda-b27c-4f1e7c8634a6",
            "name" : "separa medicamento de comp",
            "type" : "PROCESSOR"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "1b06d76b-c051-3e5e-8c75-accd5ee0045b",
          "identifier" : "e9a8f43f-86ab-35e3-bd46-69a83d078eb7",
          "labelIndex" : 1,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ ],
          "selectedRelationships" : [ "unmatched" ],
          "source" : {
            "comments" : "",
            "groupId" : "1b06d76b-c051-3e5e-8c75-accd5ee0045b",
            "id" : "cbf66897-4e09-3a0c-9774-0c43991185eb",
            "name" : "isFinished ?",
            "type" : "PROCESSOR"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ {
            "x" : 48.0,
            "y" : 1520.0
          } ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "1b06d76b-c051-3e5e-8c75-accd5ee0045b",
            "id" : "ba6cf34b-da00-3d30-8dd2-49e74489c285",
            "name" : "JoinEnrichment",
            "type" : "PROCESSOR"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "1b06d76b-c051-3e5e-8c75-accd5ee0045b",
          "identifier" : "bda2079c-a859-3cd7-9324-e3ce29c85110",
          "labelIndex" : 1,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ "org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer" ],
          "selectedRelationships" : [ "medicamento" ],
          "source" : {
            "comments" : "",
            "groupId" : "1b06d76b-c051-3e5e-8c75-accd5ee0045b",
            "id" : "18dae908-feb3-3fda-b27c-4f1e7c8634a6",
            "name" : "separa medicamento de comp",
            "type" : "PROCESSOR"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "1b06d76b-c051-3e5e-8c75-accd5ee0045b",
            "id" : "f4d83e3d-ccad-3133-9f40-b05c6486c1c5",
            "name" : "Incrementa iteracao",
            "type" : "PROCESSOR"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "1b06d76b-c051-3e5e-8c75-accd5ee0045b",
          "identifier" : "5acea795-3fff-3c0d-8f6f-7ca68b7e0241",
          "labelIndex" : 1,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ "org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer" ],
          "selectedRelationships" : [ "" ],
          "source" : {
            "comments" : "",
            "groupId" : "1b06d76b-c051-3e5e-8c75-accd5ee0045b",
            "id" : "d6ad90e3-b2fb-37d0-8d44-05ce4a97cfb6",
            "name" : "Funnel",
            "type" : "FUNNEL"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "1b06d76b-c051-3e5e-8c75-accd5ee0045b",
            "id" : "8c58a94c-322b-3838-a2d6-d41a27a16570",
            "name" : "Funnel",
            "type" : "FUNNEL"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "1b06d76b-c051-3e5e-8c75-accd5ee0045b",
          "identifier" : "598f1901-7b86-3734-adac-3d87e1c7a6a6",
          "labelIndex" : 1,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ ],
          "selectedRelationships" : [ "success" ],
          "source" : {
            "comments" : "",
            "groupId" : "1b06d76b-c051-3e5e-8c75-accd5ee0045b",
            "id" : "ffeb3c74-6099-3930-b678-8d49b309838c",
            "name" : "Verificou todos medicamentos",
            "type" : "PROCESSOR"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "1b06d76b-c051-3e5e-8c75-accd5ee0045b",
            "id" : "2d86176a-ba4d-3e6f-a9bd-c8cd2eed753a",
            "name" : "COUNT MEDS & COMP",
            "type" : "PROCESSOR"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "1b06d76b-c051-3e5e-8c75-accd5ee0045b",
          "identifier" : "0e5f3dbd-7ee6-3f5a-9076-66e227e0c293",
          "labelIndex" : 1,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ ],
          "selectedRelationships" : [ "success" ],
          "source" : {
            "comments" : "",
            "groupId" : "1b06d76b-c051-3e5e-8c75-accd5ee0045b",
            "id" : "5b0806c4-2b7e-3740-bee3-e27ddde05248",
            "name" : "Interacao = 0",
            "type" : "PROCESSOR"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "1b06d76b-c051-3e5e-8c75-accd5ee0045b",
            "id" : "5ed4c3ad-604d-3bbf-abc0-ada8a7156374",
            "name" : "separa medicamento de comp",
            "type" : "PROCESSOR"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "1b06d76b-c051-3e5e-8c75-accd5ee0045b",
          "identifier" : "a2b19310-d3b0-3819-9541-b6b48cc4b6af",
          "labelIndex" : 1,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ ],
          "selectedRelationships" : [ "success" ],
          "source" : {
            "comments" : "",
            "groupId" : "1b06d76b-c051-3e5e-8c75-accd5ee0045b",
            "id" : "f4d83e3d-ccad-3133-9f40-b05c6486c1c5",
            "name" : "Incrementa iteracao",
            "type" : "PROCESSOR"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "1b06d76b-c051-3e5e-8c75-accd5ee0045b",
            "id" : "ffeb3c74-6099-3930-b678-8d49b309838c",
            "name" : "Verificou todos medicamentos",
            "type" : "PROCESSOR"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "1b06d76b-c051-3e5e-8c75-accd5ee0045b",
          "identifier" : "775ae7d5-660f-3511-8991-ea2dc5412765",
          "labelIndex" : 1,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ ],
          "selectedRelationships" : [ "joined" ],
          "source" : {
            "comments" : "",
            "groupId" : "1b06d76b-c051-3e5e-8c75-accd5ee0045b",
            "id" : "ba6cf34b-da00-3d30-8dd2-49e74489c285",
            "name" : "JoinEnrichment",
            "type" : "PROCESSOR"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "1b06d76b-c051-3e5e-8c75-accd5ee0045b",
            "id" : "68277811-9bb6-3414-af5a-db7261283bdc",
            "name" : "Funnel",
            "type" : "FUNNEL"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "1b06d76b-c051-3e5e-8c75-accd5ee0045b",
          "identifier" : "bf540649-30b6-3ebc-9c29-3142b8954e94",
          "labelIndex" : 1,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ "org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer" ],
          "selectedRelationships" : [ "original" ],
          "source" : {
            "comments" : "",
            "groupId" : "1b06d76b-c051-3e5e-8c75-accd5ee0045b",
            "id" : "ba6cf34b-da00-3d30-8dd2-49e74489c285",
            "name" : "JoinEnrichment",
            "type" : "PROCESSOR"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "1b06d76b-c051-3e5e-8c75-accd5ee0045b",
            "id" : "d6ad90e3-b2fb-37d0-8d44-05ce4a97cfb6",
            "name" : "Funnel",
            "type" : "FUNNEL"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "1b06d76b-c051-3e5e-8c75-accd5ee0045b",
          "identifier" : "52cae82a-8844-3c3d-b0ec-d83f1ef74d5f",
          "labelIndex" : 1,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ "org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer" ],
          "selectedRelationships" : [ "unmatched" ],
          "source" : {
            "comments" : "",
            "groupId" : "1b06d76b-c051-3e5e-8c75-accd5ee0045b",
            "id" : "624670ba-9f4c-3cb6-bebb-6399a8837f6a",
            "name" : "APENAS_COMP",
            "type" : "PROCESSOR"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "1b06d76b-c051-3e5e-8c75-accd5ee0045b",
            "id" : "5b0806c4-2b7e-3740-bee3-e27ddde05248",
            "name" : "Interacao = 0",
            "type" : "PROCESSOR"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "1b06d76b-c051-3e5e-8c75-accd5ee0045b",
          "identifier" : "1f740351-2567-3ee5-abb8-5be665fbd452",
          "labelIndex" : 1,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ ],
          "selectedRelationships" : [ "" ],
          "source" : {
            "groupId" : "1b06d76b-c051-3e5e-8c75-accd5ee0045b",
            "id" : "ca432bf0-ebd2-35b5-984e-0747ffa55cee",
            "name" : "Input",
            "type" : "INPUT_PORT"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "1b06d76b-c051-3e5e-8c75-accd5ee0045b",
            "id" : "8c58a94c-322b-3838-a2d6-d41a27a16570",
            "name" : "Funnel",
            "type" : "FUNNEL"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "1b06d76b-c051-3e5e-8c75-accd5ee0045b",
          "identifier" : "09bce936-68fb-350f-9bde-bf021e338667",
          "labelIndex" : 1,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ ],
          "selectedRelationships" : [ "success" ],
          "source" : {
            "comments" : "",
            "groupId" : "1b06d76b-c051-3e5e-8c75-accd5ee0045b",
            "id" : "f788b5c3-b183-310b-9158-4d9921e081f8",
            "name" : "Verificou todos medicamentos",
            "type" : "PROCESSOR"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ {
            "x" : 768.0,
            "y" : 1696.0
          } ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "1b06d76b-c051-3e5e-8c75-accd5ee0045b",
            "id" : "d6ad90e3-b2fb-37d0-8d44-05ce4a97cfb6",
            "name" : "Funnel",
            "type" : "FUNNEL"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "1b06d76b-c051-3e5e-8c75-accd5ee0045b",
          "identifier" : "dd589754-5262-3352-8e3d-43456182f580",
          "labelIndex" : 1,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ "org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer" ],
          "selectedRelationships" : [ "timeout" ],
          "source" : {
            "comments" : "",
            "groupId" : "1b06d76b-c051-3e5e-8c75-accd5ee0045b",
            "id" : "ba6cf34b-da00-3d30-8dd2-49e74489c285",
            "name" : "JoinEnrichment",
            "type" : "PROCESSOR"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "1b06d76b-c051-3e5e-8c75-accd5ee0045b",
            "id" : "ba6cf34b-da00-3d30-8dd2-49e74489c285",
            "name" : "JoinEnrichment",
            "type" : "PROCESSOR"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "1b06d76b-c051-3e5e-8c75-accd5ee0045b",
          "identifier" : "383ff309-38ba-377f-b415-5e561165ba24",
          "labelIndex" : 1,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ "org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer" ],
          "selectedRelationships" : [ "unmatched" ],
          "source" : {
            "comments" : "",
            "groupId" : "1b06d76b-c051-3e5e-8c75-accd5ee0045b",
            "id" : "18dae908-feb3-3fda-b27c-4f1e7c8634a6",
            "name" : "separa medicamento de comp",
            "type" : "PROCESSOR"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "1b06d76b-c051-3e5e-8c75-accd5ee0045b",
            "id" : "cbf66897-4e09-3a0c-9774-0c43991185eb",
            "name" : "isFinished ?",
            "type" : "PROCESSOR"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "1b06d76b-c051-3e5e-8c75-accd5ee0045b",
          "identifier" : "4e5a80c6-0892-31cd-8294-0b7b077372da",
          "labelIndex" : 1,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ ],
          "selectedRelationships" : [ "medicamento" ],
          "source" : {
            "comments" : "",
            "groupId" : "1b06d76b-c051-3e5e-8c75-accd5ee0045b",
            "id" : "5ed4c3ad-604d-3bbf-abc0-ada8a7156374",
            "name" : "separa medicamento de comp",
            "type" : "PROCESSOR"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "1b06d76b-c051-3e5e-8c75-accd5ee0045b",
            "id" : "624670ba-9f4c-3cb6-bebb-6399a8837f6a",
            "name" : "APENAS_COMP",
            "type" : "PROCESSOR"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "1b06d76b-c051-3e5e-8c75-accd5ee0045b",
          "identifier" : "709d34f0-c091-3325-a927-7896121c614b",
          "labelIndex" : 1,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ "org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer" ],
          "selectedRelationships" : [ "" ],
          "source" : {
            "comments" : "",
            "groupId" : "1b06d76b-c051-3e5e-8c75-accd5ee0045b",
            "id" : "68277811-9bb6-3414-af5a-db7261283bdc",
            "name" : "Funnel",
            "type" : "FUNNEL"
          },
          "zIndex" : 0
        } ],
        "controllerServices" : [ ],
        "defaultBackPressureDataSizeThreshold" : "1 GB",
        "defaultBackPressureObjectThreshold" : 10000,
        "defaultFlowFileExpiration" : "0 sec",
        "executionEngine" : "INHERITED",
        "flowFileConcurrency" : "UNBOUNDED",
        "flowFileOutboundPolicy" : "STREAM_WHEN_AVAILABLE",
        "funnels" : [ {
          "componentType" : "FUNNEL",
          "groupIdentifier" : "1b06d76b-c051-3e5e-8c75-accd5ee0045b",
          "identifier" : "d6ad90e3-b2fb-37d0-8d44-05ce4a97cfb6",
          "position" : {
            "x" : 1264.0,
            "y" : 1648.0
          }
        }, {
          "componentType" : "FUNNEL",
          "groupIdentifier" : "1b06d76b-c051-3e5e-8c75-accd5ee0045b",
          "identifier" : "68277811-9bb6-3414-af5a-db7261283bdc",
          "position" : {
            "x" : 1856.0,
            "y" : 1872.0
          }
        }, {
          "componentType" : "FUNNEL",
          "groupIdentifier" : "1b06d76b-c051-3e5e-8c75-accd5ee0045b",
          "identifier" : "8c58a94c-322b-3838-a2d6-d41a27a16570",
          "position" : {
            "x" : 10.125,
            "y" : 2318.399299621582
          }
        } ],
        "groupIdentifier" : "592c6b23-e212-35de-b21e-e9bd75285c33",
        "identifier" : "1b06d76b-c051-3e5e-8c75-accd5ee0045b",
        "inputPorts" : [ {
          "allowRemoteAccess" : false,
          "componentType" : "INPUT_PORT",
          "concurrentlySchedulableTaskCount" : 1,
          "groupIdentifier" : "1b06d76b-c051-3e5e-8c75-accd5ee0045b",
          "identifier" : "ca432bf0-ebd2-35b5-984e-0747ffa55cee",
          "name" : "Input",
          "portFunction" : "STANDARD",
          "position" : {
            "x" : -376.0,
            "y" : -104.0
          },
          "scheduledState" : "ENABLED",
          "type" : "INPUT_PORT"
        } ],
        "labels" : [ ],
        "maxConcurrentTasks" : 1,
        "name" : "Copy of Copy of Copy of Copy of Copy of Copy of Copy of Join",
        "outputPorts" : [ {
          "allowRemoteAccess" : false,
          "componentType" : "OUTPUT_PORT",
          "concurrentlySchedulableTaskCount" : 1,
          "groupIdentifier" : "1b06d76b-c051-3e5e-8c75-accd5ee0045b",
          "identifier" : "4a869087-8795-39fa-a950-8b7588e8ce8b",
          "name" : "Output",
          "portFunction" : "STANDARD",
          "position" : {
            "x" : -80.0,
            "y" : 2528.0
          },
          "scheduledState" : "ENABLED",
          "type" : "OUTPUT_PORT"
        } ],
        "parameterContextName" : "DEV",
        "position" : {
          "x" : -1000.0,
          "y" : 528.0
        },
        "processGroups" : [ ],
        "processors" : [ {
          "autoTerminatedRelationships" : [ ],
          "backoffMechanism" : "PENALIZE_FLOWFILE",
          "bulletinLevel" : "WARN",
          "bundle" : {
            "artifact" : "nifi-update-attribute-nar",
            "group" : "org.apache.nifi",
            "version" : "2.0.0"
          },
          "comments" : "",
          "componentType" : "PROCESSOR",
          "concurrentlySchedulableTaskCount" : 1,
          "executionNode" : "ALL",
          "groupIdentifier" : "1b06d76b-c051-3e5e-8c75-accd5ee0045b",
          "identifier" : "ffeb3c74-6099-3930-b678-8d49b309838c",
          "maxBackoffPeriod" : "10 mins",
          "name" : "Verificou todos medicamentos",
          "penaltyDuration" : "30 sec",
          "position" : {
            "x" : -424.0,
            "y" : 2088.0
          },
          "properties" : {
            "Store State" : "Do not store state",
            "canonical-value-lookup-cache-size" : "100",
            "finished" : "true"
          },
          "propertyDescriptors" : {
            "Delete Attributes Expression" : {
              "displayName" : "Delete Attributes Expression",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Delete Attributes Expression",
              "sensitive" : false
            },
            "Store State" : {
              "displayName" : "Store State",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Store State",
              "sensitive" : false
            },
            "canonical-value-lookup-cache-size" : {
              "displayName" : "Cache Value Lookup Cache Size",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "canonical-value-lookup-cache-size",
              "sensitive" : false
            },
            "finished" : {
              "displayName" : "finished",
              "dynamic" : true,
              "identifiesControllerService" : false,
              "name" : "finished",
              "sensitive" : false
            },
            "Stateful Variables Initial Value" : {
              "displayName" : "Stateful Variables Initial Value",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Stateful Variables Initial Value",
              "sensitive" : false
            }
          },
          "retriedRelationships" : [ ],
          "retryCount" : 10,
          "runDurationMillis" : 25,
          "scheduledState" : "ENABLED",
          "schedulingPeriod" : "0 sec",
          "schedulingStrategy" : "TIMER_DRIVEN",
          "style" : { },
          "type" : "org.apache.nifi.processors.attributes.UpdateAttribute",
          "yieldDuration" : "1 sec"
        }, {
          "autoTerminatedRelationships" : [ ],
          "backoffMechanism" : "PENALIZE_FLOWFILE",
          "bulletinLevel" : "WARN",
          "bundle" : {
            "artifact" : "nifi-standard-nar",
            "group" : "org.apache.nifi",
            "version" : "2.0.0"
          },
          "comments" : "",
          "componentType" : "PROCESSOR",
          "concurrentlySchedulableTaskCount" : 1,
          "executionNode" : "ALL",
          "groupIdentifier" : "1b06d76b-c051-3e5e-8c75-accd5ee0045b",
          "identifier" : "cbf66897-4e09-3a0c-9774-0c43991185eb",
          "maxBackoffPeriod" : "10 mins",
          "name" : "isFinished ?",
          "penaltyDuration" : "30 sec",
          "position" : {
            "x" : 480.0,
            "y" : 1264.0
          },
          "properties" : {
            "Routing Strategy" : "Route to Property name",
            "isFinished" : "${iteracao:ge(${totalComp})}"
          },
          "propertyDescriptors" : {
            "Routing Strategy" : {
              "displayName" : "Routing Strategy",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Routing Strategy",
              "sensitive" : false
            },
            "isFinished" : {
              "displayName" : "isFinished",
              "dynamic" : true,
              "identifiesControllerService" : false,
              "name" : "isFinished",
              "sensitive" : false
            }
          },
          "retriedRelationships" : [ ],
          "retryCount" : 10,
          "runDurationMillis" : 25,
          "scheduledState" : "ENABLED",
          "schedulingPeriod" : "0 sec",
          "schedulingStrategy" : "TIMER_DRIVEN",
          "style" : { },
          "type" : "org.apache.nifi.processors.standard.RouteOnAttribute",
          "yieldDuration" : "1 sec"
        }, {
          "autoTerminatedRelationships" : [ ],
          "backoffMechanism" : "PENALIZE_FLOWFILE",
          "bulletinLevel" : "WARN",
          "bundle" : {
            "artifact" : "nifi-update-attribute-nar",
            "group" : "org.apache.nifi",
            "version" : "2.0.0"
          },
          "comments" : "",
          "componentType" : "PROCESSOR",
          "concurrentlySchedulableTaskCount" : 1,
          "executionNode" : "ALL",
          "groupIdentifier" : "1b06d76b-c051-3e5e-8c75-accd5ee0045b",
          "identifier" : "f788b5c3-b183-310b-9158-4d9921e081f8",
          "maxBackoffPeriod" : "10 mins",
          "name" : "Verificou todos medicamentos",
          "penaltyDuration" : "30 sec",
          "position" : {
            "x" : 144.0,
            "y" : 2016.0
          },
          "properties" : {
            "Store State" : "Do not store state",
            "canonical-value-lookup-cache-size" : "100",
            "finished" : "true"
          },
          "propertyDescriptors" : {
            "Delete Attributes Expression" : {
              "displayName" : "Delete Attributes Expression",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Delete Attributes Expression",
              "sensitive" : false
            },
            "Store State" : {
              "displayName" : "Store State",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Store State",
              "sensitive" : false
            },
            "canonical-value-lookup-cache-size" : {
              "displayName" : "Cache Value Lookup Cache Size",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "canonical-value-lookup-cache-size",
              "sensitive" : false
            },
            "finished" : {
              "displayName" : "finished",
              "dynamic" : true,
              "identifiesControllerService" : false,
              "name" : "finished",
              "sensitive" : false
            },
            "Stateful Variables Initial Value" : {
              "displayName" : "Stateful Variables Initial Value",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Stateful Variables Initial Value",
              "sensitive" : false
            }
          },
          "retriedRelationships" : [ ],
          "retryCount" : 10,
          "runDurationMillis" : 25,
          "scheduledState" : "ENABLED",
          "schedulingPeriod" : "0 sec",
          "schedulingStrategy" : "TIMER_DRIVEN",
          "style" : { },
          "type" : "org.apache.nifi.processors.attributes.UpdateAttribute",
          "yieldDuration" : "1 sec"
        }, {
          "autoTerminatedRelationships" : [ ],
          "backoffMechanism" : "PENALIZE_FLOWFILE",
          "bulletinLevel" : "WARN",
          "bundle" : {
            "artifact" : "nifi-standard-nar",
            "group" : "org.apache.nifi",
            "version" : "2.0.0"
          },
          "comments" : "",
          "componentType" : "PROCESSOR",
          "concurrentlySchedulableTaskCount" : 1,
          "executionNode" : "ALL",
          "groupIdentifier" : "1b06d76b-c051-3e5e-8c75-accd5ee0045b",
          "identifier" : "ba6cf34b-da00-3d30-8dd2-49e74489c285",
          "maxBackoffPeriod" : "10 mins",
          "name" : "JoinEnrichment",
          "penaltyDuration" : "30 sec",
          "position" : {
            "x" : -472.0,
            "y" : 1792.0
          },
          "properties" : {
            "dbf-default-precision" : "10",
            "Join Strategy" : "Wrapper",
            "Insertion Record Path" : "/",
            "Timeout" : "2 sec",
            "Original Record Reader" : "b64ecb7e-25da-3d17-b641-5c2582c7a71a",
            "Record Writer" : "0fc90508-430b-387c-8226-4247f37ffa57",
            "Enrichment Record Reader" : "b64ecb7e-25da-3d17-b641-5c2582c7a71a",
            "dbf-default-scale" : "0",
            "Maximum number of Bins" : "10000",
            "SQL" : "SELECT original.*, enrichment.* \nFROM original \nLEFT OUTER JOIN enrichment \nON original.id = enrichment.id"
          },
          "propertyDescriptors" : {
            "dbf-default-precision" : {
              "displayName" : "Default Decimal Precision",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "dbf-default-precision",
              "sensitive" : false
            },
            "Join Strategy" : {
              "displayName" : "Join Strategy",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Join Strategy",
              "sensitive" : false
            },
            "Insertion Record Path" : {
              "displayName" : "Insertion Record Path",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Insertion Record Path",
              "sensitive" : false
            },
            "Timeout" : {
              "displayName" : "Timeout",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Timeout",
              "sensitive" : false
            },
            "Original Record Reader" : {
              "displayName" : "Original Record Reader",
              "dynamic" : false,
              "identifiesControllerService" : true,
              "name" : "Original Record Reader",
              "sensitive" : false
            },
            "Record Writer" : {
              "displayName" : "Record Writer",
              "dynamic" : false,
              "identifiesControllerService" : true,
              "name" : "Record Writer",
              "sensitive" : false
            },
            "Enrichment Record Reader" : {
              "displayName" : "Enrichment Record Reader",
              "dynamic" : false,
              "identifiesControllerService" : true,
              "name" : "Enrichment Record Reader",
              "sensitive" : false
            },
            "dbf-default-scale" : {
              "displayName" : "Default Decimal Scale",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "dbf-default-scale",
              "sensitive" : false
            },
            "Maximum number of Bins" : {
              "displayName" : "Maximum number of Bins",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Maximum number of Bins",
              "sensitive" : false
            },
            "SQL" : {
              "displayName" : "SQL",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "SQL",
              "sensitive" : false
            }
          },
          "retriedRelationships" : [ ],
          "retryCount" : 10,
          "runDurationMillis" : 0,
          "scheduledState" : "ENABLED",
          "schedulingPeriod" : "0 sec",
          "schedulingStrategy" : "TIMER_DRIVEN",
          "style" : { },
          "type" : "org.apache.nifi.processors.standard.JoinEnrichment",
          "yieldDuration" : "1 sec"
        }, {
          "autoTerminatedRelationships" : [ "failure" ],
          "backoffMechanism" : "PENALIZE_FLOWFILE",
          "bulletinLevel" : "WARN",
          "bundle" : {
            "artifact" : "nifi-groovyx-nar",
            "group" : "org.apache.nifi",
            "version" : "2.0.0"
          },
          "comments" : "",
          "componentType" : "PROCESSOR",
          "concurrentlySchedulableTaskCount" : 1,
          "executionNode" : "ALL",
          "groupIdentifier" : "1b06d76b-c051-3e5e-8c75-accd5ee0045b",
          "identifier" : "f4d83e3d-ccad-3133-9f40-b05c6486c1c5",
          "maxBackoffPeriod" : "10 mins",
          "name" : "Incrementa iteracao",
          "penaltyDuration" : "30 sec",
          "position" : {
            "x" : 945.8829511843696,
            "y" : 889.9643330171349
          },
          "properties" : {
            "groovyx-script-body" : "// Obtém o FlowFile da sessão\ndef flowFile = session.get()\nif (!flowFile) return // Se não houver FlowFile, sai do script\n\n// Recupera o valor atual do atributo 'iteracao' (se existir), ou define como 0\ndef iteracao = flowFile.getAttribute('iteracao')?.toInteger() ?: 0\n\n// Incrementa o valor de 'iteracao'\niteracao++\n\n// Atribui o valor incrementado de volta ao FlowFile\nflowFile = session.putAttribute(flowFile, 'iteracao', iteracao.toString())\n\n// Transferir para o relacionamento de sucesso\nsession.transfer(flowFile, REL_SUCCESS)",
            "groovyx-failure-strategy" : "rollback"
          },
          "propertyDescriptors" : {
            "groovyx-script-body" : {
              "displayName" : "Script Body",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "groovyx-script-body",
              "sensitive" : false
            },
            "groovyx-failure-strategy" : {
              "displayName" : "Failure strategy",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "groovyx-failure-strategy",
              "sensitive" : false
            },
            "groovyx-additional-classpath" : {
              "displayName" : "Additional classpath",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "groovyx-additional-classpath",
              "sensitive" : false
            },
            "groovyx-script-file" : {
              "displayName" : "Script File",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "groovyx-script-file",
              "resourceDefinition" : {
                "cardinality" : "SINGLE",
                "resourceTypes" : [ "FILE" ]
              },
              "sensitive" : false
            }
          },
          "retriedRelationships" : [ ],
          "retryCount" : 10,
          "runDurationMillis" : 0,
          "scheduledState" : "ENABLED",
          "schedulingPeriod" : "0 sec",
          "schedulingStrategy" : "TIMER_DRIVEN",
          "style" : { },
          "type" : "org.apache.nifi.processors.groovyx.ExecuteGroovyScript",
          "yieldDuration" : "1 sec"
        }, {
          "autoTerminatedRelationships" : [ "medicamento" ],
          "backoffMechanism" : "PENALIZE_FLOWFILE",
          "bulletinLevel" : "WARN",
          "bundle" : {
            "artifact" : "nifi-standard-nar",
            "group" : "org.apache.nifi",
            "version" : "2.0.0"
          },
          "comments" : "",
          "componentType" : "PROCESSOR",
          "concurrentlySchedulableTaskCount" : 1,
          "executionNode" : "ALL",
          "groupIdentifier" : "1b06d76b-c051-3e5e-8c75-accd5ee0045b",
          "identifier" : "624670ba-9f4c-3cb6-bebb-6399a8837f6a",
          "maxBackoffPeriod" : "10 mins",
          "name" : "APENAS_COMP",
          "penaltyDuration" : "30 sec",
          "position" : {
            "x" : 1608.0,
            "y" : 1360.0
          },
          "properties" : {
            "Routing Strategy" : "Route to Property name",
            "medicamento" : "${enrichment.role:toString():contains('ORIGINAL')}"
          },
          "propertyDescriptors" : {
            "Routing Strategy" : {
              "displayName" : "Routing Strategy",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Routing Strategy",
              "sensitive" : false
            },
            "medicamento" : {
              "displayName" : "medicamento",
              "dynamic" : true,
              "identifiesControllerService" : false,
              "name" : "medicamento",
              "sensitive" : false
            }
          },
          "retriedRelationships" : [ ],
          "retryCount" : 10,
          "runDurationMillis" : 25,
          "scheduledState" : "ENABLED",
          "schedulingPeriod" : "0 sec",
          "schedulingStrategy" : "TIMER_DRIVEN",
          "style" : { },
          "type" : "org.apache.nifi.processors.standard.RouteOnAttribute",
          "yieldDuration" : "1 sec"
        }, {
          "autoTerminatedRelationships" : [ ],
          "backoffMechanism" : "PENALIZE_FLOWFILE",
          "bulletinLevel" : "WARN",
          "bundle" : {
            "artifact" : "nifi-update-attribute-nar",
            "group" : "org.apache.nifi",
            "version" : "2.0.0"
          },
          "comments" : "",
          "componentType" : "PROCESSOR",
          "concurrentlySchedulableTaskCount" : 1,
          "executionNode" : "ALL",
          "groupIdentifier" : "1b06d76b-c051-3e5e-8c75-accd5ee0045b",
          "identifier" : "5b0806c4-2b7e-3740-bee3-e27ddde05248",
          "maxBackoffPeriod" : "10 mins",
          "name" : "Interacao = 0",
          "penaltyDuration" : "30 sec",
          "position" : {
            "x" : -432.0,
            "y" : 96.0
          },
          "properties" : {
            "iteracao" : "0",
            "Store State" : "Do not store state",
            "canonical-value-lookup-cache-size" : "100"
          },
          "propertyDescriptors" : {
            "Delete Attributes Expression" : {
              "displayName" : "Delete Attributes Expression",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Delete Attributes Expression",
              "sensitive" : false
            },
            "iteracao" : {
              "displayName" : "iteracao",
              "dynamic" : true,
              "identifiesControllerService" : false,
              "name" : "iteracao",
              "sensitive" : false
            },
            "Store State" : {
              "displayName" : "Store State",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Store State",
              "sensitive" : false
            },
            "canonical-value-lookup-cache-size" : {
              "displayName" : "Cache Value Lookup Cache Size",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "canonical-value-lookup-cache-size",
              "sensitive" : false
            },
            "Stateful Variables Initial Value" : {
              "displayName" : "Stateful Variables Initial Value",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Stateful Variables Initial Value",
              "sensitive" : false
            }
          },
          "retriedRelationships" : [ ],
          "retryCount" : 10,
          "runDurationMillis" : 25,
          "scheduledState" : "ENABLED",
          "schedulingPeriod" : "0 sec",
          "schedulingStrategy" : "TIMER_DRIVEN",
          "style" : { },
          "type" : "org.apache.nifi.processors.attributes.UpdateAttribute",
          "yieldDuration" : "1 sec"
        }, {
          "autoTerminatedRelationships" : [ "failure" ],
          "backoffMechanism" : "PENALIZE_FLOWFILE",
          "bulletinLevel" : "WARN",
          "bundle" : {
            "artifact" : "nifi-groovyx-nar",
            "group" : "org.apache.nifi",
            "version" : "2.0.0"
          },
          "comments" : "",
          "componentType" : "PROCESSOR",
          "concurrentlySchedulableTaskCount" : 1,
          "executionNode" : "ALL",
          "groupIdentifier" : "1b06d76b-c051-3e5e-8c75-accd5ee0045b",
          "identifier" : "2d86176a-ba4d-3e6f-a9bd-c8cd2eed753a",
          "maxBackoffPeriod" : "10 mins",
          "name" : "COUNT MEDS & COMP",
          "penaltyDuration" : "30 sec",
          "position" : {
            "x" : -472.0,
            "y" : 576.0
          },
          "properties" : {
            "groovyx-script-body" : "// Obter todos os FlowFiles da fila\ndef flowFiles = []\ndef flowFile = session.get()\n\n// Contadores para FlowFiles com _IS_PRODUCT\ndef countIsProductFalse = 0\ndef countIsProductTrue = 0\n\n// Enquanto houver FlowFiles, adiciona à lista e conta os FlowFiles com o atributo '_IS_PRODUCT'\nwhile (flowFile != null) {\n    flowFiles.add(flowFile)\n\n    // Verifica o valor do atributo '_IS_PRODUCT' e conta de acordo\n    def isProduct = flowFile.getAttribute('_IS_PRODUCT')\n    if (isProduct == 'false') {\n        countIsProductFalse++\n    } else if (isProduct == 'true') {\n        countIsProductTrue++\n    }\n\n    // Obter o próximo FlowFile\n    flowFile = session.get()\n}\n\n// Atribuir os valores de totalComp e totalMeds somente aos FlowFiles com '_IS_PRODUCT' == 'true'\nflowFiles.each { currentFlowFile ->\n    def isProduct = currentFlowFile.getAttribute('_IS_PRODUCT')\n\n    // Se o FlowFile tem _IS_PRODUCT = 'true', atribui os valores de totalComp e totalMeds\n    if (isProduct == 'true') {\n        // Atribui o número de FlowFiles com _IS_PRODUCT = 'false' (totalComp)\n        currentFlowFile = session.putAttribute(currentFlowFile, 'totalComp', countIsProductFalse.toString())\n        // Atribui o número de FlowFiles com _IS_PRODUCT = 'true' (totalMeds)\n        currentFlowFile = session.putAttribute(currentFlowFile, 'totalMeds', countIsProductTrue.toString())\n    }\n\n    // Transferir para o relacionamento de sucesso\n    session.transfer(currentFlowFile, REL_SUCCESS)\n}",
            "groovyx-failure-strategy" : "rollback"
          },
          "propertyDescriptors" : {
            "groovyx-script-body" : {
              "displayName" : "Script Body",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "groovyx-script-body",
              "sensitive" : false
            },
            "groovyx-failure-strategy" : {
              "displayName" : "Failure strategy",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "groovyx-failure-strategy",
              "sensitive" : false
            },
            "groovyx-additional-classpath" : {
              "displayName" : "Additional classpath",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "groovyx-additional-classpath",
              "sensitive" : false
            },
            "groovyx-script-file" : {
              "displayName" : "Script File",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "groovyx-script-file",
              "resourceDefinition" : {
                "cardinality" : "SINGLE",
                "resourceTypes" : [ "FILE" ]
              },
              "sensitive" : false
            }
          },
          "retriedRelationships" : [ ],
          "retryCount" : 10,
          "runDurationMillis" : 0,
          "scheduledState" : "ENABLED",
          "schedulingPeriod" : "0 sec",
          "schedulingStrategy" : "TIMER_DRIVEN",
          "style" : { },
          "type" : "org.apache.nifi.processors.groovyx.ExecuteGroovyScript",
          "yieldDuration" : "1 sec"
        }, {
          "autoTerminatedRelationships" : [ ],
          "backoffMechanism" : "PENALIZE_FLOWFILE",
          "bulletinLevel" : "WARN",
          "bundle" : {
            "artifact" : "nifi-standard-nar",
            "group" : "org.apache.nifi",
            "version" : "2.0.0"
          },
          "comments" : "",
          "componentType" : "PROCESSOR",
          "concurrentlySchedulableTaskCount" : 1,
          "executionNode" : "ALL",
          "groupIdentifier" : "1b06d76b-c051-3e5e-8c75-accd5ee0045b",
          "identifier" : "5ed4c3ad-604d-3bbf-abc0-ada8a7156374",
          "maxBackoffPeriod" : "10 mins",
          "name" : "separa medicamento de comp",
          "penaltyDuration" : "30 sec",
          "position" : {
            "x" : 328.0,
            "y" : 696.0
          },
          "properties" : {
            "Routing Strategy" : "Route to Property name",
            "medicamento" : "${enrichment.role:toString():contains('ORIGINAL')}"
          },
          "propertyDescriptors" : {
            "Routing Strategy" : {
              "displayName" : "Routing Strategy",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Routing Strategy",
              "sensitive" : false
            },
            "medicamento" : {
              "displayName" : "medicamento",
              "dynamic" : true,
              "identifiesControllerService" : false,
              "name" : "medicamento",
              "sensitive" : false
            }
          },
          "retriedRelationships" : [ ],
          "retryCount" : 10,
          "runDurationMillis" : 25,
          "scheduledState" : "ENABLED",
          "schedulingPeriod" : "0 sec",
          "schedulingStrategy" : "TIMER_DRIVEN",
          "style" : { },
          "type" : "org.apache.nifi.processors.standard.RouteOnAttribute",
          "yieldDuration" : "1 sec"
        }, {
          "autoTerminatedRelationships" : [ ],
          "backoffMechanism" : "PENALIZE_FLOWFILE",
          "bulletinLevel" : "WARN",
          "bundle" : {
            "artifact" : "nifi-standard-nar",
            "group" : "org.apache.nifi",
            "version" : "2.0.0"
          },
          "comments" : "",
          "componentType" : "PROCESSOR",
          "concurrentlySchedulableTaskCount" : 1,
          "executionNode" : "ALL",
          "groupIdentifier" : "1b06d76b-c051-3e5e-8c75-accd5ee0045b",
          "identifier" : "18dae908-feb3-3fda-b27c-4f1e7c8634a6",
          "maxBackoffPeriod" : "10 mins",
          "name" : "separa medicamento de comp",
          "penaltyDuration" : "30 sec",
          "position" : {
            "x" : -480.0,
            "y" : 1304.0
          },
          "properties" : {
            "Routing Strategy" : "Route to Property name",
            "medicamento" : "${enrichment.role:toString():contains('ORIGINAL')}"
          },
          "propertyDescriptors" : {
            "Routing Strategy" : {
              "displayName" : "Routing Strategy",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Routing Strategy",
              "sensitive" : false
            },
            "medicamento" : {
              "displayName" : "medicamento",
              "dynamic" : true,
              "identifiesControllerService" : false,
              "name" : "medicamento",
              "sensitive" : false
            }
          },
          "retriedRelationships" : [ ],
          "retryCount" : 10,
          "runDurationMillis" : 25,
          "scheduledState" : "ENABLED",
          "schedulingPeriod" : "0 sec",
          "schedulingStrategy" : "TIMER_DRIVEN",
          "style" : { },
          "type" : "org.apache.nifi.processors.standard.RouteOnAttribute",
          "yieldDuration" : "1 sec"
        } ],
        "remoteProcessGroups" : [ ],
        "scheduledState" : "ENABLED",
        "statelessFlowTimeout" : "1 min"
      }, {
        "comments" : "",
        "componentType" : "PROCESS_GROUP",
        "connections" : [ {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "8bf515c8-b747-3a58-8de3-91a81b8c9a69",
            "id" : "b9deb093-eac6-3eaf-96fa-fc14d5a0585c",
            "name" : "Verificou todos medicamentos",
            "type" : "PROCESSOR"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "8bf515c8-b747-3a58-8de3-91a81b8c9a69",
          "identifier" : "30ce4648-8f2c-397d-babc-5dd374acdee5",
          "labelIndex" : 1,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ ],
          "selectedRelationships" : [ "joined" ],
          "source" : {
            "comments" : "",
            "groupId" : "8bf515c8-b747-3a58-8de3-91a81b8c9a69",
            "id" : "658ff658-2217-3b88-b7c2-547a57ff76f1",
            "name" : "JoinEnrichment",
            "type" : "PROCESSOR"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "8bf515c8-b747-3a58-8de3-91a81b8c9a69",
            "id" : "fed48525-d09a-308d-b7a6-8c17589fdb23",
            "name" : "isFinished ?",
            "type" : "PROCESSOR"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "8bf515c8-b747-3a58-8de3-91a81b8c9a69",
          "identifier" : "88b07e15-2bd6-3689-93cd-c3cdeb3abfbe",
          "labelIndex" : 1,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ ],
          "selectedRelationships" : [ "medicamento" ],
          "source" : {
            "comments" : "",
            "groupId" : "8bf515c8-b747-3a58-8de3-91a81b8c9a69",
            "id" : "d6275593-592b-3037-b337-90561c8b36a5",
            "name" : "separa medicamento de comp",
            "type" : "PROCESSOR"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "8bf515c8-b747-3a58-8de3-91a81b8c9a69",
            "id" : "d923eed0-8000-304f-8686-32f9b092e5e3",
            "name" : "Funnel",
            "type" : "FUNNEL"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "8bf515c8-b747-3a58-8de3-91a81b8c9a69",
          "identifier" : "c1f577fd-8ad0-319e-82d0-c463d2c0981c",
          "labelIndex" : 1,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ "org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer" ],
          "selectedRelationships" : [ "original" ],
          "source" : {
            "comments" : "",
            "groupId" : "8bf515c8-b747-3a58-8de3-91a81b8c9a69",
            "id" : "658ff658-2217-3b88-b7c2-547a57ff76f1",
            "name" : "JoinEnrichment",
            "type" : "PROCESSOR"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "8bf515c8-b747-3a58-8de3-91a81b8c9a69",
            "id" : "c12ddf8b-d27f-389a-bd65-5d5e5133c7e3",
            "name" : "Incrementa iteracao",
            "type" : "PROCESSOR"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "8bf515c8-b747-3a58-8de3-91a81b8c9a69",
          "identifier" : "415d0fde-ec7e-3273-a344-a7acd7ab3ae9",
          "labelIndex" : 1,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ "org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer" ],
          "selectedRelationships" : [ "" ],
          "source" : {
            "comments" : "",
            "groupId" : "8bf515c8-b747-3a58-8de3-91a81b8c9a69",
            "id" : "e915dff3-c363-35cf-b6ee-2ce05273621d",
            "name" : "Funnel",
            "type" : "FUNNEL"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "8bf515c8-b747-3a58-8de3-91a81b8c9a69",
            "id" : "e915dff3-c363-35cf-b6ee-2ce05273621d",
            "name" : "Funnel",
            "type" : "FUNNEL"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "8bf515c8-b747-3a58-8de3-91a81b8c9a69",
          "identifier" : "36ee76dd-bf18-3f03-a4fa-dbf3ce450a9f",
          "labelIndex" : 1,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ "org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer" ],
          "selectedRelationships" : [ "unmatched" ],
          "source" : {
            "comments" : "",
            "groupId" : "8bf515c8-b747-3a58-8de3-91a81b8c9a69",
            "id" : "10821bf8-124d-3fc2-9bf6-8b353cd1dc48",
            "name" : "APENAS_COMP",
            "type" : "PROCESSOR"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "8bf515c8-b747-3a58-8de3-91a81b8c9a69",
            "id" : "c2f16c23-d63d-324e-85bf-f18d089f3234",
            "name" : "separa medicamento de comp",
            "type" : "PROCESSOR"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "8bf515c8-b747-3a58-8de3-91a81b8c9a69",
          "identifier" : "67b81a06-f6ff-3e56-9a01-98e74a21fda1",
          "labelIndex" : 1,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ ],
          "selectedRelationships" : [ "unmatched" ],
          "source" : {
            "comments" : "",
            "groupId" : "8bf515c8-b747-3a58-8de3-91a81b8c9a69",
            "id" : "fed48525-d09a-308d-b7a6-8c17589fdb23",
            "name" : "isFinished ?",
            "type" : "PROCESSOR"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "8bf515c8-b747-3a58-8de3-91a81b8c9a69",
            "id" : "f95173af-e406-3880-9d7f-b7c22926118d",
            "name" : "Interacao = 0",
            "type" : "PROCESSOR"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "8bf515c8-b747-3a58-8de3-91a81b8c9a69",
          "identifier" : "e3fdfc3e-ce25-3781-87c0-25659f7475a6",
          "labelIndex" : 1,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ ],
          "selectedRelationships" : [ "" ],
          "source" : {
            "groupId" : "8bf515c8-b747-3a58-8de3-91a81b8c9a69",
            "id" : "50f1173b-f19e-3a5a-97a4-e15abb0b4ef4",
            "name" : "Input",
            "type" : "INPUT_PORT"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "8bf515c8-b747-3a58-8de3-91a81b8c9a69",
            "id" : "c2341c58-a977-301e-be91-f9a9ab6a3d65",
            "name" : "Funnel",
            "type" : "FUNNEL"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "8bf515c8-b747-3a58-8de3-91a81b8c9a69",
          "identifier" : "2c8c6d68-4601-3019-96a2-603d2c0b39cb",
          "labelIndex" : 1,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ ],
          "selectedRelationships" : [ "success" ],
          "source" : {
            "comments" : "",
            "groupId" : "8bf515c8-b747-3a58-8de3-91a81b8c9a69",
            "id" : "cdbafe09-6aec-3146-bde8-d66f009d8b47",
            "name" : "Verificou todos medicamentos",
            "type" : "PROCESSOR"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "8bf515c8-b747-3a58-8de3-91a81b8c9a69",
            "id" : "c2f16c23-d63d-324e-85bf-f18d089f3234",
            "name" : "separa medicamento de comp",
            "type" : "PROCESSOR"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "8bf515c8-b747-3a58-8de3-91a81b8c9a69",
          "identifier" : "c69f85e4-4d75-3070-bbbf-0c2c99e187b0",
          "labelIndex" : 1,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ ],
          "selectedRelationships" : [ "success" ],
          "source" : {
            "comments" : "",
            "groupId" : "8bf515c8-b747-3a58-8de3-91a81b8c9a69",
            "id" : "9e2d14a0-8edd-352c-a801-49aed01957e4",
            "name" : "COUNT MEDS & COMP",
            "type" : "PROCESSOR"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "8bf515c8-b747-3a58-8de3-91a81b8c9a69",
            "id" : "9e2d14a0-8edd-352c-a801-49aed01957e4",
            "name" : "COUNT MEDS & COMP",
            "type" : "PROCESSOR"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "8bf515c8-b747-3a58-8de3-91a81b8c9a69",
          "identifier" : "2254a6d4-027f-3428-ab84-1921e71235ed",
          "labelIndex" : 1,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ ],
          "selectedRelationships" : [ "success" ],
          "source" : {
            "comments" : "",
            "groupId" : "8bf515c8-b747-3a58-8de3-91a81b8c9a69",
            "id" : "f95173af-e406-3880-9d7f-b7c22926118d",
            "name" : "Interacao = 0",
            "type" : "PROCESSOR"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "8bf515c8-b747-3a58-8de3-91a81b8c9a69",
            "id" : "658ff658-2217-3b88-b7c2-547a57ff76f1",
            "name" : "JoinEnrichment",
            "type" : "PROCESSOR"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "8bf515c8-b747-3a58-8de3-91a81b8c9a69",
          "identifier" : "45a62135-c95f-3558-b868-f39495b6bf81",
          "labelIndex" : 1,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ "org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer" ],
          "selectedRelationships" : [ "unmatched" ],
          "source" : {
            "comments" : "",
            "groupId" : "8bf515c8-b747-3a58-8de3-91a81b8c9a69",
            "id" : "c2f16c23-d63d-324e-85bf-f18d089f3234",
            "name" : "separa medicamento de comp",
            "type" : "PROCESSOR"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "groupId" : "8bf515c8-b747-3a58-8de3-91a81b8c9a69",
            "id" : "dfdd7f99-5054-3438-b73e-ce114e53b7bb",
            "name" : "Output",
            "type" : "OUTPUT_PORT"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "8bf515c8-b747-3a58-8de3-91a81b8c9a69",
          "identifier" : "24edbdef-5e2e-33f2-b523-46b3c5cd8c12",
          "labelIndex" : 1,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ ],
          "selectedRelationships" : [ "" ],
          "source" : {
            "comments" : "",
            "groupId" : "8bf515c8-b747-3a58-8de3-91a81b8c9a69",
            "id" : "c2341c58-a977-301e-be91-f9a9ab6a3d65",
            "name" : "Funnel",
            "type" : "FUNNEL"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "8bf515c8-b747-3a58-8de3-91a81b8c9a69",
            "id" : "c2f16c23-d63d-324e-85bf-f18d089f3234",
            "name" : "separa medicamento de comp",
            "type" : "PROCESSOR"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "8bf515c8-b747-3a58-8de3-91a81b8c9a69",
          "identifier" : "238f1b38-69e2-39ac-ba95-cea74fc72bec",
          "labelIndex" : 1,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ ],
          "selectedRelationships" : [ "unmatched" ],
          "source" : {
            "comments" : "",
            "groupId" : "8bf515c8-b747-3a58-8de3-91a81b8c9a69",
            "id" : "d6275593-592b-3037-b337-90561c8b36a5",
            "name" : "separa medicamento de comp",
            "type" : "PROCESSOR"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ {
            "x" : 768.0,
            "y" : 1696.0
          } ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "8bf515c8-b747-3a58-8de3-91a81b8c9a69",
            "id" : "e915dff3-c363-35cf-b6ee-2ce05273621d",
            "name" : "Funnel",
            "type" : "FUNNEL"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "8bf515c8-b747-3a58-8de3-91a81b8c9a69",
          "identifier" : "536a0089-1a0d-3b4d-92d4-01c8db9435c8",
          "labelIndex" : 1,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ "org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer" ],
          "selectedRelationships" : [ "timeout" ],
          "source" : {
            "comments" : "",
            "groupId" : "8bf515c8-b747-3a58-8de3-91a81b8c9a69",
            "id" : "658ff658-2217-3b88-b7c2-547a57ff76f1",
            "name" : "JoinEnrichment",
            "type" : "PROCESSOR"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "8bf515c8-b747-3a58-8de3-91a81b8c9a69",
            "id" : "e915dff3-c363-35cf-b6ee-2ce05273621d",
            "name" : "Funnel",
            "type" : "FUNNEL"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "8bf515c8-b747-3a58-8de3-91a81b8c9a69",
          "identifier" : "d43b39a6-84cf-37c6-aae8-7725aa5cb500",
          "labelIndex" : 1,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ "org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer" ],
          "selectedRelationships" : [ "failure" ],
          "source" : {
            "comments" : "",
            "groupId" : "8bf515c8-b747-3a58-8de3-91a81b8c9a69",
            "id" : "658ff658-2217-3b88-b7c2-547a57ff76f1",
            "name" : "JoinEnrichment",
            "type" : "PROCESSOR"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "8bf515c8-b747-3a58-8de3-91a81b8c9a69",
            "id" : "d6275593-592b-3037-b337-90561c8b36a5",
            "name" : "separa medicamento de comp",
            "type" : "PROCESSOR"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "8bf515c8-b747-3a58-8de3-91a81b8c9a69",
          "identifier" : "19e2ea99-d50e-31f0-8a4c-34a1e7b057d0",
          "labelIndex" : 1,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ ],
          "selectedRelationships" : [ "success" ],
          "source" : {
            "comments" : "",
            "groupId" : "8bf515c8-b747-3a58-8de3-91a81b8c9a69",
            "id" : "c12ddf8b-d27f-389a-bd65-5d5e5133c7e3",
            "name" : "Incrementa iteracao",
            "type" : "PROCESSOR"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "8bf515c8-b747-3a58-8de3-91a81b8c9a69",
            "id" : "cdbafe09-6aec-3146-bde8-d66f009d8b47",
            "name" : "Verificou todos medicamentos",
            "type" : "PROCESSOR"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "8bf515c8-b747-3a58-8de3-91a81b8c9a69",
          "identifier" : "97cd56e8-3faa-35d7-9491-19c63f626b06",
          "labelIndex" : 1,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ "org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer" ],
          "selectedRelationships" : [ "isFinished" ],
          "source" : {
            "comments" : "",
            "groupId" : "8bf515c8-b747-3a58-8de3-91a81b8c9a69",
            "id" : "fed48525-d09a-308d-b7a6-8c17589fdb23",
            "name" : "isFinished ?",
            "type" : "PROCESSOR"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ {
            "x" : 48.0,
            "y" : 1520.0
          } ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "8bf515c8-b747-3a58-8de3-91a81b8c9a69",
            "id" : "658ff658-2217-3b88-b7c2-547a57ff76f1",
            "name" : "JoinEnrichment",
            "type" : "PROCESSOR"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "8bf515c8-b747-3a58-8de3-91a81b8c9a69",
          "identifier" : "02e69f57-b12a-3f37-bb3a-006195ddea20",
          "labelIndex" : 1,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ "org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer" ],
          "selectedRelationships" : [ "medicamento" ],
          "source" : {
            "comments" : "",
            "groupId" : "8bf515c8-b747-3a58-8de3-91a81b8c9a69",
            "id" : "c2f16c23-d63d-324e-85bf-f18d089f3234",
            "name" : "separa medicamento de comp",
            "type" : "PROCESSOR"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "8bf515c8-b747-3a58-8de3-91a81b8c9a69",
            "id" : "c2341c58-a977-301e-be91-f9a9ab6a3d65",
            "name" : "Funnel",
            "type" : "FUNNEL"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "8bf515c8-b747-3a58-8de3-91a81b8c9a69",
          "identifier" : "cf8a65ce-a5fe-3740-9ed7-d4b3825d2cde",
          "labelIndex" : 1,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ ],
          "selectedRelationships" : [ "success" ],
          "source" : {
            "comments" : "",
            "groupId" : "8bf515c8-b747-3a58-8de3-91a81b8c9a69",
            "id" : "b9deb093-eac6-3eaf-96fa-fc14d5a0585c",
            "name" : "Verificou todos medicamentos",
            "type" : "PROCESSOR"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "8bf515c8-b747-3a58-8de3-91a81b8c9a69",
            "id" : "10821bf8-124d-3fc2-9bf6-8b353cd1dc48",
            "name" : "APENAS_COMP",
            "type" : "PROCESSOR"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "8bf515c8-b747-3a58-8de3-91a81b8c9a69",
          "identifier" : "9abb18ca-80d3-3553-a599-1e87e2e6dd9e",
          "labelIndex" : 1,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ "org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer" ],
          "selectedRelationships" : [ "" ],
          "source" : {
            "comments" : "",
            "groupId" : "8bf515c8-b747-3a58-8de3-91a81b8c9a69",
            "id" : "d923eed0-8000-304f-8686-32f9b092e5e3",
            "name" : "Funnel",
            "type" : "FUNNEL"
          },
          "zIndex" : 0
        } ],
        "controllerServices" : [ ],
        "defaultBackPressureDataSizeThreshold" : "1 GB",
        "defaultBackPressureObjectThreshold" : 10000,
        "defaultFlowFileExpiration" : "0 sec",
        "executionEngine" : "INHERITED",
        "flowFileConcurrency" : "UNBOUNDED",
        "flowFileOutboundPolicy" : "STREAM_WHEN_AVAILABLE",
        "funnels" : [ {
          "componentType" : "FUNNEL",
          "groupIdentifier" : "8bf515c8-b747-3a58-8de3-91a81b8c9a69",
          "identifier" : "d923eed0-8000-304f-8686-32f9b092e5e3",
          "position" : {
            "x" : 1856.0,
            "y" : 1872.0
          }
        }, {
          "componentType" : "FUNNEL",
          "groupIdentifier" : "8bf515c8-b747-3a58-8de3-91a81b8c9a69",
          "identifier" : "e915dff3-c363-35cf-b6ee-2ce05273621d",
          "position" : {
            "x" : 1264.0,
            "y" : 1648.0
          }
        }, {
          "componentType" : "FUNNEL",
          "groupIdentifier" : "8bf515c8-b747-3a58-8de3-91a81b8c9a69",
          "identifier" : "c2341c58-a977-301e-be91-f9a9ab6a3d65",
          "position" : {
            "x" : 10.125,
            "y" : 2318.399299621582
          }
        } ],
        "groupIdentifier" : "592c6b23-e212-35de-b21e-e9bd75285c33",
        "identifier" : "8bf515c8-b747-3a58-8de3-91a81b8c9a69",
        "inputPorts" : [ {
          "allowRemoteAccess" : false,
          "componentType" : "INPUT_PORT",
          "concurrentlySchedulableTaskCount" : 1,
          "groupIdentifier" : "8bf515c8-b747-3a58-8de3-91a81b8c9a69",
          "identifier" : "50f1173b-f19e-3a5a-97a4-e15abb0b4ef4",
          "name" : "Input",
          "portFunction" : "STANDARD",
          "position" : {
            "x" : -376.0,
            "y" : -104.0
          },
          "scheduledState" : "ENABLED",
          "type" : "INPUT_PORT"
        } ],
        "labels" : [ ],
        "maxConcurrentTasks" : 1,
        "name" : "Copy of Copy of Copy of Copy of Copy of Copy of Join",
        "outputPorts" : [ {
          "allowRemoteAccess" : false,
          "componentType" : "OUTPUT_PORT",
          "concurrentlySchedulableTaskCount" : 1,
          "groupIdentifier" : "8bf515c8-b747-3a58-8de3-91a81b8c9a69",
          "identifier" : "dfdd7f99-5054-3438-b73e-ce114e53b7bb",
          "name" : "Output",
          "portFunction" : "STANDARD",
          "position" : {
            "x" : -80.0,
            "y" : 2528.0
          },
          "scheduledState" : "ENABLED",
          "type" : "OUTPUT_PORT"
        } ],
        "parameterContextName" : "DEV",
        "position" : {
          "x" : -288.0,
          "y" : 552.0
        },
        "processGroups" : [ ],
        "processors" : [ {
          "autoTerminatedRelationships" : [ ],
          "backoffMechanism" : "PENALIZE_FLOWFILE",
          "bulletinLevel" : "WARN",
          "bundle" : {
            "artifact" : "nifi-update-attribute-nar",
            "group" : "org.apache.nifi",
            "version" : "2.0.0"
          },
          "comments" : "",
          "componentType" : "PROCESSOR",
          "concurrentlySchedulableTaskCount" : 1,
          "executionNode" : "ALL",
          "groupIdentifier" : "8bf515c8-b747-3a58-8de3-91a81b8c9a69",
          "identifier" : "b9deb093-eac6-3eaf-96fa-fc14d5a0585c",
          "maxBackoffPeriod" : "10 mins",
          "name" : "Verificou todos medicamentos",
          "penaltyDuration" : "30 sec",
          "position" : {
            "x" : -424.0,
            "y" : 2088.0
          },
          "properties" : {
            "Store State" : "Do not store state",
            "canonical-value-lookup-cache-size" : "100",
            "finished" : "true"
          },
          "propertyDescriptors" : {
            "Delete Attributes Expression" : {
              "displayName" : "Delete Attributes Expression",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Delete Attributes Expression",
              "sensitive" : false
            },
            "Store State" : {
              "displayName" : "Store State",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Store State",
              "sensitive" : false
            },
            "canonical-value-lookup-cache-size" : {
              "displayName" : "Cache Value Lookup Cache Size",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "canonical-value-lookup-cache-size",
              "sensitive" : false
            },
            "finished" : {
              "displayName" : "finished",
              "dynamic" : true,
              "identifiesControllerService" : false,
              "name" : "finished",
              "sensitive" : false
            },
            "Stateful Variables Initial Value" : {
              "displayName" : "Stateful Variables Initial Value",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Stateful Variables Initial Value",
              "sensitive" : false
            }
          },
          "retriedRelationships" : [ ],
          "retryCount" : 10,
          "runDurationMillis" : 25,
          "scheduledState" : "ENABLED",
          "schedulingPeriod" : "0 sec",
          "schedulingStrategy" : "TIMER_DRIVEN",
          "style" : { },
          "type" : "org.apache.nifi.processors.attributes.UpdateAttribute",
          "yieldDuration" : "1 sec"
        }, {
          "autoTerminatedRelationships" : [ "failure" ],
          "backoffMechanism" : "PENALIZE_FLOWFILE",
          "bulletinLevel" : "WARN",
          "bundle" : {
            "artifact" : "nifi-groovyx-nar",
            "group" : "org.apache.nifi",
            "version" : "2.0.0"
          },
          "comments" : "",
          "componentType" : "PROCESSOR",
          "concurrentlySchedulableTaskCount" : 1,
          "executionNode" : "ALL",
          "groupIdentifier" : "8bf515c8-b747-3a58-8de3-91a81b8c9a69",
          "identifier" : "c12ddf8b-d27f-389a-bd65-5d5e5133c7e3",
          "maxBackoffPeriod" : "10 mins",
          "name" : "Incrementa iteracao",
          "penaltyDuration" : "30 sec",
          "position" : {
            "x" : 945.8829511843696,
            "y" : 889.9643330171349
          },
          "properties" : {
            "groovyx-script-body" : "// Obtém o FlowFile da sessão\ndef flowFile = session.get()\nif (!flowFile) return // Se não houver FlowFile, sai do script\n\n// Recupera o valor atual do atributo 'iteracao' (se existir), ou define como 0\ndef iteracao = flowFile.getAttribute('iteracao')?.toInteger() ?: 0\n\n// Incrementa o valor de 'iteracao'\niteracao++\n\n// Atribui o valor incrementado de volta ao FlowFile\nflowFile = session.putAttribute(flowFile, 'iteracao', iteracao.toString())\n\n// Transferir para o relacionamento de sucesso\nsession.transfer(flowFile, REL_SUCCESS)",
            "groovyx-failure-strategy" : "rollback"
          },
          "propertyDescriptors" : {
            "groovyx-script-body" : {
              "displayName" : "Script Body",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "groovyx-script-body",
              "sensitive" : false
            },
            "groovyx-failure-strategy" : {
              "displayName" : "Failure strategy",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "groovyx-failure-strategy",
              "sensitive" : false
            },
            "groovyx-additional-classpath" : {
              "displayName" : "Additional classpath",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "groovyx-additional-classpath",
              "sensitive" : false
            },
            "groovyx-script-file" : {
              "displayName" : "Script File",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "groovyx-script-file",
              "resourceDefinition" : {
                "cardinality" : "SINGLE",
                "resourceTypes" : [ "FILE" ]
              },
              "sensitive" : false
            }
          },
          "retriedRelationships" : [ ],
          "retryCount" : 10,
          "runDurationMillis" : 0,
          "scheduledState" : "ENABLED",
          "schedulingPeriod" : "0 sec",
          "schedulingStrategy" : "TIMER_DRIVEN",
          "style" : { },
          "type" : "org.apache.nifi.processors.groovyx.ExecuteGroovyScript",
          "yieldDuration" : "1 sec"
        }, {
          "autoTerminatedRelationships" : [ "failure" ],
          "backoffMechanism" : "PENALIZE_FLOWFILE",
          "bulletinLevel" : "WARN",
          "bundle" : {
            "artifact" : "nifi-groovyx-nar",
            "group" : "org.apache.nifi",
            "version" : "2.0.0"
          },
          "comments" : "",
          "componentType" : "PROCESSOR",
          "concurrentlySchedulableTaskCount" : 1,
          "executionNode" : "ALL",
          "groupIdentifier" : "8bf515c8-b747-3a58-8de3-91a81b8c9a69",
          "identifier" : "9e2d14a0-8edd-352c-a801-49aed01957e4",
          "maxBackoffPeriod" : "10 mins",
          "name" : "COUNT MEDS & COMP",
          "penaltyDuration" : "30 sec",
          "position" : {
            "x" : -472.0,
            "y" : 576.0
          },
          "properties" : {
            "groovyx-script-body" : "// Obter todos os FlowFiles da fila\ndef flowFiles = []\ndef flowFile = session.get()\n\n// Contadores para FlowFiles com _IS_PRODUCT\ndef countIsProductFalse = 0\ndef countIsProductTrue = 0\n\n// Enquanto houver FlowFiles, adiciona à lista e conta os FlowFiles com o atributo '_IS_PRODUCT'\nwhile (flowFile != null) {\n    flowFiles.add(flowFile)\n\n    // Verifica o valor do atributo '_IS_PRODUCT' e conta de acordo\n    def isProduct = flowFile.getAttribute('_IS_PRODUCT')\n    if (isProduct == 'false') {\n        countIsProductFalse++\n    } else if (isProduct == 'true') {\n        countIsProductTrue++\n    }\n\n    // Obter o próximo FlowFile\n    flowFile = session.get()\n}\n\n// Atribuir os valores de totalComp e totalMeds somente aos FlowFiles com '_IS_PRODUCT' == 'true'\nflowFiles.each { currentFlowFile ->\n    def isProduct = currentFlowFile.getAttribute('_IS_PRODUCT')\n\n    // Se o FlowFile tem _IS_PRODUCT = 'true', atribui os valores de totalComp e totalMeds\n    if (isProduct == 'true') {\n        // Atribui o número de FlowFiles com _IS_PRODUCT = 'false' (totalComp)\n        currentFlowFile = session.putAttribute(currentFlowFile, 'totalComp', countIsProductFalse.toString())\n        // Atribui o número de FlowFiles com _IS_PRODUCT = 'true' (totalMeds)\n        currentFlowFile = session.putAttribute(currentFlowFile, 'totalMeds', countIsProductTrue.toString())\n    }\n\n    // Transferir para o relacionamento de sucesso\n    session.transfer(currentFlowFile, REL_SUCCESS)\n}",
            "groovyx-failure-strategy" : "rollback"
          },
          "propertyDescriptors" : {
            "groovyx-script-body" : {
              "displayName" : "Script Body",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "groovyx-script-body",
              "sensitive" : false
            },
            "groovyx-failure-strategy" : {
              "displayName" : "Failure strategy",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "groovyx-failure-strategy",
              "sensitive" : false
            },
            "groovyx-additional-classpath" : {
              "displayName" : "Additional classpath",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "groovyx-additional-classpath",
              "sensitive" : false
            },
            "groovyx-script-file" : {
              "displayName" : "Script File",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "groovyx-script-file",
              "resourceDefinition" : {
                "cardinality" : "SINGLE",
                "resourceTypes" : [ "FILE" ]
              },
              "sensitive" : false
            }
          },
          "retriedRelationships" : [ ],
          "retryCount" : 10,
          "runDurationMillis" : 0,
          "scheduledState" : "ENABLED",
          "schedulingPeriod" : "0 sec",
          "schedulingStrategy" : "TIMER_DRIVEN",
          "style" : { },
          "type" : "org.apache.nifi.processors.groovyx.ExecuteGroovyScript",
          "yieldDuration" : "1 sec"
        }, {
          "autoTerminatedRelationships" : [ ],
          "backoffMechanism" : "PENALIZE_FLOWFILE",
          "bulletinLevel" : "WARN",
          "bundle" : {
            "artifact" : "nifi-update-attribute-nar",
            "group" : "org.apache.nifi",
            "version" : "2.0.0"
          },
          "comments" : "",
          "componentType" : "PROCESSOR",
          "concurrentlySchedulableTaskCount" : 1,
          "executionNode" : "ALL",
          "groupIdentifier" : "8bf515c8-b747-3a58-8de3-91a81b8c9a69",
          "identifier" : "cdbafe09-6aec-3146-bde8-d66f009d8b47",
          "maxBackoffPeriod" : "10 mins",
          "name" : "Verificou todos medicamentos",
          "penaltyDuration" : "30 sec",
          "position" : {
            "x" : 144.0,
            "y" : 2016.0
          },
          "properties" : {
            "Store State" : "Do not store state",
            "canonical-value-lookup-cache-size" : "100",
            "finished" : "true"
          },
          "propertyDescriptors" : {
            "Delete Attributes Expression" : {
              "displayName" : "Delete Attributes Expression",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Delete Attributes Expression",
              "sensitive" : false
            },
            "Store State" : {
              "displayName" : "Store State",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Store State",
              "sensitive" : false
            },
            "canonical-value-lookup-cache-size" : {
              "displayName" : "Cache Value Lookup Cache Size",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "canonical-value-lookup-cache-size",
              "sensitive" : false
            },
            "finished" : {
              "displayName" : "finished",
              "dynamic" : true,
              "identifiesControllerService" : false,
              "name" : "finished",
              "sensitive" : false
            },
            "Stateful Variables Initial Value" : {
              "displayName" : "Stateful Variables Initial Value",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Stateful Variables Initial Value",
              "sensitive" : false
            }
          },
          "retriedRelationships" : [ ],
          "retryCount" : 10,
          "runDurationMillis" : 25,
          "scheduledState" : "ENABLED",
          "schedulingPeriod" : "0 sec",
          "schedulingStrategy" : "TIMER_DRIVEN",
          "style" : { },
          "type" : "org.apache.nifi.processors.attributes.UpdateAttribute",
          "yieldDuration" : "1 sec"
        }, {
          "autoTerminatedRelationships" : [ ],
          "backoffMechanism" : "PENALIZE_FLOWFILE",
          "bulletinLevel" : "WARN",
          "bundle" : {
            "artifact" : "nifi-standard-nar",
            "group" : "org.apache.nifi",
            "version" : "2.0.0"
          },
          "comments" : "",
          "componentType" : "PROCESSOR",
          "concurrentlySchedulableTaskCount" : 1,
          "executionNode" : "ALL",
          "groupIdentifier" : "8bf515c8-b747-3a58-8de3-91a81b8c9a69",
          "identifier" : "658ff658-2217-3b88-b7c2-547a57ff76f1",
          "maxBackoffPeriod" : "10 mins",
          "name" : "JoinEnrichment",
          "penaltyDuration" : "30 sec",
          "position" : {
            "x" : -472.0,
            "y" : 1792.0
          },
          "properties" : {
            "dbf-default-precision" : "10",
            "Join Strategy" : "Wrapper",
            "Insertion Record Path" : "/",
            "Timeout" : "2 sec",
            "Original Record Reader" : "b64ecb7e-25da-3d17-b641-5c2582c7a71a",
            "Record Writer" : "0fc90508-430b-387c-8226-4247f37ffa57",
            "Enrichment Record Reader" : "b64ecb7e-25da-3d17-b641-5c2582c7a71a",
            "dbf-default-scale" : "0",
            "Maximum number of Bins" : "10000",
            "SQL" : "SELECT original.*, enrichment.* \nFROM original \nLEFT OUTER JOIN enrichment \nON original.id = enrichment.id"
          },
          "propertyDescriptors" : {
            "dbf-default-precision" : {
              "displayName" : "Default Decimal Precision",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "dbf-default-precision",
              "sensitive" : false
            },
            "Join Strategy" : {
              "displayName" : "Join Strategy",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Join Strategy",
              "sensitive" : false
            },
            "Insertion Record Path" : {
              "displayName" : "Insertion Record Path",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Insertion Record Path",
              "sensitive" : false
            },
            "Timeout" : {
              "displayName" : "Timeout",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Timeout",
              "sensitive" : false
            },
            "Original Record Reader" : {
              "displayName" : "Original Record Reader",
              "dynamic" : false,
              "identifiesControllerService" : true,
              "name" : "Original Record Reader",
              "sensitive" : false
            },
            "Record Writer" : {
              "displayName" : "Record Writer",
              "dynamic" : false,
              "identifiesControllerService" : true,
              "name" : "Record Writer",
              "sensitive" : false
            },
            "Enrichment Record Reader" : {
              "displayName" : "Enrichment Record Reader",
              "dynamic" : false,
              "identifiesControllerService" : true,
              "name" : "Enrichment Record Reader",
              "sensitive" : false
            },
            "dbf-default-scale" : {
              "displayName" : "Default Decimal Scale",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "dbf-default-scale",
              "sensitive" : false
            },
            "Maximum number of Bins" : {
              "displayName" : "Maximum number of Bins",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Maximum number of Bins",
              "sensitive" : false
            },
            "SQL" : {
              "displayName" : "SQL",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "SQL",
              "sensitive" : false
            }
          },
          "retriedRelationships" : [ ],
          "retryCount" : 10,
          "runDurationMillis" : 0,
          "scheduledState" : "ENABLED",
          "schedulingPeriod" : "0 sec",
          "schedulingStrategy" : "TIMER_DRIVEN",
          "style" : { },
          "type" : "org.apache.nifi.processors.standard.JoinEnrichment",
          "yieldDuration" : "1 sec"
        }, {
          "autoTerminatedRelationships" : [ "medicamento" ],
          "backoffMechanism" : "PENALIZE_FLOWFILE",
          "bulletinLevel" : "WARN",
          "bundle" : {
            "artifact" : "nifi-standard-nar",
            "group" : "org.apache.nifi",
            "version" : "2.0.0"
          },
          "comments" : "",
          "componentType" : "PROCESSOR",
          "concurrentlySchedulableTaskCount" : 1,
          "executionNode" : "ALL",
          "groupIdentifier" : "8bf515c8-b747-3a58-8de3-91a81b8c9a69",
          "identifier" : "10821bf8-124d-3fc2-9bf6-8b353cd1dc48",
          "maxBackoffPeriod" : "10 mins",
          "name" : "APENAS_COMP",
          "penaltyDuration" : "30 sec",
          "position" : {
            "x" : 1608.0,
            "y" : 1360.0
          },
          "properties" : {
            "Routing Strategy" : "Route to Property name",
            "medicamento" : "${enrichment.role:toString():contains('ORIGINAL')}"
          },
          "propertyDescriptors" : {
            "Routing Strategy" : {
              "displayName" : "Routing Strategy",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Routing Strategy",
              "sensitive" : false
            },
            "medicamento" : {
              "displayName" : "medicamento",
              "dynamic" : true,
              "identifiesControllerService" : false,
              "name" : "medicamento",
              "sensitive" : false
            }
          },
          "retriedRelationships" : [ ],
          "retryCount" : 10,
          "runDurationMillis" : 25,
          "scheduledState" : "ENABLED",
          "schedulingPeriod" : "0 sec",
          "schedulingStrategy" : "TIMER_DRIVEN",
          "style" : { },
          "type" : "org.apache.nifi.processors.standard.RouteOnAttribute",
          "yieldDuration" : "1 sec"
        }, {
          "autoTerminatedRelationships" : [ ],
          "backoffMechanism" : "PENALIZE_FLOWFILE",
          "bulletinLevel" : "WARN",
          "bundle" : {
            "artifact" : "nifi-standard-nar",
            "group" : "org.apache.nifi",
            "version" : "2.0.0"
          },
          "comments" : "",
          "componentType" : "PROCESSOR",
          "concurrentlySchedulableTaskCount" : 1,
          "executionNode" : "ALL",
          "groupIdentifier" : "8bf515c8-b747-3a58-8de3-91a81b8c9a69",
          "identifier" : "d6275593-592b-3037-b337-90561c8b36a5",
          "maxBackoffPeriod" : "10 mins",
          "name" : "separa medicamento de comp",
          "penaltyDuration" : "30 sec",
          "position" : {
            "x" : 328.0,
            "y" : 696.0
          },
          "properties" : {
            "Routing Strategy" : "Route to Property name",
            "medicamento" : "${enrichment.role:toString():contains('ORIGINAL')}"
          },
          "propertyDescriptors" : {
            "Routing Strategy" : {
              "displayName" : "Routing Strategy",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Routing Strategy",
              "sensitive" : false
            },
            "medicamento" : {
              "displayName" : "medicamento",
              "dynamic" : true,
              "identifiesControllerService" : false,
              "name" : "medicamento",
              "sensitive" : false
            }
          },
          "retriedRelationships" : [ ],
          "retryCount" : 10,
          "runDurationMillis" : 25,
          "scheduledState" : "ENABLED",
          "schedulingPeriod" : "0 sec",
          "schedulingStrategy" : "TIMER_DRIVEN",
          "style" : { },
          "type" : "org.apache.nifi.processors.standard.RouteOnAttribute",
          "yieldDuration" : "1 sec"
        }, {
          "autoTerminatedRelationships" : [ ],
          "backoffMechanism" : "PENALIZE_FLOWFILE",
          "bulletinLevel" : "WARN",
          "bundle" : {
            "artifact" : "nifi-update-attribute-nar",
            "group" : "org.apache.nifi",
            "version" : "2.0.0"
          },
          "comments" : "",
          "componentType" : "PROCESSOR",
          "concurrentlySchedulableTaskCount" : 1,
          "executionNode" : "ALL",
          "groupIdentifier" : "8bf515c8-b747-3a58-8de3-91a81b8c9a69",
          "identifier" : "f95173af-e406-3880-9d7f-b7c22926118d",
          "maxBackoffPeriod" : "10 mins",
          "name" : "Interacao = 0",
          "penaltyDuration" : "30 sec",
          "position" : {
            "x" : -432.0,
            "y" : 96.0
          },
          "properties" : {
            "iteracao" : "0",
            "Store State" : "Do not store state",
            "canonical-value-lookup-cache-size" : "100"
          },
          "propertyDescriptors" : {
            "Delete Attributes Expression" : {
              "displayName" : "Delete Attributes Expression",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Delete Attributes Expression",
              "sensitive" : false
            },
            "iteracao" : {
              "displayName" : "iteracao",
              "dynamic" : true,
              "identifiesControllerService" : false,
              "name" : "iteracao",
              "sensitive" : false
            },
            "Store State" : {
              "displayName" : "Store State",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Store State",
              "sensitive" : false
            },
            "canonical-value-lookup-cache-size" : {
              "displayName" : "Cache Value Lookup Cache Size",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "canonical-value-lookup-cache-size",
              "sensitive" : false
            },
            "Stateful Variables Initial Value" : {
              "displayName" : "Stateful Variables Initial Value",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Stateful Variables Initial Value",
              "sensitive" : false
            }
          },
          "retriedRelationships" : [ ],
          "retryCount" : 10,
          "runDurationMillis" : 25,
          "scheduledState" : "ENABLED",
          "schedulingPeriod" : "0 sec",
          "schedulingStrategy" : "TIMER_DRIVEN",
          "style" : { },
          "type" : "org.apache.nifi.processors.attributes.UpdateAttribute",
          "yieldDuration" : "1 sec"
        }, {
          "autoTerminatedRelationships" : [ ],
          "backoffMechanism" : "PENALIZE_FLOWFILE",
          "bulletinLevel" : "WARN",
          "bundle" : {
            "artifact" : "nifi-standard-nar",
            "group" : "org.apache.nifi",
            "version" : "2.0.0"
          },
          "comments" : "",
          "componentType" : "PROCESSOR",
          "concurrentlySchedulableTaskCount" : 1,
          "executionNode" : "ALL",
          "groupIdentifier" : "8bf515c8-b747-3a58-8de3-91a81b8c9a69",
          "identifier" : "fed48525-d09a-308d-b7a6-8c17589fdb23",
          "maxBackoffPeriod" : "10 mins",
          "name" : "isFinished ?",
          "penaltyDuration" : "30 sec",
          "position" : {
            "x" : 480.0,
            "y" : 1264.0
          },
          "properties" : {
            "Routing Strategy" : "Route to Property name",
            "isFinished" : "${iteracao:ge(${totalComp})}"
          },
          "propertyDescriptors" : {
            "Routing Strategy" : {
              "displayName" : "Routing Strategy",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Routing Strategy",
              "sensitive" : false
            },
            "isFinished" : {
              "displayName" : "isFinished",
              "dynamic" : true,
              "identifiesControllerService" : false,
              "name" : "isFinished",
              "sensitive" : false
            }
          },
          "retriedRelationships" : [ ],
          "retryCount" : 10,
          "runDurationMillis" : 25,
          "scheduledState" : "ENABLED",
          "schedulingPeriod" : "0 sec",
          "schedulingStrategy" : "TIMER_DRIVEN",
          "style" : { },
          "type" : "org.apache.nifi.processors.standard.RouteOnAttribute",
          "yieldDuration" : "1 sec"
        }, {
          "autoTerminatedRelationships" : [ ],
          "backoffMechanism" : "PENALIZE_FLOWFILE",
          "bulletinLevel" : "WARN",
          "bundle" : {
            "artifact" : "nifi-standard-nar",
            "group" : "org.apache.nifi",
            "version" : "2.0.0"
          },
          "comments" : "",
          "componentType" : "PROCESSOR",
          "concurrentlySchedulableTaskCount" : 1,
          "executionNode" : "ALL",
          "groupIdentifier" : "8bf515c8-b747-3a58-8de3-91a81b8c9a69",
          "identifier" : "c2f16c23-d63d-324e-85bf-f18d089f3234",
          "maxBackoffPeriod" : "10 mins",
          "name" : "separa medicamento de comp",
          "penaltyDuration" : "30 sec",
          "position" : {
            "x" : -480.0,
            "y" : 1304.0
          },
          "properties" : {
            "Routing Strategy" : "Route to Property name",
            "medicamento" : "${enrichment.role:toString():contains('ORIGINAL')}"
          },
          "propertyDescriptors" : {
            "Routing Strategy" : {
              "displayName" : "Routing Strategy",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Routing Strategy",
              "sensitive" : false
            },
            "medicamento" : {
              "displayName" : "medicamento",
              "dynamic" : true,
              "identifiesControllerService" : false,
              "name" : "medicamento",
              "sensitive" : false
            }
          },
          "retriedRelationships" : [ ],
          "retryCount" : 10,
          "runDurationMillis" : 25,
          "scheduledState" : "ENABLED",
          "schedulingPeriod" : "0 sec",
          "schedulingStrategy" : "TIMER_DRIVEN",
          "style" : { },
          "type" : "org.apache.nifi.processors.standard.RouteOnAttribute",
          "yieldDuration" : "1 sec"
        } ],
        "remoteProcessGroups" : [ ],
        "scheduledState" : "ENABLED",
        "statelessFlowTimeout" : "1 min"
      }, {
        "comments" : "",
        "componentType" : "PROCESS_GROUP",
        "connections" : [ {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "groupId" : "4feb7681-3790-33a5-91e8-591bb42b9fe6",
            "id" : "67cd1455-3949-32bd-9d1a-5d3d6f227cb3",
            "name" : "output",
            "type" : "OUTPUT_PORT"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "4feb7681-3790-33a5-91e8-591bb42b9fe6",
          "identifier" : "c6bad6fd-3770-3f92-b34e-70ca5b8cc3ac",
          "labelIndex" : 1,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ ],
          "selectedRelationships" : [ "success" ],
          "source" : {
            "comments" : "",
            "groupId" : "4feb7681-3790-33a5-91e8-591bb42b9fe6",
            "id" : "5dd8f7df-a77c-3720-b930-702d00676c82",
            "name" : "Add DRY_COW",
            "type" : "PROCESSOR"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "4feb7681-3790-33a5-91e8-591bb42b9fe6",
            "id" : "5dd8f7df-a77c-3720-b930-702d00676c82",
            "name" : "Add DRY_COW",
            "type" : "PROCESSOR"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "4feb7681-3790-33a5-91e8-591bb42b9fe6",
          "identifier" : "0a2cdbff-7053-3c54-b84e-35bd381ba012",
          "labelIndex" : 1,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ ],
          "selectedRelationships" : [ "" ],
          "source" : {
            "groupId" : "4feb7681-3790-33a5-91e8-591bb42b9fe6",
            "id" : "ea84bd17-aa4c-3aa2-9576-3399f6023056",
            "name" : "input",
            "type" : "INPUT_PORT"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "groupId" : "4feb7681-3790-33a5-91e8-591bb42b9fe6",
            "id" : "67cd1455-3949-32bd-9d1a-5d3d6f227cb3",
            "name" : "output",
            "type" : "OUTPUT_PORT"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "4feb7681-3790-33a5-91e8-591bb42b9fe6",
          "identifier" : "21324b71-7c15-3cbf-bf30-af73a743149f",
          "labelIndex" : 1,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ ],
          "selectedRelationships" : [ "success" ],
          "source" : {
            "comments" : "",
            "groupId" : "4feb7681-3790-33a5-91e8-591bb42b9fe6",
            "id" : "9f9f85e6-1d71-32c9-a20f-97b78ef5502a",
            "name" : "Add LACTATING",
            "type" : "PROCESSOR"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "4feb7681-3790-33a5-91e8-591bb42b9fe6",
            "id" : "9f9f85e6-1d71-32c9-a20f-97b78ef5502a",
            "name" : "Add LACTATING",
            "type" : "PROCESSOR"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "4feb7681-3790-33a5-91e8-591bb42b9fe6",
          "identifier" : "251c3db2-17f1-3844-9284-e530c23749d7",
          "labelIndex" : 1,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ ],
          "selectedRelationships" : [ "" ],
          "source" : {
            "groupId" : "4feb7681-3790-33a5-91e8-591bb42b9fe6",
            "id" : "ea84bd17-aa4c-3aa2-9576-3399f6023056",
            "name" : "input",
            "type" : "INPUT_PORT"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "groupId" : "4feb7681-3790-33a5-91e8-591bb42b9fe6",
            "id" : "67cd1455-3949-32bd-9d1a-5d3d6f227cb3",
            "name" : "output",
            "type" : "OUTPUT_PORT"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "4feb7681-3790-33a5-91e8-591bb42b9fe6",
          "identifier" : "545fe3bf-6b02-3310-9be9-664ca7b1289c",
          "labelIndex" : 1,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ ],
          "selectedRelationships" : [ "success" ],
          "source" : {
            "comments" : "",
            "groupId" : "4feb7681-3790-33a5-91e8-591bb42b9fe6",
            "id" : "4b6a971b-59a0-3c0c-97f2-900a5b3e746f",
            "name" : "Add CATTLE",
            "type" : "PROCESSOR"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "4feb7681-3790-33a5-91e8-591bb42b9fe6",
            "id" : "4b6a971b-59a0-3c0c-97f2-900a5b3e746f",
            "name" : "Add CATTLE",
            "type" : "PROCESSOR"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "4feb7681-3790-33a5-91e8-591bb42b9fe6",
          "identifier" : "7c1d1c5c-5729-3f56-912b-06bc0580e753",
          "labelIndex" : 1,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ ],
          "selectedRelationships" : [ "" ],
          "source" : {
            "groupId" : "4feb7681-3790-33a5-91e8-591bb42b9fe6",
            "id" : "ea84bd17-aa4c-3aa2-9576-3399f6023056",
            "name" : "input",
            "type" : "INPUT_PORT"
          },
          "zIndex" : 0
        } ],
        "controllerServices" : [ ],
        "defaultBackPressureDataSizeThreshold" : "1 GB",
        "defaultBackPressureObjectThreshold" : 10000,
        "defaultFlowFileExpiration" : "0 sec",
        "executionEngine" : "INHERITED",
        "flowFileConcurrency" : "UNBOUNDED",
        "flowFileOutboundPolicy" : "STREAM_WHEN_AVAILABLE",
        "funnels" : [ ],
        "groupIdentifier" : "592c6b23-e212-35de-b21e-e9bd75285c33",
        "identifier" : "4feb7681-3790-33a5-91e8-591bb42b9fe6",
        "inputPorts" : [ {
          "allowRemoteAccess" : false,
          "componentType" : "INPUT_PORT",
          "concurrentlySchedulableTaskCount" : 1,
          "groupIdentifier" : "4feb7681-3790-33a5-91e8-591bb42b9fe6",
          "identifier" : "ea84bd17-aa4c-3aa2-9576-3399f6023056",
          "name" : "input",
          "portFunction" : "STANDARD",
          "position" : {
            "x" : 800.0,
            "y" : 848.0
          },
          "scheduledState" : "ENABLED",
          "type" : "INPUT_PORT"
        } ],
        "labels" : [ {
          "componentType" : "LABEL",
          "groupIdentifier" : "4feb7681-3790-33a5-91e8-591bb42b9fe6",
          "height" : 150.0,
          "identifier" : "4f74c89d-03ec-371b-b13a-32d12f2f9fec",
          "label" : "APENAS PARA LACTATING, DRY_COW, CATTLE",
          "position" : {
            "x" : 120.0,
            "y" : 888.0
          },
          "style" : {
            "font-size" : "18px"
          },
          "width" : 150.0,
          "zIndex" : 0
        } ],
        "maxConcurrentTasks" : 1,
        "name" : "Copy of Add DRY_COW,LACTATING,CATTLE",
        "outputPorts" : [ {
          "allowRemoteAccess" : false,
          "componentType" : "OUTPUT_PORT",
          "concurrentlySchedulableTaskCount" : 1,
          "groupIdentifier" : "4feb7681-3790-33a5-91e8-591bb42b9fe6",
          "identifier" : "67cd1455-3949-32bd-9d1a-5d3d6f227cb3",
          "name" : "output",
          "portFunction" : "STANDARD",
          "position" : {
            "x" : 768.0,
            "y" : 1408.0
          },
          "scheduledState" : "ENABLED",
          "type" : "OUTPUT_PORT"
        } ],
        "parameterContextName" : "DEV",
        "position" : {
          "x" : -1184.0,
          "y" : -48.0
        },
        "processGroups" : [ ],
        "processors" : [ {
          "autoTerminatedRelationships" : [ ],
          "backoffMechanism" : "PENALIZE_FLOWFILE",
          "bulletinLevel" : "WARN",
          "bundle" : {
            "artifact" : "nifi-update-attribute-nar",
            "group" : "org.apache.nifi",
            "version" : "2.0.0"
          },
          "comments" : "",
          "componentType" : "PROCESSOR",
          "concurrentlySchedulableTaskCount" : 1,
          "executionNode" : "ALL",
          "groupIdentifier" : "4feb7681-3790-33a5-91e8-591bb42b9fe6",
          "identifier" : "5dd8f7df-a77c-3720-b930-702d00676c82",
          "maxBackoffPeriod" : "10 mins",
          "name" : "Add DRY_COW",
          "penaltyDuration" : "30 sec",
          "position" : {
            "x" : 448.0,
            "y" : 1064.0
          },
          "properties" : {
            "animal_status" : "DRY_COW",
            "Store State" : "Do not store state",
            "canonical-value-lookup-cache-size" : "100"
          },
          "propertyDescriptors" : {
            "animal_status" : {
              "displayName" : "animal_status",
              "dynamic" : true,
              "identifiesControllerService" : false,
              "name" : "animal_status",
              "sensitive" : false
            },
            "Delete Attributes Expression" : {
              "displayName" : "Delete Attributes Expression",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Delete Attributes Expression",
              "sensitive" : false
            },
            "Store State" : {
              "displayName" : "Store State",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Store State",
              "sensitive" : false
            },
            "canonical-value-lookup-cache-size" : {
              "displayName" : "Cache Value Lookup Cache Size",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "canonical-value-lookup-cache-size",
              "sensitive" : false
            },
            "Stateful Variables Initial Value" : {
              "displayName" : "Stateful Variables Initial Value",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Stateful Variables Initial Value",
              "sensitive" : false
            }
          },
          "retriedRelationships" : [ ],
          "retryCount" : 10,
          "runDurationMillis" : 25,
          "scheduledState" : "ENABLED",
          "schedulingPeriod" : "0 sec",
          "schedulingStrategy" : "TIMER_DRIVEN",
          "style" : { },
          "type" : "org.apache.nifi.processors.attributes.UpdateAttribute",
          "yieldDuration" : "1 sec"
        }, {
          "autoTerminatedRelationships" : [ ],
          "backoffMechanism" : "PENALIZE_FLOWFILE",
          "bulletinLevel" : "WARN",
          "bundle" : {
            "artifact" : "nifi-update-attribute-nar",
            "group" : "org.apache.nifi",
            "version" : "2.0.0"
          },
          "comments" : "",
          "componentType" : "PROCESSOR",
          "concurrentlySchedulableTaskCount" : 1,
          "executionNode" : "ALL",
          "groupIdentifier" : "4feb7681-3790-33a5-91e8-591bb42b9fe6",
          "identifier" : "9f9f85e6-1d71-32c9-a20f-97b78ef5502a",
          "maxBackoffPeriod" : "10 mins",
          "name" : "Add LACTATING",
          "penaltyDuration" : "30 sec",
          "position" : {
            "x" : 856.0,
            "y" : 1072.0
          },
          "properties" : {
            "animal_status" : "LACTATING",
            "Store State" : "Do not store state",
            "canonical-value-lookup-cache-size" : "100"
          },
          "propertyDescriptors" : {
            "animal_status" : {
              "displayName" : "animal_status",
              "dynamic" : true,
              "identifiesControllerService" : false,
              "name" : "animal_status",
              "sensitive" : false
            },
            "Delete Attributes Expression" : {
              "displayName" : "Delete Attributes Expression",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Delete Attributes Expression",
              "sensitive" : false
            },
            "Store State" : {
              "displayName" : "Store State",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Store State",
              "sensitive" : false
            },
            "canonical-value-lookup-cache-size" : {
              "displayName" : "Cache Value Lookup Cache Size",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "canonical-value-lookup-cache-size",
              "sensitive" : false
            },
            "Stateful Variables Initial Value" : {
              "displayName" : "Stateful Variables Initial Value",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Stateful Variables Initial Value",
              "sensitive" : false
            }
          },
          "retriedRelationships" : [ ],
          "retryCount" : 10,
          "runDurationMillis" : 25,
          "scheduledState" : "ENABLED",
          "schedulingPeriod" : "0 sec",
          "schedulingStrategy" : "TIMER_DRIVEN",
          "style" : { },
          "type" : "org.apache.nifi.processors.attributes.UpdateAttribute",
          "yieldDuration" : "1 sec"
        }, {
          "autoTerminatedRelationships" : [ ],
          "backoffMechanism" : "PENALIZE_FLOWFILE",
          "bulletinLevel" : "WARN",
          "bundle" : {
            "artifact" : "nifi-update-attribute-nar",
            "group" : "org.apache.nifi",
            "version" : "2.0.0"
          },
          "comments" : "",
          "componentType" : "PROCESSOR",
          "concurrentlySchedulableTaskCount" : 1,
          "executionNode" : "ALL",
          "groupIdentifier" : "4feb7681-3790-33a5-91e8-591bb42b9fe6",
          "identifier" : "4b6a971b-59a0-3c0c-97f2-900a5b3e746f",
          "maxBackoffPeriod" : "10 mins",
          "name" : "Add CATTLE",
          "penaltyDuration" : "30 sec",
          "position" : {
            "x" : 1264.0,
            "y" : 1072.0
          },
          "properties" : {
            "animal_status" : "CATTLE",
            "Store State" : "Do not store state",
            "canonical-value-lookup-cache-size" : "100"
          },
          "propertyDescriptors" : {
            "animal_status" : {
              "displayName" : "animal_status",
              "dynamic" : true,
              "identifiesControllerService" : false,
              "name" : "animal_status",
              "sensitive" : false
            },
            "Delete Attributes Expression" : {
              "displayName" : "Delete Attributes Expression",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Delete Attributes Expression",
              "sensitive" : false
            },
            "Store State" : {
              "displayName" : "Store State",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Store State",
              "sensitive" : false
            },
            "canonical-value-lookup-cache-size" : {
              "displayName" : "Cache Value Lookup Cache Size",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "canonical-value-lookup-cache-size",
              "sensitive" : false
            },
            "Stateful Variables Initial Value" : {
              "displayName" : "Stateful Variables Initial Value",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Stateful Variables Initial Value",
              "sensitive" : false
            }
          },
          "retriedRelationships" : [ ],
          "retryCount" : 10,
          "runDurationMillis" : 25,
          "scheduledState" : "ENABLED",
          "schedulingPeriod" : "0 sec",
          "schedulingStrategy" : "TIMER_DRIVEN",
          "style" : { },
          "type" : "org.apache.nifi.processors.attributes.UpdateAttribute",
          "yieldDuration" : "1 sec"
        } ],
        "remoteProcessGroups" : [ ],
        "scheduledState" : "ENABLED",
        "statelessFlowTimeout" : "1 min"
      } ],
      "processors" : [ {
        "autoTerminatedRelationships" : [ "unmatched" ],
        "backoffMechanism" : "PENALIZE_FLOWFILE",
        "bulletinLevel" : "WARN",
        "bundle" : {
          "artifact" : "nifi-standard-nar",
          "group" : "org.apache.nifi",
          "version" : "2.0.0"
        },
        "comments" : "",
        "componentType" : "PROCESSOR",
        "concurrentlySchedulableTaskCount" : 1,
        "executionNode" : "ALL",
        "groupIdentifier" : "592c6b23-e212-35de-b21e-e9bd75285c33",
        "identifier" : "46f7f591-5b46-3cef-9f65-2a7ed9786033",
        "maxBackoffPeriod" : "10 mins",
        "name" : "Animal status",
        "penaltyDuration" : "30 sec",
        "position" : {
          "x" : 184.0,
          "y" : -16.0
        },
        "properties" : {
          "DRY_COW" : "${animal_status:toString():contains('DRY_COW')}",
          "Routing Strategy" : "Route to Property name",
          "BROILERS" : "${animal_status:toString():contains('BROILERS')}",
          "CATTLE" : "${animal_status:toString():contains('CATTLE')}",
          "LACTATING" : "${animal_status:toString():contains('LACTATING')}"
        },
        "propertyDescriptors" : {
          "DRY_COW" : {
            "displayName" : "DRY_COW",
            "dynamic" : true,
            "identifiesControllerService" : false,
            "name" : "DRY_COW",
            "sensitive" : false
          },
          "Routing Strategy" : {
            "displayName" : "Routing Strategy",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Routing Strategy",
            "sensitive" : false
          },
          "BROILERS" : {
            "displayName" : "BROILERS",
            "dynamic" : true,
            "identifiesControllerService" : false,
            "name" : "BROILERS",
            "sensitive" : false
          },
          "CATTLE" : {
            "displayName" : "CATTLE",
            "dynamic" : true,
            "identifiesControllerService" : false,
            "name" : "CATTLE",
            "sensitive" : false
          },
          "LACTATING" : {
            "displayName" : "LACTATING",
            "dynamic" : true,
            "identifiesControllerService" : false,
            "name" : "LACTATING",
            "sensitive" : false
          }
        },
        "retriedRelationships" : [ ],
        "retryCount" : 10,
        "runDurationMillis" : 25,
        "scheduledState" : "ENABLED",
        "schedulingPeriod" : "0 sec",
        "schedulingStrategy" : "TIMER_DRIVEN",
        "style" : { },
        "type" : "org.apache.nifi.processors.standard.RouteOnAttribute",
        "yieldDuration" : "1 sec"
      }, {
        "autoTerminatedRelationships" : [ "unmatched" ],
        "backoffMechanism" : "PENALIZE_FLOWFILE",
        "bulletinLevel" : "WARN",
        "bundle" : {
          "artifact" : "nifi-standard-nar",
          "group" : "org.apache.nifi",
          "version" : "2.0.0"
        },
        "comments" : "",
        "componentType" : "PROCESSOR",
        "concurrentlySchedulableTaskCount" : 1,
        "executionNode" : "ALL",
        "groupIdentifier" : "592c6b23-e212-35de-b21e-e9bd75285c33",
        "identifier" : "5159a077-1801-32a3-8e0c-33dccc44f8b2",
        "maxBackoffPeriod" : "10 mins",
        "name" : "Animal status NULL",
        "penaltyDuration" : "30 sec",
        "position" : {
          "x" : -840.0,
          "y" : -400.0
        },
        "properties" : {
          "Routing Strategy" : "Route to Property name",
          "ANIMAL_STATUS_NULL" : "${animal_status:toString():isEmpty()}"
        },
        "propertyDescriptors" : {
          "Routing Strategy" : {
            "displayName" : "Routing Strategy",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Routing Strategy",
            "sensitive" : false
          },
          "ANIMAL_STATUS_NULL" : {
            "displayName" : "ANIMAL_STATUS_NULL",
            "dynamic" : true,
            "identifiesControllerService" : false,
            "name" : "ANIMAL_STATUS_NULL",
            "sensitive" : false
          }
        },
        "retriedRelationships" : [ ],
        "retryCount" : 10,
        "runDurationMillis" : 25,
        "scheduledState" : "ENABLED",
        "schedulingPeriod" : "0 sec",
        "schedulingStrategy" : "TIMER_DRIVEN",
        "style" : { },
        "type" : "org.apache.nifi.processors.standard.RouteOnAttribute",
        "yieldDuration" : "1 sec"
      } ],
      "remoteProcessGroups" : [ ],
      "scheduledState" : "ENABLED",
      "statelessFlowTimeout" : "1 min"
    } ],
    "processors" : [ {
      "autoTerminatedRelationships" : [ ],
      "backoffMechanism" : "PENALIZE_FLOWFILE",
      "bulletinLevel" : "WARN",
      "bundle" : {
        "artifact" : "nifi-update-attribute-nar",
        "group" : "org.apache.nifi",
        "version" : "2.0.0"
      },
      "comments" : "",
      "componentType" : "PROCESSOR",
      "concurrentlySchedulableTaskCount" : 1,
      "executionNode" : "ALL",
      "groupIdentifier" : "flow-contents-group",
      "identifier" : "301a4565-f52e-31a6-95a5-4b77556e1305",
      "maxBackoffPeriod" : "10 mins",
      "name" : "_IS_PRODUCT = false",
      "penaltyDuration" : "30 sec",
      "position" : {
        "x" : 720.0,
        "y" : 592.0
      },
      "properties" : {
        "_IS_PRODUCT" : "false",
        "Store State" : "Do not store state",
        "canonical-value-lookup-cache-size" : "100",
        "enrichment.type" : "enrichment",
        "enrichment.group.id" : "${sa_sporsms}"
      },
      "propertyDescriptors" : {
        "_IS_PRODUCT" : {
          "displayName" : "_IS_PRODUCT",
          "dynamic" : true,
          "identifiesControllerService" : false,
          "name" : "_IS_PRODUCT",
          "sensitive" : false
        },
        "Delete Attributes Expression" : {
          "displayName" : "Delete Attributes Expression",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "Delete Attributes Expression",
          "sensitive" : false
        },
        "Store State" : {
          "displayName" : "Store State",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "Store State",
          "sensitive" : false
        },
        "canonical-value-lookup-cache-size" : {
          "displayName" : "Cache Value Lookup Cache Size",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "canonical-value-lookup-cache-size",
          "sensitive" : false
        },
        "enrichment.type" : {
          "displayName" : "enrichment.type",
          "dynamic" : true,
          "identifiesControllerService" : false,
          "name" : "enrichment.type",
          "sensitive" : false
        },
        "Stateful Variables Initial Value" : {
          "displayName" : "Stateful Variables Initial Value",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "Stateful Variables Initial Value",
          "sensitive" : false
        },
        "enrichment.group.id" : {
          "displayName" : "enrichment.group.id",
          "dynamic" : true,
          "identifiesControllerService" : false,
          "name" : "enrichment.group.id",
          "sensitive" : false
        }
      },
      "retriedRelationships" : [ ],
      "retryCount" : 10,
      "runDurationMillis" : 25,
      "scheduledState" : "ENABLED",
      "schedulingPeriod" : "0 sec",
      "schedulingStrategy" : "TIMER_DRIVEN",
      "style" : { },
      "type" : "org.apache.nifi.processors.attributes.UpdateAttribute",
      "yieldDuration" : "1 sec"
    }, {
      "autoTerminatedRelationships" : [ ],
      "backoffMechanism" : "PENALIZE_FLOWFILE",
      "bulletinLevel" : "WARN",
      "bundle" : {
        "artifact" : "nifi-standard-nar",
        "group" : "org.apache.nifi",
        "version" : "2.0.0"
      },
      "comments" : "",
      "componentType" : "PROCESSOR",
      "concurrentlySchedulableTaskCount" : 1,
      "executionNode" : "ALL",
      "groupIdentifier" : "flow-contents-group",
      "identifier" : "345dbe7c-02d7-3ad0-b215-fb57807c88d7",
      "maxBackoffPeriod" : "10 mins",
      "name" : "APENAS MEDICAMENTOS ?",
      "penaltyDuration" : "30 sec",
      "position" : {
        "x" : 352.0,
        "y" : 2904.0
      },
      "properties" : {
        "_IS_PRODUCT" : "${_IS_PRODUCT:equals(true)}",
        "Routing Strategy" : "Route to Property name"
      },
      "propertyDescriptors" : {
        "_IS_PRODUCT" : {
          "displayName" : "_IS_PRODUCT",
          "dynamic" : true,
          "identifiesControllerService" : false,
          "name" : "_IS_PRODUCT",
          "sensitive" : false
        },
        "Routing Strategy" : {
          "displayName" : "Routing Strategy",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "Routing Strategy",
          "sensitive" : false
        }
      },
      "retriedRelationships" : [ ],
      "retryCount" : 10,
      "runDurationMillis" : 25,
      "scheduledState" : "ENABLED",
      "schedulingPeriod" : "0 sec",
      "schedulingStrategy" : "TIMER_DRIVEN",
      "style" : { },
      "type" : "org.apache.nifi.processors.standard.RouteOnAttribute",
      "yieldDuration" : "1 sec"
    }, {
      "autoTerminatedRelationships" : [ ],
      "backoffMechanism" : "PENALIZE_FLOWFILE",
      "bulletinLevel" : "WARN",
      "bundle" : {
        "artifact" : "nifi-standard-nar",
        "group" : "org.apache.nifi",
        "version" : "2.0.0"
      },
      "comments" : "",
      "componentType" : "PROCESSOR",
      "concurrentlySchedulableTaskCount" : 1,
      "executionNode" : "ALL",
      "groupIdentifier" : "flow-contents-group",
      "identifier" : "762de0f6-72cf-3f2e-b71d-2344cb274b0e",
      "maxBackoffPeriod" : "10 mins",
      "name" : "num_subs > 1 (comp complexo ?)",
      "penaltyDuration" : "30 sec",
      "position" : {
        "x" : 40.0,
        "y" : 856.0
      },
      "properties" : {
        "Routing Strategy" : "Route to 'match' if any matches",
        "num_subs_arr" : "${_SUBS_sa_sporsms:matches('^\\[.*\\]$')}"
      },
      "propertyDescriptors" : {
        "Routing Strategy" : {
          "displayName" : "Routing Strategy",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "Routing Strategy",
          "sensitive" : false
        },
        "num_subs_arr" : {
          "displayName" : "num_subs_arr",
          "dynamic" : true,
          "identifiesControllerService" : false,
          "name" : "num_subs_arr",
          "sensitive" : false
        }
      },
      "retriedRelationships" : [ ],
      "retryCount" : 10,
      "runDurationMillis" : 25,
      "scheduledState" : "ENABLED",
      "schedulingPeriod" : "0 sec",
      "schedulingStrategy" : "TIMER_DRIVEN",
      "style" : { },
      "type" : "org.apache.nifi.processors.standard.RouteOnAttribute",
      "yieldDuration" : "1 sec"
    }, {
      "autoTerminatedRelationships" : [ "enrichment" ],
      "backoffMechanism" : "PENALIZE_FLOWFILE",
      "bulletinLevel" : "WARN",
      "bundle" : {
        "artifact" : "nifi-standard-nar",
        "group" : "org.apache.nifi",
        "version" : "2.0.0"
      },
      "comments" : "",
      "componentType" : "PROCESSOR",
      "concurrentlySchedulableTaskCount" : 1,
      "executionNode" : "ALL",
      "groupIdentifier" : "flow-contents-group",
      "identifier" : "4d214c76-cadf-3fac-9b11-54a0b7749fd5",
      "maxBackoffPeriod" : "10 mins",
      "name" : "ForkEnrichment",
      "penaltyDuration" : "30 sec",
      "position" : {
        "x" : -1288.0,
        "y" : 640.0
      },
      "properties" : { },
      "propertyDescriptors" : { },
      "retriedRelationships" : [ ],
      "retryCount" : 10,
      "runDurationMillis" : 25,
      "scheduledState" : "ENABLED",
      "schedulingPeriod" : "0 sec",
      "schedulingStrategy" : "TIMER_DRIVEN",
      "style" : { },
      "type" : "org.apache.nifi.processors.standard.ForkEnrichment",
      "yieldDuration" : "1 sec"
    }, {
      "autoTerminatedRelationships" : [ ],
      "backoffMechanism" : "PENALIZE_FLOWFILE",
      "bulletinLevel" : "WARN",
      "bundle" : {
        "artifact" : "nifi-standard-nar",
        "group" : "org.apache.nifi",
        "version" : "2.0.0"
      },
      "comments" : "",
      "componentType" : "PROCESSOR",
      "concurrentlySchedulableTaskCount" : 1,
      "executionNode" : "ALL",
      "groupIdentifier" : "flow-contents-group",
      "identifier" : "8586105a-b30c-3177-bdc2-bce3df1b6e3c",
      "maxBackoffPeriod" : "10 mins",
      "name" : "num_subs > 1 (meds complexo ?)",
      "penaltyDuration" : "30 sec",
      "position" : {
        "x" : -680.0,
        "y" : 832.0
      },
      "properties" : {
        "Routing Strategy" : "Route to 'match' if any matches",
        "num_subs_arr" : "${_PRODUCT_num_subs:matches('^\\[.*\\]$')}"
      },
      "propertyDescriptors" : {
        "Routing Strategy" : {
          "displayName" : "Routing Strategy",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "Routing Strategy",
          "sensitive" : false
        },
        "num_subs_arr" : {
          "displayName" : "num_subs_arr",
          "dynamic" : true,
          "identifiesControllerService" : false,
          "name" : "num_subs_arr",
          "sensitive" : false
        }
      },
      "retriedRelationships" : [ ],
      "retryCount" : 10,
      "runDurationMillis" : 25,
      "scheduledState" : "ENABLED",
      "schedulingPeriod" : "0 sec",
      "schedulingStrategy" : "TIMER_DRIVEN",
      "style" : { },
      "type" : "org.apache.nifi.processors.standard.RouteOnAttribute",
      "yieldDuration" : "1 sec"
    }, {
      "autoTerminatedRelationships" : [ "failure", "unmatched" ],
      "backoffMechanism" : "PENALIZE_FLOWFILE",
      "bulletinLevel" : "WARN",
      "bundle" : {
        "artifact" : "nifi-standard-nar",
        "group" : "org.apache.nifi",
        "version" : "2.0.0"
      },
      "comments" : "",
      "componentType" : "PROCESSOR",
      "concurrentlySchedulableTaskCount" : 1,
      "executionNode" : "ALL",
      "groupIdentifier" : "flow-contents-group",
      "identifier" : "14e041a6-868c-3b89-8f6a-7708a5715830",
      "maxBackoffPeriod" : "10 mins",
      "name" : "Extrair atributos",
      "penaltyDuration" : "30 sec",
      "position" : {
        "x" : 48.0,
        "y" : 360.0
      },
      "properties" : {
        "Destination" : "flowfile-attribute",
        "animal_status" : "$.status",
        "_SUBS_species_bit" : "$.species_bit",
        "Max String Length" : "20 MB",
        "_SUBS_route_bit" : "$.route_bit",
        "_SUBS_combi" : "$.combi",
        "Return Type" : "json",
        "_SUBS_acting" : "$.acting",
        "_SUBS_sa_desc" : "$.sa_desc",
        "_SUBS_comp" : "$.comp",
        "Null Value Representation" : "empty string",
        "Path Not Found Behavior" : "ignore",
        "sa_sporsms" : "$.sa_sporsms",
        "_IS_PRODUCT" : "false",
        "filename" : "$.sa_sporsms",
        "_SUBS_sa_sporsms" : "$.sa_sporsms"
      },
      "propertyDescriptors" : {
        "Destination" : {
          "displayName" : "Destination",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "Destination",
          "sensitive" : false
        },
        "animal_status" : {
          "displayName" : "animal_status",
          "dynamic" : true,
          "identifiesControllerService" : false,
          "name" : "animal_status",
          "sensitive" : false
        },
        "_SUBS_species_bit" : {
          "displayName" : "_SUBS_species_bit",
          "dynamic" : true,
          "identifiesControllerService" : false,
          "name" : "_SUBS_species_bit",
          "sensitive" : false
        },
        "Max String Length" : {
          "displayName" : "Max String Length",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "Max String Length",
          "sensitive" : false
        },
        "_SUBS_route_bit" : {
          "displayName" : "_SUBS_route_bit",
          "dynamic" : true,
          "identifiesControllerService" : false,
          "name" : "_SUBS_route_bit",
          "sensitive" : false
        },
        "_SUBS_combi" : {
          "displayName" : "_SUBS_combi",
          "dynamic" : true,
          "identifiesControllerService" : false,
          "name" : "_SUBS_combi",
          "sensitive" : false
        },
        "Return Type" : {
          "displayName" : "Return Type",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "Return Type",
          "sensitive" : false
        },
        "_SUBS_acting" : {
          "displayName" : "_SUBS_acting",
          "dynamic" : true,
          "identifiesControllerService" : false,
          "name" : "_SUBS_acting",
          "sensitive" : false
        },
        "_SUBS_sa_desc" : {
          "displayName" : "_SUBS_sa_desc",
          "dynamic" : true,
          "identifiesControllerService" : false,
          "name" : "_SUBS_sa_desc",
          "sensitive" : false
        },
        "_SUBS_comp" : {
          "displayName" : "_SUBS_comp",
          "dynamic" : true,
          "identifiesControllerService" : false,
          "name" : "_SUBS_comp",
          "sensitive" : false
        },
        "Null Value Representation" : {
          "displayName" : "Null Value Representation",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "Null Value Representation",
          "sensitive" : false
        },
        "Path Not Found Behavior" : {
          "displayName" : "Path Not Found Behavior",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "Path Not Found Behavior",
          "sensitive" : false
        },
        "sa_sporsms" : {
          "displayName" : "sa_sporsms",
          "dynamic" : true,
          "identifiesControllerService" : false,
          "name" : "sa_sporsms",
          "sensitive" : false
        },
        "_IS_PRODUCT" : {
          "displayName" : "_IS_PRODUCT",
          "dynamic" : true,
          "identifiesControllerService" : false,
          "name" : "_IS_PRODUCT",
          "sensitive" : false
        },
        "filename" : {
          "displayName" : "filename",
          "dynamic" : true,
          "identifiesControllerService" : false,
          "name" : "filename",
          "sensitive" : false
        },
        "_SUBS_sa_sporsms" : {
          "displayName" : "_SUBS_sa_sporsms",
          "dynamic" : true,
          "identifiesControllerService" : false,
          "name" : "_SUBS_sa_sporsms",
          "sensitive" : false
        }
      },
      "retriedRelationships" : [ ],
      "retryCount" : 10,
      "runDurationMillis" : 0,
      "scheduledState" : "ENABLED",
      "schedulingPeriod" : "0 sec",
      "schedulingStrategy" : "TIMER_DRIVEN",
      "style" : { },
      "type" : "org.apache.nifi.processors.standard.EvaluateJsonPath",
      "yieldDuration" : "1 sec"
    }, {
      "autoTerminatedRelationships" : [ "failure", "unmatched" ],
      "backoffMechanism" : "PENALIZE_FLOWFILE",
      "bulletinLevel" : "WARN",
      "bundle" : {
        "artifact" : "nifi-standard-nar",
        "group" : "org.apache.nifi",
        "version" : "2.0.0"
      },
      "comments" : "",
      "componentType" : "PROCESSOR",
      "concurrentlySchedulableTaskCount" : 1,
      "executionNode" : "ALL",
      "groupIdentifier" : "flow-contents-group",
      "identifier" : "d78fdc5f-6902-34d4-80ea-449e902bbdea",
      "maxBackoffPeriod" : "10 mins",
      "name" : "Extrair atributos",
      "penaltyDuration" : "30 sec",
      "position" : {
        "x" : -680.0,
        "y" : 600.0
      },
      "properties" : {
        "Destination" : "flowfile-attribute",
        "_PRODUCT_sa_sporsms" : "$.sa_sporsms",
        "animal_status" : "$.animal_status",
        "Max String Length" : "20 MB",
        "_PRODUCT_species_bit" : "$.species_bit",
        "Return Type" : "json",
        "Null Value Representation" : "empty string",
        "_PRODUCT_acting" : "$.acting",
        "Path Not Found Behavior" : "ignore",
        "sa_sporsms" : "$.sa_sporsms",
        "_IS_PRODUCT" : "true",
        "filename" : "$.sa_sporsms",
        "_PRODUCT_route_bit" : "$.route_bit",
        "_PRODUCT_sa_desc" : "$.sa_desc",
        "_PRODUCT_num_subs" : "$.num_subs"
      },
      "propertyDescriptors" : {
        "Destination" : {
          "displayName" : "Destination",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "Destination",
          "sensitive" : false
        },
        "_PRODUCT_sa_sporsms" : {
          "displayName" : "_PRODUCT_sa_sporsms",
          "dynamic" : true,
          "identifiesControllerService" : false,
          "name" : "_PRODUCT_sa_sporsms",
          "sensitive" : false
        },
        "animal_status" : {
          "displayName" : "animal_status",
          "dynamic" : true,
          "identifiesControllerService" : false,
          "name" : "animal_status",
          "sensitive" : false
        },
        "Max String Length" : {
          "displayName" : "Max String Length",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "Max String Length",
          "sensitive" : false
        },
        "_PRODUCT_species_bit" : {
          "displayName" : "_PRODUCT_species_bit",
          "dynamic" : true,
          "identifiesControllerService" : false,
          "name" : "_PRODUCT_species_bit",
          "sensitive" : false
        },
        "Return Type" : {
          "displayName" : "Return Type",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "Return Type",
          "sensitive" : false
        },
        "Null Value Representation" : {
          "displayName" : "Null Value Representation",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "Null Value Representation",
          "sensitive" : false
        },
        "_PRODUCT_acting" : {
          "displayName" : "_PRODUCT_acting",
          "dynamic" : true,
          "identifiesControllerService" : false,
          "name" : "_PRODUCT_acting",
          "sensitive" : false
        },
        "Path Not Found Behavior" : {
          "displayName" : "Path Not Found Behavior",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "Path Not Found Behavior",
          "sensitive" : false
        },
        "sa_sporsms" : {
          "displayName" : "sa_sporsms",
          "dynamic" : true,
          "identifiesControllerService" : false,
          "name" : "sa_sporsms",
          "sensitive" : false
        },
        "_IS_PRODUCT" : {
          "displayName" : "_IS_PRODUCT",
          "dynamic" : true,
          "identifiesControllerService" : false,
          "name" : "_IS_PRODUCT",
          "sensitive" : false
        },
        "filename" : {
          "displayName" : "filename",
          "dynamic" : true,
          "identifiesControllerService" : false,
          "name" : "filename",
          "sensitive" : false
        },
        "_PRODUCT_route_bit" : {
          "displayName" : "_PRODUCT_route_bit",
          "dynamic" : true,
          "identifiesControllerService" : false,
          "name" : "_PRODUCT_route_bit",
          "sensitive" : false
        },
        "_PRODUCT_sa_desc" : {
          "displayName" : "_PRODUCT_sa_desc",
          "dynamic" : true,
          "identifiesControllerService" : false,
          "name" : "_PRODUCT_sa_desc",
          "sensitive" : false
        },
        "_PRODUCT_num_subs" : {
          "displayName" : "_PRODUCT_num_subs",
          "dynamic" : true,
          "identifiesControllerService" : false,
          "name" : "_PRODUCT_num_subs",
          "sensitive" : false
        }
      },
      "retriedRelationships" : [ ],
      "retryCount" : 10,
      "runDurationMillis" : 0,
      "scheduledState" : "ENABLED",
      "schedulingPeriod" : "0 sec",
      "schedulingStrategy" : "TIMER_DRIVEN",
      "style" : { },
      "type" : "org.apache.nifi.processors.standard.EvaluateJsonPath",
      "yieldDuration" : "1 sec"
    }, {
      "autoTerminatedRelationships" : [ "failure" ],
      "backoffMechanism" : "PENALIZE_FLOWFILE",
      "bulletinLevel" : "WARN",
      "bundle" : {
        "artifact" : "nifi-jolt-nar",
        "group" : "org.apache.nifi",
        "version" : "2.0.0"
      },
      "comments" : "",
      "componentType" : "PROCESSOR",
      "concurrentlySchedulableTaskCount" : 1,
      "executionNode" : "ALL",
      "groupIdentifier" : "flow-contents-group",
      "identifier" : "7005e6e2-da81-333d-ab0e-73ebdc924ac8",
      "maxBackoffPeriod" : "10 mins",
      "name" : "Agrupa por combinação",
      "penaltyDuration" : "30 sec",
      "position" : {
        "x" : 48.0,
        "y" : -200.0
      },
      "properties" : {
        "Jolt Transform" : "jolt-transform-chain",
        "Max String Length" : "20 MB",
        "Transform Cache Size" : "1",
        "Pretty Print" : "false",
        "Jolt Specification" : "[\n  {\n    \"operation\": \"shift\",\n    \"spec\": {\n      \"*\": {\n        \"comp\": {\n          \"*\": { \n            \"@(3,[&2])\": \"&.[]\"\n          }\n        }\n      }\n    }\n  },\n  {\n    \"operation\": \"shift\",\n    \"spec\": {\n      \"*\": { \n        \"$\": \"&.comp\",\n        \"*\": { \n           \"id|species_bit|status|atcvet|sa_order|sa_sporsms|sa_desc|antimicro_class|route_add|route_bit|dddvet|dcdvet|unit|conv_factor|combi|acting|obs\": \"&2.&\"\n        }\n      }\n    }\n  },\n  {\n    \"operation\": \"shift\",\n    \"spec\": {\n      \"*\": \"[#1]\"\n    }\n  }\n]"
      },
      "propertyDescriptors" : {
        "Jolt Transform" : {
          "displayName" : "Jolt Transform",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "Jolt Transform",
          "sensitive" : false
        },
        "Max String Length" : {
          "displayName" : "Max String Length",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "Max String Length",
          "sensitive" : false
        },
        "Transform Cache Size" : {
          "displayName" : "Transform Cache Size",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "Transform Cache Size",
          "sensitive" : false
        },
        "Custom Transformation Class Name" : {
          "displayName" : "Custom Transformation Class Name",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "Custom Transformation Class Name",
          "sensitive" : false
        },
        "Custom Module Directory" : {
          "displayName" : "Custom Module Directory",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "Custom Module Directory",
          "resourceDefinition" : {
            "cardinality" : "MULTIPLE",
            "resourceTypes" : [ "FILE", "DIRECTORY" ]
          },
          "sensitive" : false
        },
        "Pretty Print" : {
          "displayName" : "Pretty Print",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "Pretty Print",
          "sensitive" : false
        },
        "Jolt Specification" : {
          "displayName" : "Jolt Specification",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "Jolt Specification",
          "resourceDefinition" : {
            "cardinality" : "SINGLE",
            "resourceTypes" : [ "FILE", "TEXT" ]
          },
          "sensitive" : false
        }
      },
      "retriedRelationships" : [ ],
      "retryCount" : 10,
      "runDurationMillis" : 0,
      "scheduledState" : "ENABLED",
      "schedulingPeriod" : "0 sec",
      "schedulingStrategy" : "TIMER_DRIVEN",
      "style" : { },
      "type" : "org.apache.nifi.processors.jolt.JoltTransformJSON",
      "yieldDuration" : "1 sec"
    }, {
      "autoTerminatedRelationships" : [ "failure" ],
      "backoffMechanism" : "PENALIZE_FLOWFILE",
      "bulletinLevel" : "WARN",
      "bundle" : {
        "artifact" : "nifi-jolt-nar",
        "group" : "org.apache.nifi",
        "version" : "2.0.0"
      },
      "comments" : "",
      "componentType" : "PROCESSOR",
      "concurrentlySchedulableTaskCount" : 1,
      "executionNode" : "ALL",
      "groupIdentifier" : "flow-contents-group",
      "identifier" : "a6841abb-af2a-3684-845c-a2bce6a26bd8",
      "maxBackoffPeriod" : "10 mins",
      "name" : "Agrupa medicamentos",
      "penaltyDuration" : "30 sec",
      "position" : {
        "x" : -752.0,
        "y" : 48.0
      },
      "properties" : {
        "Jolt Transform" : "jolt-transform-chain",
        "Max String Length" : "20 MB",
        "Transform Cache Size" : "1",
        "Pretty Print" : "false",
        "Jolt Specification" : "[\n  {\n    \"operation\": \"shift\",\n    \"spec\": {\n      \"*\": {\n        \"us_cum\": {\n          \"*\": { \n            \"@(3,[&2])\": \"&.[]\"\n          }\n        }\n      }\n    }\n  },\n  {\n    \"operation\": \"shift\",\n    \"spec\": {\n      \"*\": { \n        \"$\": \"&.us_cum\",\n        \"*\": { \n           \"id|cum|atc_code|aim_code|official_id|shortdesc|presentation|sb|pm|species|species_bit|uom_categ|uom_categ_id|measure_tot|measure_tot_un|sa_sporsms|sa_desc|sa_dose|sa_dose_un|measere_unit|measure_unit_un|sa_princ|route_bit|acting|animal_status|active|updated|tags|num_subs\": \"&2.&\"\n        }\n      }\n    }\n  },\n  {\n    \"operation\": \"shift\",\n    \"spec\": {\n      \"*\": \"[#1]\"\n    }\n  }\n]"
      },
      "propertyDescriptors" : {
        "Jolt Transform" : {
          "displayName" : "Jolt Transform",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "Jolt Transform",
          "sensitive" : false
        },
        "Max String Length" : {
          "displayName" : "Max String Length",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "Max String Length",
          "sensitive" : false
        },
        "Transform Cache Size" : {
          "displayName" : "Transform Cache Size",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "Transform Cache Size",
          "sensitive" : false
        },
        "Custom Transformation Class Name" : {
          "displayName" : "Custom Transformation Class Name",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "Custom Transformation Class Name",
          "sensitive" : false
        },
        "Custom Module Directory" : {
          "displayName" : "Custom Module Directory",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "Custom Module Directory",
          "resourceDefinition" : {
            "cardinality" : "MULTIPLE",
            "resourceTypes" : [ "FILE", "DIRECTORY" ]
          },
          "sensitive" : false
        },
        "Pretty Print" : {
          "displayName" : "Pretty Print",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "Pretty Print",
          "sensitive" : false
        },
        "Jolt Specification" : {
          "displayName" : "Jolt Specification",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "Jolt Specification",
          "resourceDefinition" : {
            "cardinality" : "SINGLE",
            "resourceTypes" : [ "FILE", "TEXT" ]
          },
          "sensitive" : false
        }
      },
      "retriedRelationships" : [ ],
      "retryCount" : 10,
      "runDurationMillis" : 0,
      "scheduledState" : "ENABLED",
      "schedulingPeriod" : "0 sec",
      "schedulingStrategy" : "TIMER_DRIVEN",
      "style" : { },
      "type" : "org.apache.nifi.processors.jolt.JoltTransformJSON",
      "yieldDuration" : "1 sec"
    }, {
      "autoTerminatedRelationships" : [ ],
      "backoffMechanism" : "PENALIZE_FLOWFILE",
      "bulletinLevel" : "WARN",
      "bundle" : {
        "artifact" : "nifi-update-attribute-nar",
        "group" : "org.apache.nifi",
        "version" : "2.0.0"
      },
      "comments" : "",
      "componentType" : "PROCESSOR",
      "concurrentlySchedulableTaskCount" : 1,
      "executionNode" : "ALL",
      "groupIdentifier" : "flow-contents-group",
      "identifier" : "e68047cf-e056-3ae3-bb40-3bacc82f4da2",
      "maxBackoffPeriod" : "10 mins",
      "name" : "_IS_PRODUCT = true",
      "penaltyDuration" : "30 sec",
      "position" : {
        "x" : -1280.0,
        "y" : 880.0
      },
      "properties" : {
        "_IS_PRODUCT" : "true",
        "Store State" : "Do not store state",
        "canonical-value-lookup-cache-size" : "100",
        "enrichment.type" : "original",
        "enrichment.group.id" : "${sa_sporsms}"
      },
      "propertyDescriptors" : {
        "_IS_PRODUCT" : {
          "displayName" : "_IS_PRODUCT",
          "dynamic" : true,
          "identifiesControllerService" : false,
          "name" : "_IS_PRODUCT",
          "sensitive" : false
        },
        "Delete Attributes Expression" : {
          "displayName" : "Delete Attributes Expression",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "Delete Attributes Expression",
          "sensitive" : false
        },
        "Store State" : {
          "displayName" : "Store State",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "Store State",
          "sensitive" : false
        },
        "canonical-value-lookup-cache-size" : {
          "displayName" : "Cache Value Lookup Cache Size",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "canonical-value-lookup-cache-size",
          "sensitive" : false
        },
        "enrichment.type" : {
          "displayName" : "enrichment.type",
          "dynamic" : true,
          "identifiesControllerService" : false,
          "name" : "enrichment.type",
          "sensitive" : false
        },
        "Stateful Variables Initial Value" : {
          "displayName" : "Stateful Variables Initial Value",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "Stateful Variables Initial Value",
          "sensitive" : false
        },
        "enrichment.group.id" : {
          "displayName" : "enrichment.group.id",
          "dynamic" : true,
          "identifiesControllerService" : false,
          "name" : "enrichment.group.id",
          "sensitive" : false
        }
      },
      "retriedRelationships" : [ ],
      "retryCount" : 10,
      "runDurationMillis" : 25,
      "scheduledState" : "ENABLED",
      "schedulingPeriod" : "0 sec",
      "schedulingStrategy" : "TIMER_DRIVEN",
      "style" : { },
      "type" : "org.apache.nifi.processors.attributes.UpdateAttribute",
      "yieldDuration" : "1 sec"
    }, {
      "autoTerminatedRelationships" : [ "original" ],
      "backoffMechanism" : "PENALIZE_FLOWFILE",
      "bulletinLevel" : "WARN",
      "bundle" : {
        "artifact" : "nifi-standard-nar",
        "group" : "org.apache.nifi",
        "version" : "2.0.0"
      },
      "comments" : "",
      "componentType" : "PROCESSOR",
      "concurrentlySchedulableTaskCount" : 1,
      "executionNode" : "ALL",
      "groupIdentifier" : "flow-contents-group",
      "identifier" : "46280764-eba7-3f33-a15b-2b02c6edbe39",
      "maxBackoffPeriod" : "10 mins",
      "name" : "ForkEnrichment",
      "penaltyDuration" : "30 sec",
      "position" : {
        "x" : 704.0,
        "y" : 368.0
      },
      "properties" : { },
      "propertyDescriptors" : { },
      "retriedRelationships" : [ ],
      "retryCount" : 10,
      "runDurationMillis" : 25,
      "scheduledState" : "ENABLED",
      "schedulingPeriod" : "0 sec",
      "schedulingStrategy" : "TIMER_DRIVEN",
      "style" : { },
      "type" : "org.apache.nifi.processors.standard.ForkEnrichment",
      "yieldDuration" : "1 sec"
    }, {
      "autoTerminatedRelationships" : [ "failure" ],
      "backoffMechanism" : "PENALIZE_FLOWFILE",
      "bulletinLevel" : "WARN",
      "bundle" : {
        "artifact" : "nifi-standard-nar",
        "group" : "org.apache.nifi",
        "version" : "2.0.0"
      },
      "comments" : "",
      "componentType" : "PROCESSOR",
      "concurrentlySchedulableTaskCount" : 1,
      "executionNode" : "ALL",
      "groupIdentifier" : "flow-contents-group",
      "identifier" : "3094cd53-f498-37e1-bdc3-fec343678e19",
      "maxBackoffPeriod" : "10 mins",
      "name" : "SplitJson",
      "penaltyDuration" : "30 sec",
      "position" : {
        "x" : -688.0,
        "y" : 336.0
      },
      "properties" : {
        "Max String Length" : "100 MB",
        "Null Value Representation" : "empty string",
        "JsonPath Expression" : "$.*"
      },
      "propertyDescriptors" : {
        "Max String Length" : {
          "displayName" : "Max String Length",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "Max String Length",
          "sensitive" : false
        },
        "Null Value Representation" : {
          "displayName" : "Null Value Representation",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "Null Value Representation",
          "sensitive" : false
        },
        "JsonPath Expression" : {
          "displayName" : "JsonPath Expression",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "JsonPath Expression",
          "sensitive" : false
        }
      },
      "retriedRelationships" : [ ],
      "retryCount" : 10,
      "runDurationMillis" : 0,
      "scheduledState" : "ENABLED",
      "schedulingPeriod" : "0 sec",
      "schedulingStrategy" : "TIMER_DRIVEN",
      "style" : { },
      "type" : "org.apache.nifi.processors.standard.SplitJson",
      "yieldDuration" : "1 sec"
    }, {
      "autoTerminatedRelationships" : [ ],
      "backoffMechanism" : "PENALIZE_FLOWFILE",
      "bulletinLevel" : "WARN",
      "bundle" : {
        "artifact" : "nifi-standard-nar",
        "group" : "org.apache.nifi",
        "version" : "2.0.0"
      },
      "comments" : "",
      "componentType" : "PROCESSOR",
      "concurrentlySchedulableTaskCount" : 1,
      "executionNode" : "ALL",
      "groupIdentifier" : "flow-contents-group",
      "identifier" : "2fe1943a-1f79-305f-abf8-12fab055ece2",
      "maxBackoffPeriod" : "10 mins",
      "name" : "Combi = True",
      "penaltyDuration" : "30 sec",
      "position" : {
        "x" : 56.0,
        "y" : 600.0
      },
      "properties" : {
        "Routing Strategy" : "Route to 'match' if any matches",
        "combi" : "${_SUBS_combi:equals(true)}",
        "array_combi" : "${_SUBS_combi:toString():matches('\\\\[true(,true)*\\\\]')}"
      },
      "propertyDescriptors" : {
        "Routing Strategy" : {
          "displayName" : "Routing Strategy",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "Routing Strategy",
          "sensitive" : false
        },
        "combi" : {
          "displayName" : "combi",
          "dynamic" : true,
          "identifiesControllerService" : false,
          "name" : "combi",
          "sensitive" : false
        },
        "array_combi" : {
          "displayName" : "array_combi",
          "dynamic" : true,
          "identifiesControllerService" : false,
          "name" : "array_combi",
          "sensitive" : false
        }
      },
      "retriedRelationships" : [ ],
      "retryCount" : 10,
      "runDurationMillis" : 25,
      "scheduledState" : "ENABLED",
      "schedulingPeriod" : "0 sec",
      "schedulingStrategy" : "TIMER_DRIVEN",
      "style" : { },
      "type" : "org.apache.nifi.processors.standard.RouteOnAttribute",
      "yieldDuration" : "1 sec"
    }, {
      "autoTerminatedRelationships" : [ "failure" ],
      "backoffMechanism" : "PENALIZE_FLOWFILE",
      "bulletinLevel" : "WARN",
      "bundle" : {
        "artifact" : "nifi-standard-nar",
        "group" : "org.apache.nifi",
        "version" : "2.0.0"
      },
      "comments" : "",
      "componentType" : "PROCESSOR",
      "concurrentlySchedulableTaskCount" : 1,
      "executionNode" : "ALL",
      "groupIdentifier" : "flow-contents-group",
      "identifier" : "3d4b5d65-8770-34fe-a2b2-69b57924671e",
      "maxBackoffPeriod" : "10 mins",
      "name" : "vm_product_subs",
      "penaltyDuration" : "30 sec",
      "position" : {
        "x" : -776.0,
        "y" : -288.0
      },
      "properties" : {
        "esql-max-rows" : "0",
        "esqlrecord-record-writer" : "26c267fa-0529-30b6-8edb-2a7627bfbee9",
        "dbf-default-precision" : "10",
        "Max Wait Time" : "0 seconds",
        "Database Connection Pooling Service" : "82869c99-361d-3767-9f03-b7be5cc98a0b",
        "esql-auto-commit" : "true",
        "dbf-user-logical-types" : "false",
        "dbf-default-scale" : "0",
        "esql-output-batch-size" : "0",
        "esql-fetch-size" : "0",
        "SQL select query" : "SELECT \n    us_cum,\n    animal_status,\n    species_bit,\n    id,\n    cum,\n    atc_code,\n    aim_code,\n    official_id,\n    shortdesc,\n    presentation,\n    ab,\n    pm,\n    species,\n    uom_categ,\n    uom_categ_id,\n    measure_tot,\n    measure_tot_un,\n    sa_sporsms,\n    sa_desc,\n    sa_dose,\n    sa_dose_un,\n    measure_unit,\n    measure_unit_un,\n    sa_princ,  \n    route_bit,\n    acting,\n    active, \n    updated,\n    tags,\n    num_subs\nFROM \n    pemv.vm_product_subs\nWHERE\n\t(species_bit & '10000000000000000000000'::bit(23))::int <> 0  AND (route_bit & '0001000'::bit(7))::int <> 0\nORDER BY \n    num_subs DESC, \n    us_cum ASC, \n    animal_status ASC, \n    species_bit ASC",
        "esqlrecord-normalize" : "false"
      },
      "propertyDescriptors" : {
        "esql-max-rows" : {
          "displayName" : "Max Rows Per Flow File",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "esql-max-rows",
          "sensitive" : false
        },
        "esqlrecord-record-writer" : {
          "displayName" : "Record Writer",
          "dynamic" : false,
          "identifiesControllerService" : true,
          "name" : "esqlrecord-record-writer",
          "sensitive" : false
        },
        "dbf-default-precision" : {
          "displayName" : "Default Decimal Precision",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "dbf-default-precision",
          "sensitive" : false
        },
        "Max Wait Time" : {
          "displayName" : "Max Wait Time",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "Max Wait Time",
          "sensitive" : false
        },
        "Database Connection Pooling Service" : {
          "displayName" : "Database Connection Pooling Service",
          "dynamic" : false,
          "identifiesControllerService" : true,
          "name" : "Database Connection Pooling Service",
          "sensitive" : false
        },
        "sql-post-query" : {
          "displayName" : "SQL Post-Query",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "sql-post-query",
          "sensitive" : false
        },
        "esql-auto-commit" : {
          "displayName" : "Set Auto Commit",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "esql-auto-commit",
          "sensitive" : false
        },
        "dbf-user-logical-types" : {
          "displayName" : "Use Avro Logical Types",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "dbf-user-logical-types",
          "sensitive" : false
        },
        "dbf-default-scale" : {
          "displayName" : "Default Decimal Scale",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "dbf-default-scale",
          "sensitive" : false
        },
        "sql-pre-query" : {
          "displayName" : "SQL Pre-Query",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "sql-pre-query",
          "sensitive" : false
        },
        "esql-output-batch-size" : {
          "displayName" : "Output Batch Size",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "esql-output-batch-size",
          "sensitive" : false
        },
        "esql-fetch-size" : {
          "displayName" : "Fetch Size",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "esql-fetch-size",
          "sensitive" : false
        },
        "SQL select query" : {
          "displayName" : "SQL select query",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "SQL select query",
          "sensitive" : false
        },
        "esqlrecord-normalize" : {
          "displayName" : "Normalize Table/Column Names",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "esqlrecord-normalize",
          "sensitive" : false
        }
      },
      "retriedRelationships" : [ ],
      "retryCount" : 10,
      "runDurationMillis" : 0,
      "scheduledState" : "ENABLED",
      "schedulingPeriod" : "10 min",
      "schedulingStrategy" : "TIMER_DRIVEN",
      "style" : { },
      "type" : "org.apache.nifi.processors.standard.ExecuteSQLRecord",
      "yieldDuration" : "1 sec"
    }, {
      "autoTerminatedRelationships" : [ "failure" ],
      "backoffMechanism" : "PENALIZE_FLOWFILE",
      "bulletinLevel" : "WARN",
      "bundle" : {
        "artifact" : "nifi-standard-nar",
        "group" : "org.apache.nifi",
        "version" : "2.0.0"
      },
      "comments" : "",
      "componentType" : "PROCESSOR",
      "concurrentlySchedulableTaskCount" : 1,
      "executionNode" : "ALL",
      "groupIdentifier" : "flow-contents-group",
      "identifier" : "34113e28-9bc4-39ff-9db6-fa42f2d16d9f",
      "maxBackoffPeriod" : "10 mins",
      "name" : "SplitJson",
      "penaltyDuration" : "30 sec",
      "position" : {
        "x" : 48.0,
        "y" : 136.0
      },
      "properties" : {
        "Max String Length" : "100 MB",
        "Null Value Representation" : "empty string",
        "JsonPath Expression" : "$.*"
      },
      "propertyDescriptors" : {
        "Max String Length" : {
          "displayName" : "Max String Length",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "Max String Length",
          "sensitive" : false
        },
        "Null Value Representation" : {
          "displayName" : "Null Value Representation",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "Null Value Representation",
          "sensitive" : false
        },
        "JsonPath Expression" : {
          "displayName" : "JsonPath Expression",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "JsonPath Expression",
          "sensitive" : false
        }
      },
      "retriedRelationships" : [ ],
      "retryCount" : 10,
      "runDurationMillis" : 0,
      "scheduledState" : "ENABLED",
      "schedulingPeriod" : "0 sec",
      "schedulingStrategy" : "TIMER_DRIVEN",
      "style" : { },
      "type" : "org.apache.nifi.processors.standard.SplitJson",
      "yieldDuration" : "1 sec"
    }, {
      "autoTerminatedRelationships" : [ ],
      "backoffMechanism" : "PENALIZE_FLOWFILE",
      "bulletinLevel" : "WARN",
      "bundle" : {
        "artifact" : "nifi-standard-nar",
        "group" : "org.apache.nifi",
        "version" : "2.0.0"
      },
      "comments" : "",
      "componentType" : "PROCESSOR",
      "concurrentlySchedulableTaskCount" : 1,
      "executionNode" : "ALL",
      "groupIdentifier" : "flow-contents-group",
      "identifier" : "d5ca1039-2ba4-3a0a-bc12-11d4f11719e0",
      "maxBackoffPeriod" : "10 mins",
      "name" : "NÃO É UM MEDICAMENTO ? ",
      "penaltyDuration" : "30 sec",
      "position" : {
        "x" : -216.0,
        "y" : 2416.0
      },
      "properties" : {
        "Routing Strategy" : "Route to Property name",
        "_IS_NOT_PRODUCT" : "${_IS_PRODUCT:equals(false)}"
      },
      "propertyDescriptors" : {
        "Routing Strategy" : {
          "displayName" : "Routing Strategy",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "Routing Strategy",
          "sensitive" : false
        },
        "_IS_NOT_PRODUCT" : {
          "displayName" : "_IS_NOT_PRODUCT",
          "dynamic" : true,
          "identifiesControllerService" : false,
          "name" : "_IS_NOT_PRODUCT",
          "sensitive" : false
        }
      },
      "retriedRelationships" : [ ],
      "retryCount" : 10,
      "runDurationMillis" : 25,
      "scheduledState" : "ENABLED",
      "schedulingPeriod" : "0 sec",
      "schedulingStrategy" : "TIMER_DRIVEN",
      "style" : { },
      "type" : "org.apache.nifi.processors.standard.RouteOnAttribute",
      "yieldDuration" : "1 sec"
    }, {
      "autoTerminatedRelationships" : [ "failure" ],
      "backoffMechanism" : "PENALIZE_FLOWFILE",
      "bulletinLevel" : "WARN",
      "bundle" : {
        "artifact" : "nifi-standard-nar",
        "group" : "org.apache.nifi",
        "version" : "2.0.0"
      },
      "comments" : "",
      "componentType" : "PROCESSOR",
      "concurrentlySchedulableTaskCount" : 1,
      "executionNode" : "ALL",
      "groupIdentifier" : "flow-contents-group",
      "identifier" : "2ea8702a-e278-3e88-98f5-fdd4e0c237d5",
      "maxBackoffPeriod" : "10 mins",
      "name" : "subs_ddd_dcd",
      "penaltyDuration" : "30 sec",
      "position" : {
        "x" : 72.0,
        "y" : -464.0
      },
      "properties" : {
        "esql-max-rows" : "0",
        "esqlrecord-record-writer" : "a71156c4-3f0d-39c8-9f2c-1e011b728529",
        "dbf-default-precision" : "10",
        "Max Wait Time" : "0 seconds",
        "Database Connection Pooling Service" : "82869c99-361d-3767-9f03-b7be5cc98a0b",
        "esql-auto-commit" : "true",
        "dbf-user-logical-types" : "false",
        "dbf-default-scale" : "0",
        "esql-output-batch-size" : "0",
        "esql-fetch-size" : "0",
        "SQL select query" : "select\n\tid,\n\tcomp,\n\tspecies_bit,\n\tstatus,\n\tatcvet,\n\tsa_order,\n\tsa_sporsms,\n\tsa_desc,\n\tantimicro_class,\n\troute_ddd,\n\troute_bit,\n\tdddvet,\n\tdcdvet,\n\tunit,\n\tconv_factor,\n\tcombi,\n\tacting,\n\tobs\nfrom\n\tpemv.subs_ddd_dcd\nWHERE\n\t(species_bit & '10000000000000000000000'::bit(23))::int <> 0  AND (route_bit & '0001000'::bit(7))::int <> 0\norder by\n\tcomp asc,\n\tid asc,\n\tstatus asc,\n\tspecies_bit asc,\n\troute_bit asc,\n\tacting asc",
        "esqlrecord-normalize" : "false"
      },
      "propertyDescriptors" : {
        "esql-max-rows" : {
          "displayName" : "Max Rows Per Flow File",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "esql-max-rows",
          "sensitive" : false
        },
        "esqlrecord-record-writer" : {
          "displayName" : "Record Writer",
          "dynamic" : false,
          "identifiesControllerService" : true,
          "name" : "esqlrecord-record-writer",
          "sensitive" : false
        },
        "dbf-default-precision" : {
          "displayName" : "Default Decimal Precision",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "dbf-default-precision",
          "sensitive" : false
        },
        "Max Wait Time" : {
          "displayName" : "Max Wait Time",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "Max Wait Time",
          "sensitive" : false
        },
        "Database Connection Pooling Service" : {
          "displayName" : "Database Connection Pooling Service",
          "dynamic" : false,
          "identifiesControllerService" : true,
          "name" : "Database Connection Pooling Service",
          "sensitive" : false
        },
        "sql-post-query" : {
          "displayName" : "SQL Post-Query",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "sql-post-query",
          "sensitive" : false
        },
        "esql-auto-commit" : {
          "displayName" : "Set Auto Commit",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "esql-auto-commit",
          "sensitive" : false
        },
        "dbf-user-logical-types" : {
          "displayName" : "Use Avro Logical Types",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "dbf-user-logical-types",
          "sensitive" : false
        },
        "dbf-default-scale" : {
          "displayName" : "Default Decimal Scale",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "dbf-default-scale",
          "sensitive" : false
        },
        "sql-pre-query" : {
          "displayName" : "SQL Pre-Query",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "sql-pre-query",
          "sensitive" : false
        },
        "esql-output-batch-size" : {
          "displayName" : "Output Batch Size",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "esql-output-batch-size",
          "sensitive" : false
        },
        "esql-fetch-size" : {
          "displayName" : "Fetch Size",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "esql-fetch-size",
          "sensitive" : false
        },
        "SQL select query" : {
          "displayName" : "SQL select query",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "SQL select query",
          "sensitive" : false
        },
        "esqlrecord-normalize" : {
          "displayName" : "Normalize Table/Column Names",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "esqlrecord-normalize",
          "sensitive" : false
        }
      },
      "retriedRelationships" : [ ],
      "retryCount" : 10,
      "runDurationMillis" : 0,
      "scheduledState" : "ENABLED",
      "schedulingPeriod" : "10 min",
      "schedulingStrategy" : "TIMER_DRIVEN",
      "style" : { },
      "type" : "org.apache.nifi.processors.standard.ExecuteSQLRecord",
      "yieldDuration" : "1 sec"
    }, {
      "autoTerminatedRelationships" : [ "original", "failure" ],
      "backoffMechanism" : "PENALIZE_FLOWFILE",
      "bulletinLevel" : "WARN",
      "bundle" : {
        "artifact" : "nifi-standard-nar",
        "group" : "org.apache.nifi",
        "version" : "2.0.0"
      },
      "comments" : "",
      "componentType" : "PROCESSOR",
      "concurrentlySchedulableTaskCount" : 1,
      "executionNode" : "ALL",
      "groupIdentifier" : "flow-contents-group",
      "identifier" : "535f45e5-9119-344f-92e1-fb3dcf2c20c1",
      "maxBackoffPeriod" : "10 mins",
      "name" : "SplitJson",
      "penaltyDuration" : "30 sec",
      "position" : {
        "x" : 1400.0,
        "y" : 2904.0
      },
      "properties" : {
        "Max String Length" : "100 MB",
        "Null Value Representation" : "empty string",
        "JsonPath Expression" : "$.*"
      },
      "propertyDescriptors" : {
        "Max String Length" : {
          "displayName" : "Max String Length",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "Max String Length",
          "sensitive" : false
        },
        "Null Value Representation" : {
          "displayName" : "Null Value Representation",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "Null Value Representation",
          "sensitive" : false
        },
        "JsonPath Expression" : {
          "displayName" : "JsonPath Expression",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "JsonPath Expression",
          "sensitive" : false
        }
      },
      "retriedRelationships" : [ ],
      "retryCount" : 10,
      "runDurationMillis" : 0,
      "scheduledState" : "ENABLED",
      "schedulingPeriod" : "0 sec",
      "schedulingStrategy" : "TIMER_DRIVEN",
      "style" : { },
      "type" : "org.apache.nifi.processors.standard.SplitJson",
      "yieldDuration" : "1 sec"
    }, {
      "autoTerminatedRelationships" : [ "original", "failure" ],
      "backoffMechanism" : "PENALIZE_FLOWFILE",
      "bulletinLevel" : "WARN",
      "bundle" : {
        "artifact" : "nifi-standard-nar",
        "group" : "org.apache.nifi",
        "version" : "2.0.0"
      },
      "comments" : "",
      "componentType" : "PROCESSOR",
      "concurrentlySchedulableTaskCount" : 1,
      "executionNode" : "ALL",
      "groupIdentifier" : "flow-contents-group",
      "identifier" : "68f303b9-7844-3934-9bb1-1dd9774e4f5b",
      "maxBackoffPeriod" : "10 mins",
      "name" : "Merge_Medicamentos",
      "penaltyDuration" : "30 sec",
      "position" : {
        "x" : -240.0,
        "y" : 3376.0
      },
      "properties" : {
        "Keep Path" : "false",
        "Merge Strategy" : "Bin-Packing Algorithm",
        "Attribute Strategy" : "Keep Only Common Attributes",
        "Compression Level" : "1",
        "Maximum Number of Entries" : "1000",
        "Minimum Group Size" : "0 B",
        "Maximum number of Bins" : "5",
        "Tar Modified Time" : "${file.lastModifiedTime}",
        "Delimiter Strategy" : "Text",
        "Merge Format" : "Binary Concatenation",
        "Footer File" : "]",
        "Demarcator File" : ",",
        "Header File" : "[",
        "mergecontent-metadata-strategy" : "Do Not Merge Uncommon Metadata",
        "Minimum Number of Entries" : "1"
      },
      "propertyDescriptors" : {
        "Keep Path" : {
          "displayName" : "Keep Path",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "Keep Path",
          "sensitive" : false
        },
        "Maximum Group Size" : {
          "displayName" : "Maximum Group Size",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "Maximum Group Size",
          "sensitive" : false
        },
        "Merge Strategy" : {
          "displayName" : "Merge Strategy",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "Merge Strategy",
          "sensitive" : false
        },
        "Attribute Strategy" : {
          "displayName" : "Attribute Strategy",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "Attribute Strategy",
          "sensitive" : false
        },
        "Compression Level" : {
          "displayName" : "Compression Level",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "Compression Level",
          "sensitive" : false
        },
        "Maximum Number of Entries" : {
          "displayName" : "Maximum Number of Entries",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "Maximum Number of Entries",
          "sensitive" : false
        },
        "Minimum Group Size" : {
          "displayName" : "Minimum Group Size",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "Minimum Group Size",
          "sensitive" : false
        },
        "Maximum number of Bins" : {
          "displayName" : "Maximum number of Bins",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "Maximum number of Bins",
          "sensitive" : false
        },
        "Tar Modified Time" : {
          "displayName" : "Tar Modified Time",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "Tar Modified Time",
          "sensitive" : false
        },
        "Delimiter Strategy" : {
          "displayName" : "Delimiter Strategy",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "Delimiter Strategy",
          "sensitive" : false
        },
        "Merge Format" : {
          "displayName" : "Merge Format",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "Merge Format",
          "sensitive" : false
        },
        "Footer File" : {
          "displayName" : "Footer",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "Footer File",
          "resourceDefinition" : {
            "cardinality" : "SINGLE",
            "resourceTypes" : [ "FILE", "TEXT" ]
          },
          "sensitive" : false
        },
        "Max Bin Age" : {
          "displayName" : "Max Bin Age",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "Max Bin Age",
          "sensitive" : false
        },
        "Demarcator File" : {
          "displayName" : "Demarcator",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "Demarcator File",
          "resourceDefinition" : {
            "cardinality" : "SINGLE",
            "resourceTypes" : [ "FILE", "TEXT" ]
          },
          "sensitive" : false
        },
        "Correlation Attribute Name" : {
          "displayName" : "Correlation Attribute Name",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "Correlation Attribute Name",
          "sensitive" : false
        },
        "Header File" : {
          "displayName" : "Header",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "Header File",
          "resourceDefinition" : {
            "cardinality" : "SINGLE",
            "resourceTypes" : [ "FILE", "TEXT" ]
          },
          "sensitive" : false
        },
        "mergecontent-metadata-strategy" : {
          "displayName" : "Metadata Strategy",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "mergecontent-metadata-strategy",
          "sensitive" : false
        },
        "Minimum Number of Entries" : {
          "displayName" : "Minimum Number of Entries",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "Minimum Number of Entries",
          "sensitive" : false
        }
      },
      "retriedRelationships" : [ ],
      "retryCount" : 10,
      "runDurationMillis" : 0,
      "scheduledState" : "ENABLED",
      "schedulingPeriod" : "0 sec",
      "schedulingStrategy" : "TIMER_DRIVEN",
      "style" : { },
      "type" : "org.apache.nifi.processors.standard.MergeContent",
      "yieldDuration" : "1 sec"
    } ],
    "remoteProcessGroups" : [ ],
    "scheduledState" : "ENABLED",
    "statelessFlowTimeout" : "1 min"
  },
  "flowEncodingVersion" : "1.0",
  "latest" : false,
  "parameterContexts" : {
    "DEV" : {
      "componentType" : "PARAMETER_CONTEXT",
      "inheritedParameterContexts" : [ ],
      "name" : "DEV",
      "parameters" : [ {
        "description" : "Nome do schema da base de dados",
        "name" : "schema_db_name",
        "provided" : false,
        "sensitive" : false,
        "value" : "nifi"
      }, {
        "description" : "Valor da tag que vai ser inserida no objeto do MinIO",
        "name" : "metadata_tag",
        "provided" : false,
        "sensitive" : false,
        "value" : "carbon_footprint_"
      }, {
        "description" : "Url da api do minIO em desenvolvimento",
        "name" : "MinIO_URL",
        "provided" : false,
        "sensitive" : false,
        "value" : "http://myminio:9000"
      }, {
        "description" : "Pasta para acessar dentro do bucket",
        "name" : "bucket_folder",
        "provided" : false,
        "sensitive" : false,
        "value" : "newdata"
      }, {
        "description" : "Nome da tabela da bd pra inserir dados do container",
        "name" : "db_name",
        "provided" : false,
        "sensitive" : false,
        "value" : "container"
      }, {
        "description" : "Nome do bucket do MinIO",
        "name" : "bucket_name",
        "provided" : false,
        "sensitive" : false,
        "value" : "shipdata"
      }, {
        "description" : "",
        "name" : "Prefix",
        "provided" : false,
        "sensitive" : false,
        "value" : "ships/BOREALIS"
      }, {
        "description" : "prefix de uma viagem do navio",
        "name" : "Object Tags Prefix",
        "provided" : false,
        "sensitive" : false,
        "value" : "ships/${shipName}/${year}/${month}/${day}/${num_processo}/"
      }, {
        "description" : "Valor da tag para pesquisar o valor de metadata_tag no objeto do MinIO",
        "name" : "searchByMetadata_tag",
        "provided" : false,
        "sensitive" : false,
        "value" : "carbon_footprint_20241204"
      } ]
    }
  },
  "parameterProviders" : { },
  "snapshotMetadata" : {
    "author" : "nifi",
    "flowIdentifier" : "DDDs",
    "timestamp" : 0
  }
}